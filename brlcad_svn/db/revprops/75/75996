K 10
svn:author
V 10
starseeker
K 8
svn:date
V 27
2020-06-01T17:04:16.830582Z
K 7
svn:log
V 1069
CMake's install() throws a wrinkle into the generator expression usage when
combined with add_custom_command.  Somewhat surprisingly it looks as if it can
work, but requires that the custom command be linked to a custom target that
has ALL set so it gets triggered before install takes place.  This is necessary
because we can't pass generator expression paths into the OUTPUT entry of
add_custom_command, so we can't establish a direct file dependency in the build
process.  Nor (as far as I can tell) can we explicitly set target dependencies
for install rules, so we need the ALL enabled target to hook our custom target
in under the install process.

Until the lack of generator expression support in add_custom_command's OUTPUT
specifiers is addressed (https://gitlab.kitware.com/cmake/cmake/-/issues/12877)
it's probably not worth reengineering the DocBook build to shift us off the
existing mechanism - right now it looks like we would be trading one
functional-but-ackward solution for what would probably end up being another
functional-but-ackward solution.


END
