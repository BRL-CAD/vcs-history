K 10
svn:author
V 9
bhinesley
K 8
svn:date
V 27
2011-08-01T20:09:32.123330Z
K 7
svn:log
V 899
One of the translate cmd's functions was not detecting missing "TO" args, which ged_edit() intentionally doesn't detect if the -k option isn't given. A function to free edit_cmd obj's was only partially working since args were changed from being automatic to malloc'd. Fixed several related/unrelated problems with regard to freeing and allocating memory. Added a helper function to only free args if they are unused, which saved some checks/vars later on. There were some mistakes due to copy/pasting in r45743. On top of that, there was an oversight; it was incorrectly assumed that a NULL ptr indicated the last arg in edit_cmd_get_next_arg_head() and friends, but any arg can be NULL if it is simply not used (duh). Now it simply loops through the args infinitely, leaving it up to the caller to recognize the arg they started on, and terminate the loop. No more known bugs that cause crashes :)
END
