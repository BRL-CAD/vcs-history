K 10
svn:author
V 6
brlcad
K 8
svn:date
V 27
2011-12-07T02:34:59.713502Z
K 7
svn:log
V 1018
De-tcl two rather intertwined libbu functions, bu_observer_cmd() and bu_cmd(), along with all of the command history functions.  Define bu_cmdtab callback signature so we get proper type checking, but instead of clientdata+tclinterp, make it a void* and make argv const.  Those changes end up impacting nearly 8k lines of caller code where we have to update the (mostly-but-not-all-deprecated) various "tcl object" codes to pass their data around within the new observer and cmd callbacks without being explicit function parameters.  Remove most of the deprecated/obsolete object API declarations while we're at it so further use isn't encouraged.

While moderately equivalent to the prior behavior, this patch does change numerous command outputs from going to the Tcl channel to instead getting output through bu_log.   Of course, even through most of the caller code is deprecated, more testing is warranted (particularly for archer).

This involved approximately 26 hours of continuous effort.  My pinky is tired.

END
