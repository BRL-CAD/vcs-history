K 10
svn:author
V 6
brlcad
K 8
svn:date
V 27
2016-09-28T13:03:34.030756Z
K 7
svn:log
V 806
fix infinite loop bug in rt when using non-infinite shadow-casting lights.  multiple issues going on, first being to not loop indefinitely when calling rt_shootray to find light samples if we don't acquire the sample (for whatever reason).  since light samples were being randomly created using BN_RANDOM which has a *very* small cycle, use that limit as termination criteria here.  probably want a better way (and better randomness).

the second problem was introduced in 28642 when I was apparently chasing a null derefernce, I'd added an if(&array) check.  as always true, it was logically harmless until in 65111 jon noticed the always true logic and presumed the intent was if(array) which made the logic always false thus causing light sources to never get initialized and samples to spin infinitely.
END
