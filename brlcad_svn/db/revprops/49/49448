K 10
svn:author
V 10
starseeker
K 8
svn:date
V 27
2012-02-16T08:04:37.291920Z
K 7
svn:log
V 1563
'Anything worth doing is worth applying insane overengineering to, or something like that... This takes the CMake distcheck architecture to the next level.  It modularizes the distcheck process into repository verification, source generation, and build/regress testing components, with appropriate dependencies.  In addition to the advantage of being able to run 'only what you need' if, say, you want to check repo verification status this actually makes distribution testing of multiple build/configure settings independent.  So if distcheck needs to test both Debug and Release CMAKE_BUILD_TYPE settings (which looks like a good idea) a make -j9 distcheck will do the repo verifiction, build the source archives and launch multiple builds of BRL-CAD in parallel.  On massively parallel machines this means not only C source compilations in parallel but multiple CMake configures running in parallel as well.  The logging by default is much quieter now, althought there is a variable override if needed... to monitor the progress of individual configurations' builds you can now tail -f the distcheck_<type>.log files in the build directory - so even for parallel testing of multiple configurations the logging is organized automatically.  The standard distcheck target will do Debug and Release, but there is also a distcheck-full target that will run ALL defined configurations.  Right now there aren't any more, but there are some obvious candiates like a non-Tk build, and they can be added to distcheck-full with a single definition line in Distcheck.cmake
END
