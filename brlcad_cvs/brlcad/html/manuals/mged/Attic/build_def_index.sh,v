head	1.6;
access;
symbols
	ansi-20040405-merged:1.5
	postmerge-20040405-ansi:1.5
	premerge-20040404-ansi:1.5
	postmerge-autoconf:1.5
	autoconf-freeze:1.5
	premerge-autoconf:1.5
	ansi-20040316-freeze:1.5
	postmerge-20040315-windows:1.5
	premerge-20040315-windows:1.5
	windows-20040315-freeze:1.5
	autoconf-20031203:1.5
	autoconf-20031202:1.5
	autoconf-branch:1.5.0.12
	phong-branch:1.5.0.10
	photonmap-branch:1.5.0.8
	rel-6-1-DP:1.5
	windows-branch:1.5.0.6
	rel-6-0-2:1.5
	ansi-branch:1.5.0.4
	rel-6-0-1-branch:1.5.0.2
	hartley-6-0-post:1.5
	hartley-6-0-pre:1.5
	rel-6-0-1:1.5
	rel-6-0:1.5
	rel-5-4:1.4
	offsite-5-3-pre:1.4
	rel-5-3:1.4
	rel-5-2:1.4
	rel-5-1-branch:1.4.0.2
	rel-5-1:1.4
	rel-5-0:1.4
	rel-5-0-beta:1.3;
locks; strict;
comment	@# @;


1.6
date	2004.05.21.17.49.57;	author morrison;	state dead;
branches;
next	1.5;

1.5
date	2002.03.20.00.37.22;	author morrison;	state Exp;
branches;
next	1.4;

1.4
date	99.09.01.18.01.53;	author bparker;	state Exp;
branches;
next	1.3;

1.3
date	99.04.20.20.05.41;	author bparker;	state Exp;
branches;
next	1.2;

1.2
date	99.02.24.19.06.16;	author bparker;	state Exp;
branches;
next	1.1;

1.1
date	99.01.28.22.34.33;	author bparker;	state Exp;
branches;
next	;


desc
@@


1.6
log
@moved to doc/html/
@
text
@#!/bin/sh

echo "WARNING: The MGED Command Help file has been manually set from the"
echo "         export of the MGED Users Manual (external document) and is"
echo "         no longer in sync with the previous html command files"
echo "         stored here.  (This is a temporary solution until a better"
echo "         system is in place)"

#########################################################################
#									#
#			    build_def_index.sh				#
#									#
# Use this shell script to build an HTML index file from one or more	#
# definition files. In this context, a definition file is one that	#
# contains HTML definition terms of the following forms:		#
#									#
#    <DT><a NAME="term_anchor_name"><B>term_name</B></DT>		#
#				or					#
#    <DT><a NAME="term_anchor_name"><B>term_name</B> <I>args</I></DT>	#
#									#
# Author -								#
#	Robert G. Parker						#
#									#
# Source -								#
#	SLAD/BND/ACST							#
#	The U. S. Army Research Laboratory				#
#	Aberdeen Proving Ground, Maryland  21005-5066			#
#									#
#########################################################################

NUM_COLUMNS_INDEX=3
CELLSPACING_INDEX=8

NUM_COLUMNS=5
CELLSPACING=4

# Note that spaces are not allowed. Here we use comma's instead of spaces.
DEF_FILES_AND_TITLES="{{mged_cmds.html}{MGED,User,Commands}}
    {{mged_devel_cmds.html}{MGED,Developer,Commands}}"
TARGET_FILE=mged_cmd_index.html

if test -f $TARGET_FILE
then
    rm $TARGET_FILE
fi

echo "<!-- ******************** DO NOT EDIT ********************* -->" >> $TARGET_FILE
echo "<!-- This file was generated by running build_def_index.sh. -->" >> $TARGET_FILE
echo "" >> $TARGET_FILE
echo "<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 3.2//EN\">" >> $TARGET_FILE
echo "<HTML>" >> $TARGET_FILE
echo "" >> $TARGET_FILE
echo "<HEAD>" >> $TARGET_FILE
echo "<TITLE>MGED Command Index</Title>" >> $TARGET_FILE
echo "</HEAD>" >> $TARGET_FILE
echo "" >> $TARGET_FILE
echo "<BODY BGCOLOR=\"#E0D8c8\" TEXT=\"#000000\">" >> $TARGET_FILE
echo "" >> $TARGET_FILE

# Build index of definition indexes
DEF_INDEX_INDEX="<TABLE CELLSPACING=$CELLSPACING_INDEX>"
count=-1
for DEF_FILE_AND_TITLE in ${DEF_FILES_AND_TITLES}
do
	count=`expr $count + 1`
	if test `expr $count % $NUM_COLUMNS_INDEX` = 0
	then
		if test $count -gt 0
		then
			DEF_INDEX_INDEX="$DEF_INDEX_INDEX</TR>"
		fi

		DEF_INDEX_INDEX="$DEF_INDEX_INDEX<TR>"
	fi

	TITLE=`echo $DEF_FILE_AND_TITLE |
	    sed 's/{{[^{}][^{}]*}{\([^{}][^{}]*\)}}/\1/g
		s/,/ /g'`
	ANCHOR_NAME=`echo $DEF_FILE_AND_TITLE |
	    sed 's/{{[^{}][^{}]*}{\([^{}][^{}]*\)}}/\1/g
		s/,/_/g'`
	DEF_INDEX_INDEX="$DEF_INDEX_INDEX<TD><a href=\"$TARGET_FILE#$ANCHOR_NAME\">$TITLE</a></TD>"
done
DEF_INDEX_INDEX="$DEF_INDEX_INDEX</TR></TABLE>"

for DEF_FILE_AND_TITLE in ${DEF_FILES_AND_TITLES}
do
	DEF_FILE=`echo $DEF_FILE_AND_TITLE |
	    sed 's/{{\([^{}][^{}]*\)}{[^{}][^{}]*}}/\1/g'`
	TITLE=`echo $DEF_FILE_AND_TITLE |
	    sed 's/{{[^{}][^{}]*}{\([^{}][^{}]*\)}}/\1/g
		s/,/ /g'`
	ANCHOR_NAME=`echo $DEF_FILE_AND_TITLE |
	    sed 's/{{[^{}][^{}]*}{\([^{}][^{}]*\)}}/\1/g
		s/,/_/g'`

	DEFS_AND_ANCHORS=`sed -n 's/<DT>[ ]*<a[ ][ ]*NAME="\([a-zA-Z0-9_?%][a-zA-Z0-9_?%]*\)"[ ]*>[ ]*<B>[ ]*\([a-zA-Z0-9_?%][a-zA-Z0-9_?%]*\)[ ]*<\/B>.*/{{\2}{\1}}/p' $DEF_FILE`

	echo "<a NAME=\"$ANCHOR_NAME\">" >> $TARGET_FILE
	echo "$DEF_INDEX_INDEX" >> $TARGET_FILE
	echo "<CENTER><H1>$TITLE</H1></CENTER>" >> $TARGET_FILE
	echo "<TABLE CELLSPACING=$CELLSPACING>" >> $TARGET_FILE
	count=-1

	for DEF_AND_ANCHOR in ${DEFS_AND_ANCHORS}
	do
	    count=`expr $count + 1`
	    if test `expr $count % $NUM_COLUMNS` = 0
	    then
		if test $count -gt 0
		then
		    echo "</TR>" >> $TARGET_FILE
		fi

		echo "<TR>" >> $TARGET_FILE
	    fi

	    DEF=`echo $DEF_AND_ANCHOR |
		    sed 's/{{\([a-zA-Z0-9_?%][a-zA-Z0-9_?%]*\)}{[a-zA-Z0-9_?%][a-zA-Z0-9_?%]*}}/\1/g'`
	    ANCHOR=`echo $DEF_AND_ANCHOR |
		    sed 's/{{[a-zA-Z0-9_?%][a-zA-Z0-9_?%]*}{\([a-zA-Z0-9_?%][a-zA-Z0-9_?%]*\)}}/\1/g'`
	    echo "<TD><a href=\"$TARGET_FILE#$ANCHOR\">$DEF</a></TD>" >> $TARGET_FILE
	done

	echo "</TR>" >> $TARGET_FILE
	echo "</TABLE>" >> $TARGET_FILE
	echo "<HR>" >> $TARGET_FILE
	echo "" >> $TARGET_FILE
	cat $DEF_FILE >> $TARGET_FILE
done

echo "" >> $TARGET_FILE
echo "$DEF_INDEX_INDEX" >> $TARGET_FILE
echo "</BODY>" >> $TARGET_FILE
echo "</HTML>" >> $TARGET_FILE
@


1.5
log
@Updated the Mged Command listing (html) to match the master list held in the (currently) MGED Users Guide (see pdf in doc/).  Since the two html files (mged_cmds.html & mged_devel_cmds.html) are no longer in sync, they are removed for the time being (so someone does not accidentally editthem (you know who you are\!)) until a more proper system is in place.  hopefully a docbook/xml-based solution..
@
text
@@


1.4
log
@*- mods to fix an invocation of sed that was lopping off
   t's from command names
@
text
@d2 7
@


1.3
log
@*- remove \n from DEF_INDEX_INDEX string. Use of echo on
   linux doesn't properly handle newlines without the -e option.
@
text
@d90 1
a90 1
	DEFS_AND_ANCHORS=`sed -n 's/<DT>[\t ]*<a[\t ][\t ]*NAME="\([a-zA-Z0-9_?%][a-zA-Z0-9_?%]*\)"[\t ]*>[\t ]*<B>[\t ]*\([a-zA-Z0-9_?%][a-zA-Z0-9_?%]*\)[\t ]*<\/B>.*/{{\2}{\1}}/p' $DEF_FILE`
@


1.2
log
@*- added code to strategically place an index of
	definition indexes above each definition
	index and at the end of the file.
@
text
@d33 1
a33 1
TARGET_FILE=mged_cmds_index.html
d63 1
a63 1
			DEF_INDEX_INDEX="$DEF_INDEX_INDEX</TR>\n"
d75 1
a75 1
	DEF_INDEX_INDEX="$DEF_INDEX_INDEX\n<TD><a href=\"$TARGET_FILE#$ANCHOR_NAME\">$TITLE</a></TD>"
@


1.1
log
@A shell script to build HTML index files from one or more
definition files. In this context, a definition file is one
that contains HTML definition terms (i.e. <DT>some term</DT>).
@
text
@d8 1
a8 1
# contains HTML definition terms (i.e. <DT>some term</DT>).		#
d10 4
d24 4
a27 1
NUM_COLUMNS=7
d31 1
a31 1
DEF_FILES_AND_TITLES="{{mged_cmds.html}{MGED,Commands}}
d53 26
d86 3
d92 2
d126 1
@
