head	14.9;
access;
symbols
	rel-7-10-4:14.9
	STABLE:14.9.0.2
	stable-branch:14.4
	rel-7-10-2:14.9
	rel-7-10-0:14.9
	rel-7-8-4:14.7
	rel-7-8-2:14.7
	rel-7-8-0:14.7
	trimnurbs-branch:14.7.0.2
	help:14.7
	temp_tag:14.6
	bobWinPort-20051223-freeze:14.4
	postmerge-20051223-bobWinPort:14.6
	premerge-20051223-bobWinPort:14.6
	rel-7-6-6:14.6
	rel-7-6-4:14.6
	rel-7-6-2:14.4
	rel-7-6-branch:14.4.0.6
	rel-7-6-0:14.4
	rel-7-4-2:14.4
	rel-7-4-branch:14.4.0.4
	bobWinPort:14.4.0.2
	rel-7-4-0:14.4
	rel-7-2-6:14.4
	rel-7-2-4:14.4
	rel-7-2-2:14.4
	rel-7-2-0:14.4
	rel-7-0-4:14.2
	rel-7-0-2:14.2
	rel-7-0-1:14.2
	opensource-post:14.2
	opensource-pre:11.3
	rel-7-0-branch:11.3.0.14
	rel-7-0:11.3
	ansi-20040405-merged:11.3
	postmerge-20040405-ansi:11.3
	premerge-20040404-ansi:11.3
	postmerge-autoconf:11.3
	autoconf-freeze:11.3
	premerge-autoconf:11.3
	postmerge-20040315-windows:11.3
	premerge-20040315-windows:11.3
	windows-20040315-freeze:11.3
	autoconf-20031203:11.3
	autoconf-20031202:11.3
	autoconf-branch:11.3.0.12
	phong-branch:11.3.0.10
	photonmap-branch:11.3.0.8
	rel-6-1-DP:11.3
	windows-branch:11.3.0.6
	rel-6-0-2:11.3
	ansi-branch:11.3.0.4
	rel-6-0-1-branch:11.3.0.2
	hartley-6-0-post:11.3
	hartley-6-0-pre:11.3
	rel-6-0-1:11.3
	rel-6-0:11.3
	rel-5-4:11.1.2.1
	offsite-5-3-pre:11.2
	rel-5-3:11.1
	rel-5-2:11.1
	rel-5-1-branch:11.1.0.2
	rel-5-1:11.1
	rel-5-0:11.1
	rel-5-0-beta:11.1
	rel-4-5:11.1
	ctj-4-5-post:11.1
	ctj-4-5-pre:11.1
	rel-4-4:11.1;
locks; strict;
comment	@# @;


14.9
date	2007.01.26.23.32.26;	author brlcad;	state Exp;
branches;
next	14.8;

14.8
date	2007.01.20.13.57.25;	author brlcad;	state Exp;
branches;
next	14.7;

14.7
date	2006.01.18.06.46.11;	author brlcad;	state Exp;
branches;
next	14.6;

14.6
date	2005.10.23.04.44.27;	author brlcad;	state Exp;
branches;
next	14.5;

14.5
date	2005.10.22.17.36.02;	author brlcad;	state Exp;
branches;
next	14.4;

14.4
date	2005.02.21.20.16.15;	author brlcad;	state Exp;
branches
	14.4.6.1;
next	14.3;

14.3
date	2005.01.30.20.30.12;	author brlcad;	state Exp;
branches;
next	14.2;

14.2
date	2004.12.17.21.01.05;	author morrison;	state Exp;
branches;
next	14.1;

14.1
date	2004.11.16.19.42.12;	author morrison;	state Exp;
branches;
next	11.3;

11.3
date	2001.03.31.01.07.15;	author morrison;	state Exp;
branches;
next	11.2;

11.2
date	2000.09.25.17.31.01;	author butler;	state Exp;
branches;
next	11.1;

11.1
date	95.01.04.09.43.48;	author mike;	state Rel4_4;
branches
	11.1.2.1;
next	1.5;

1.5
date	94.12.07.22.06.30;	author mike;	state Exp;
branches;
next	1.4;

1.4
date	94.10.07.08.52.35;	author jra;	state Exp;
branches;
next	1.3;

1.3
date	94.10.07.08.51.03;	author butler;	state Exp;
branches;
next	1.2;

1.2
date	94.09.24.02.17.17;	author butler;	state Exp;
branches;
next	1.1;

1.1
date	94.09.23.20.01.16;	author mike;	state Exp;
branches;
next	;

11.1.2.1
date	2001.07.11.12.32.08;	author jra;	state Exp;
branches;
next	;

14.4.6.1
date	2005.11.13.13.46.10;	author brlcad;	state Exp;
branches;
next	;


desc
@Bug reporting software
@


14.9
log
@ws
@
text
@#!/bin/sh
#                       C A D B U G . S H
# BRL-CAD
#
# Copyright (c) 2004-2007 United States Government as represented by
# the U.S. Army Research Laboratory.
#
# Redistribution and use in source and binary forms, with or without
# modification, are permitted provided that the following conditions
# are met:
#
# 1. Redistributions of source code must retain the above copyright
# notice, this list of conditions and the following disclaimer.
#
# 2. Redistributions in binary form must reproduce the above
# copyright notice, this list of conditions and the following
# disclaimer in the documentation and/or other materials provided
# with the distribution.
#
# 3. The name of the author may not be used to endorse or promote
# products derived from this software without specific prior written
# permission.
#
# THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS
# OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
# WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
# ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY
# DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
# DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
# GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
# INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
# WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
# NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
# SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
#
###
#
#  A user-friendly shell script to ease the reporting of BRL-CAD bugs.
#
#  Lee Butler, ARL, Sept 1994
#
# $Revision: 14.8 $

if [ -n "$EDITOR" ] ; then
	REPT_EDITOR=$EDITOR
else
	REPT_EDITOR=vi
fi

BUG_REPORT=/tmp/cad_bug.$$

cat > $BUG_REPORT << ___EOF___

Abstract: [Program/library, 40 character or so descriptive subject (for ref)]
Environment: [BRL-CAD Release, Hardware, OS version]
Description:
	[Detailed description of the problem/suggestion/complaint.]

Repeat-By:
	[Describe the sequence of events that causes the problem to occur.]

Fix:
	[Description of how to fix the problem.  If you don't know a
	fix for the problem, don't include this section.]

Please remove the portions in [], and replace with your own remarks.
___EOF___

ACTION=E
while [ 1 ] ; do
	case $ACTION in
		S*|s*)  break ;;
		F*|f*)  rm -f $BUG_REPORT ; exit ;;
		E*|e*)  $REPT_EDITOR $BUG_REPORT ;;
	esac

	ACTION=S
	echo "S)end F)orget E)dit : "
	read ACTION
done


if [ -z "$USER" ] ; then
	USER=`whoami`
fi

BUGEMAIL=bugs@@brlcad.org

FAILED=0
if [ -x /usr/ucb/mail ] ; then
	/usr/ucb/mail -s "BUG REPORT" $BUGEMAIL "$USER" < $BUG_REPORT
	if [ $? -eq 0 ] ; then
		rm -f $BUG_REPORT
		exit
	else
		FAILED=1
		echo "/usr/ucb/mail exited with non-zero status."
		echo "message file $BUG_REPORT not deleted"
	fi
fi

if [ -x /usr/bsd/Mail ] ; then
	/usr/bsd/Mail -s "BUG REPORT" $BUGEMAIL "$USER" < $BUG_REPORT
	if [ $? -eq 0 ] ; then
		rm -f $BUG_REPORT
		exit
	else
		FAILED=1
		echo "/usr/bsd/Mail exited with non-zero status."
		echo "message file $BUG_REPORT not deleted"
	fi
fi

if [ -x /bin/mail ] ; then
	/bin/mail $BUGEMAIL "$USER" < $BUG_REPORT
	if [ $? -eq 0 ] ; then
		rm -f $BUG_REPORT
	else
		FAILED=1
		echo "/bin/mail exited with non-zero status."
		echo "message file $BUG_REPORT not deleted"
	fi
	exit
fi

if [ -x /usr/bin/mail ] ; then
	/usr/bin/mail $BUGEMAIL "$USER" < $BUG_REPORT
	if [ $? -eq 0 ] ; then
		rm -f $BUG_REPORT
	else
		FAILED=1
		echo "/usr/bin/mail exited with non-zero status."
		echo "message file $BUG_REPORT not deleted"
	fi
	exit
fi

if [ $FAILED -eq 1] ; then
	/bin/echo "Mail delivery failed.  Send file $BUG_REPORT to $BUGEMAIL"
else
	/bin/echo "Mail agent not found.  Send file $BUG_REPORT to $BUGEMAIL"
fi

# Local Variables:
# mode: sh
# tab-width: 8
# sh-indentation: 4
# sh-basic-offset: 4
# indent-tabs-mode: t
# End:
# ex: shiftwidth=4 tabstop=8
@


14.8
log
@update copyright to 2007
@
text
@d42 1
a42 1
# $Revision: 14.7 $
d57 1
a57 1
        [Detailed description of the problem/suggestion/complaint.]
d60 1
a60 1
        [Describe the sequence of events that causes the problem to occur.]
d63 2
a64 2
        [Description of how to fix the problem.  If you don't know a
        fix for the problem, don't include this section.]
d72 3
a74 3
		S*|s*)	break ;;
		F*|f*)	rm -f $BUG_REPORT ; exit ;;
		E*|e*)	$REPT_EDITOR $BUG_REPORT ;;
@


14.7
log
@update copyright to 2006
@
text
@d5 1
a5 1
# Copyright (c) 2004-2006 United States Government as represented by
d42 1
a42 1
# $Revision: 14.6 $
@


14.6
log
@trailing ws
@
text
@d5 1
a5 1
# Copyright (C) 2004-2005 United States Government as represented by
d42 1
a42 1
# $Revision: 14.5 $
@


14.5
log
@ws
@
text
@d42 1
a42 1
# $Revision: 14.4 $
d76 1
a76 1
	
d81 1
a81 1
	
@


14.4
log
@update bug e-mail to go to the dev list moderated as bugs@@brlcad.org
@
text
@d15 1
a15 1
# 2. Redistributions in binary form must reproduce the above 
d42 1
a42 1
# $Revision: 14.3 $
@


14.4.6.1
log
@merge changes from HEAD aka rel-7-6-4 to the rel-7-6-branch just in case someone peeks a gander or tries to continue/build the branch
@
text
@d15 1
a15 1
# 2. Redistributions in binary form must reproduce the above
d42 1
a42 1
# $Revision$
d76 1
a76 1

d81 1
a81 1

@


14.3
log
@update copyright to 2005
@
text
@d42 1
a42 1
# $Revision: 14.2 $
d87 1
d91 1
a91 1
	/usr/ucb/mail -s "BUG REPORT" cad-bugs@@arl.army.mil "$USER" < $BUG_REPORT
d103 1
a103 1
	/usr/bsd/Mail -s "BUG REPORT" cad-bugs@@arl.army.mil "$USER" < $BUG_REPORT
d115 1
a115 1
	/bin/mail cad-bugs@@arl.army.mil "$USER" < $BUG_REPORT
d127 1
a127 1
	/usr/bin/mail cad-bugs@@arl.army.mil "$USER" < $BUG_REPORT
d139 1
a139 1
	/bin/echo "Mail delivery failed.  Send file $BUG_REPORT to cad-bugs@@arl.army.mil"
d141 1
a141 1
	/bin/echo "Mail agent not found.  Send file $BUG_REPORT to cad-bugs@@arl.army.mil"
@


14.2
log
@assignment of copyright and BSD license
@
text
@d5 2
a6 2
# Copyright (c) 2004 United States Government as represented by the
# U.S. Army Research Laboratory.
d42 1
a42 1
# $Revision: 14.1 $
@


14.1
log
@dawn of a new revision.  it shall be numbered 14 to match release 7.  begin the convergence by adding emacs/vi local variable footer blocks to encourage consistent formatting.
@
text
@d2 35
a36 1
#			C A D B U G . S H
d42 1
a42 1
# $Revision: 11.3 $
@


11.3
log
@This is bad.  5.3 shipped with cadbug.sh set to mail to arl.mil instead of arl.army.mil.
@
text
@d8 1
a8 1
# $Revision: 11.2 $
d108 9
@


11.2
log
@patched to look int /usr/bin for the mail program to support debian Linux
@
text
@d8 1
a8 1
# $Revision: 11.1 $
d56 1
a56 1
	/usr/ucb/mail -s "BUG REPORT" cad-bugs@@arl.mil "$USER" < $BUG_REPORT
d68 1
a68 1
	/usr/bsd/Mail -s "BUG REPORT" cad-bugs@@arl.mil "$USER" < $BUG_REPORT
d80 1
a80 1
	/bin/mail cad-bugs@@arl.mil "$USER" < $BUG_REPORT
d92 1
a92 1
	/usr/bin/mail cad-bugs@@arl.mil "$USER" < $BUG_REPORT
d104 1
a104 1
	/bin/echo "Mail delivery failed.  Send file $BUG_REPORT to cad-bugs@@arl.mil"
d106 1
a106 1
	/bin/echo "Mail agent not found.  Send file $BUG_REPORT to cad-bugs@@arl.mil"
@


11.1
log
@Release_4.4
@
text
@d8 1
a8 1
# $Revision: 1.5 $
d86 12
@


11.1.2.1
log
@Backporting bug fixes for release 5.4
@
text
@d8 1
a8 1
# $Revision: 11.3 $
d56 1
a56 1
	/usr/ucb/mail -s "BUG REPORT" cad-bugs@@arl.army.mil "$USER" < $BUG_REPORT
d68 1
a68 1
	/usr/bsd/Mail -s "BUG REPORT" cad-bugs@@arl.army.mil "$USER" < $BUG_REPORT
d80 1
a80 1
	/bin/mail cad-bugs@@arl.army.mil "$USER" < $BUG_REPORT
a90 12
if [ -x /usr/bin/mail ] ; then
	/usr/bin/mail cad-bugs@@arl.army.mil "$USER" < $BUG_REPORT
	if [ $? -eq 0 ] ; then
		rm -f $BUG_REPORT
	else
		FAILED=1
		echo "/usr/bin/mail exited with non-zero status."
		echo "message file $BUG_REPORT not deleted"
	fi
	exit
fi

d92 1
a92 1
	/bin/echo "Mail delivery failed.  Send file $BUG_REPORT to cad-bugs@@arl.army.mil"
d94 1
a94 1
	/bin/echo "Mail agent not found.  Send file $BUG_REPORT to cad-bugs@@arl.army.mil"
@


1.5
log
@Bug #227, missing "fi".
@
text
@d8 1
a8 1
# $Revision: 1.4 $
@


1.4
log
@Added "rm -f $BUG_REPORT" to "F" action.
@
text
@d8 1
a8 1
# $Revision: 1.3 $
d95 1
@


1.3
log
@Lee added /usr/bsd/Mail.
@
text
@d8 1
a8 1
# $Revision: 1.2 $
d39 1
a39 1
		F*|f*)	exit ;;
@


1.2
log
@added checks for return codes for the mail programs
@
text
@d8 1
a8 1
# $Revision: 1.1 $
d19 1
d54 1
d59 1
d61 2
a62 1
		echo "mail exited with non-zero status."
a64 1
	exit
d67 12
d84 2
a85 1
		echo "mail exited with non-zero status."
d91 4
a94 1
/bin/echo "Mail agent not found.  Send file $BUG_REPORT to cad-bugs@@arl.mil"
@


1.1
log
@Initial revision
@
text
@d8 1
a8 1
# $Revision: 10.11 $
d55 6
a60 1
	rm -f $BUG_REPORT
d66 6
a71 1
	rm -f $BUG_REPORT
@
