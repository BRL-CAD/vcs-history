head	1.2;
access;
symbols
	ansi-20040405-merged:1.1
	premerge-autoconf:1.1
	ansi-20040316-freeze:1.1
	postmerge-20040315-windows:1.1
	premerge-20040315-windows:1.1
	windows-20040315-freeze:1.1.1.1
	autoconf-20031203:1.1
	autoconf-20031202:1.1
	phong-branch:1.1.0.10
	photonmap-branch:1.1.0.8
	rel-6-1-DP:1.1
	windows-branch:1.1.1
	rel-6-0-2:1.1
	ansi-branch:1.1.0.6
	rel-6-0-1-branch:1.1.0.4
	hartley-6-0-post:1.1
	hartley-6-0-pre:1.1
	rel-6-0-1:1.1
	rel-6-0:1.1
	rel-5-4:1.1
	offsite-5-3-pre:1.1
	rel-5-3:1.1
	rel-5-2:1.1
	rel-5-1-branch:1.1.0.2
	rel-5-1:1.1
	rel-5-0:1.1
	rel-5-0-beta:1.1
	rel-4-5:1.1
	ctj-4-5-post:1.1
	ctj-4-5-pre:1.1
	rel-4-4:1.1
	rel-4-0:1.1
	rel-3-5:1.1
	rel-3-0:1.1
	AUTOCONF:1.1.0.12;
locks; strict;
comment	@# @;


1.2
date	2004.03.18.18.15.13;	author erikg;	state dead;
branches;
next	1.1;

1.1
date	88.03.07.00.09.46;	author mike;	state Exp;
branches
	1.1.1.1
	1.1.12.1;
next	;

1.1.1.1
date	2002.09.26.04.00.59;	author morrison;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2004.03.16.13.52.44;	author morrison;	state Exp;
branches;
next	;

1.1.12.1
date	2004.03.18.18.08.49;	author erikg;	state dead;
branches;
next	;


desc
@Script to determine the type of the current machine
@


1.2
log
@merge of AUTOCONF branch in to HEAD
@
text
@#!/bin/sh
# A Shell script to determine the machine architecture type
# of the current system as a short descriptive string,
# to permit the separation of incompatible binary program files.
#
# This script must correctly report a machine type, of 5 chars or less:
#	vax	DEC VAX-11
#	sel	Gould (SEL) PowerNode (6000 or 9000)
#	fx	Alliant ("Dataflow") FX/4 or FX/8
#	3d	SGI 2400 or 3030
#	4d	SGI 4D
#	sun3	Sun-3 (68020 CPU)
#	sun4	Sun-4 (Sparc CPU)
#	pyr	Pyramid
#	tahoe	CCI/Harris Tahoe
#	cray2	Cray-2
#	xmp	Cray X-M/P
#
# -Mike Muuss, BRL.  6-March-1988

# Exists at least on Suns (eg, says "sun3")
if test -f /bin/arch
then
	/bin/arch; exit 0
fi

# Exists at least on SysV machines
for UNAME in /bin/uname /.attbin/uname
do
	if test -f $UNAME
	then
		case `$UNAME -m` in
		crayxmp)
			echo "xmp"; exit 0;;
		CRAY-2)
			echo "cray2"; exit 0;;
		m68020)
			# Iris specific
			case `$UNAME -t` in
			2300|2300T|3010)
				echo "3d"; exit 0;;
			2400|3030)
				echo "3d"; exit 0;;
			esac;;
		IP4)
			echo "4d"; exit 0;;
		Pyr90Mx)
			echo "pyr"; exit 0;;
		esac
	fi
done

# Vanilla Berkeley systems give few clues as to machine type
if test -d /usr/include/vaxif	; then	echo "vax"	; exit 0; fi
if test -d /usr/include/tahoeif	; then	echo "tahoe"	; exit 0; fi
if test -d /usr/include/selif	; then	echo "sel"	; exit 0; fi
if test -d /usr/include/dfif	; then	echo "fx"	; exit 0; fi

# Final hack for BSD systems:  depend on /etc/rc to put
# system description in 1st line of /etc/motd, use first word as selector
if test "(" -f /etc/motd ")" -a "(" -s /etc/motd ")"
then
	WORD=`sed -n -e "1s/ .*//p" /etc/motd`
	case $WORD in
	UTX/32)
		echo "sel"; exit 0;;
	Alliant)
		echo "fx"; exit 0;;
	esac
fi

echo "$0:  Your machine type is unknown -- FATAL ERROR" 1>&2
exit 1
@


1.1
log
@Initial revision
@
text
@@


1.1.12.1
log
@merge from head
@
text
@@


1.1.1.1
log
@Import of initial port to Windows
@
text
@d1 73
a73 73
#!/bin/sh
# A Shell script to determine the machine architecture type
# of the current system as a short descriptive string,
# to permit the separation of incompatible binary program files.
#
# This script must correctly report a machine type, of 5 chars or less:
#	vax	DEC VAX-11
#	sel	Gould (SEL) PowerNode (6000 or 9000)
#	fx	Alliant ("Dataflow") FX/4 or FX/8
#	3d	SGI 2400 or 3030
#	4d	SGI 4D
#	sun3	Sun-3 (68020 CPU)
#	sun4	Sun-4 (Sparc CPU)
#	pyr	Pyramid
#	tahoe	CCI/Harris Tahoe
#	cray2	Cray-2
#	xmp	Cray X-M/P
#
# -Mike Muuss, BRL.  6-March-1988

# Exists at least on Suns (eg, says "sun3")
if test -f /bin/arch
then
	/bin/arch; exit 0
fi

# Exists at least on SysV machines
for UNAME in /bin/uname /.attbin/uname
do
	if test -f $UNAME
	then
		case `$UNAME -m` in
		crayxmp)
			echo "xmp"; exit 0;;
		CRAY-2)
			echo "cray2"; exit 0;;
		m68020)
			# Iris specific
			case `$UNAME -t` in
			2300|2300T|3010)
				echo "3d"; exit 0;;
			2400|3030)
				echo "3d"; exit 0;;
			esac;;
		IP4)
			echo "4d"; exit 0;;
		Pyr90Mx)
			echo "pyr"; exit 0;;
		esac
	fi
done

# Vanilla Berkeley systems give few clues as to machine type
if test -d /usr/include/vaxif	; then	echo "vax"	; exit 0; fi
if test -d /usr/include/tahoeif	; then	echo "tahoe"	; exit 0; fi
if test -d /usr/include/selif	; then	echo "sel"	; exit 0; fi
if test -d /usr/include/dfif	; then	echo "fx"	; exit 0; fi

# Final hack for BSD systems:  depend on /etc/rc to put
# system description in 1st line of /etc/motd, use first word as selector
if test "(" -f /etc/motd ")" -a "(" -s /etc/motd ")"
then
	WORD=`sed -n -e "1s/ .*//p" /etc/motd`
	case $WORD in
	UTX/32)
		echo "sel"; exit 0;;
	Alliant)
		echo "fx"; exit 0;;
	esac
fi

echo "$0:  Your machine type is unknown -- FATAL ERROR" 1>&2
exit 1
@


1.1.1.2
log
@newline
@
text
@d1 73
a73 73
#!/bin/sh
# A Shell script to determine the machine architecture type
# of the current system as a short descriptive string,
# to permit the separation of incompatible binary program files.
#
# This script must correctly report a machine type, of 5 chars or less:
#	vax	DEC VAX-11
#	sel	Gould (SEL) PowerNode (6000 or 9000)
#	fx	Alliant ("Dataflow") FX/4 or FX/8
#	3d	SGI 2400 or 3030
#	4d	SGI 4D
#	sun3	Sun-3 (68020 CPU)
#	sun4	Sun-4 (Sparc CPU)
#	pyr	Pyramid
#	tahoe	CCI/Harris Tahoe
#	cray2	Cray-2
#	xmp	Cray X-M/P
#
# -Mike Muuss, BRL.  6-March-1988

# Exists at least on Suns (eg, says "sun3")
if test -f /bin/arch
then
	/bin/arch; exit 0
fi

# Exists at least on SysV machines
for UNAME in /bin/uname /.attbin/uname
do
	if test -f $UNAME
	then
		case `$UNAME -m` in
		crayxmp)
			echo "xmp"; exit 0;;
		CRAY-2)
			echo "cray2"; exit 0;;
		m68020)
			# Iris specific
			case `$UNAME -t` in
			2300|2300T|3010)
				echo "3d"; exit 0;;
			2400|3030)
				echo "3d"; exit 0;;
			esac;;
		IP4)
			echo "4d"; exit 0;;
		Pyr90Mx)
			echo "pyr"; exit 0;;
		esac
	fi
done

# Vanilla Berkeley systems give few clues as to machine type
if test -d /usr/include/vaxif	; then	echo "vax"	; exit 0; fi
if test -d /usr/include/tahoeif	; then	echo "tahoe"	; exit 0; fi
if test -d /usr/include/selif	; then	echo "sel"	; exit 0; fi
if test -d /usr/include/dfif	; then	echo "fx"	; exit 0; fi

# Final hack for BSD systems:  depend on /etc/rc to put
# system description in 1st line of /etc/motd, use first word as selector
if test "(" -f /etc/motd ")" -a "(" -s /etc/motd ")"
then
	WORD=`sed -n -e "1s/ .*//p" /etc/motd`
	case $WORD in
	UTX/32)
		echo "sel"; exit 0;;
	Alliant)
		echo "fx"; exit 0;;
	esac
fi

echo "$0:  Your machine type is unknown -- FATAL ERROR" 1>&2
exit 1
@


