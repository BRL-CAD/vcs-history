head	11.7;
access;
symbols
	ansi-20040405-merged:11.6
	premerge-autoconf:11.6
	ansi-20040316-freeze:11.6
	postmerge-20040315-windows:11.6
	premerge-20040315-windows:11.6
	windows-20040315-freeze:11.6
	phong-branch:11.6.0.10
	photonmap-branch:11.6.0.8
	rel-6-1-DP:11.6
	windows-branch:11.6.0.6
	rel-6-0-2:11.6
	ansi-branch:11.6.0.4
	rel-6-0-1-branch:11.6.0.2
	hartley-6-0-post:11.6
	hartley-6-0-pre:11.6
	rel-6-0-1:11.6
	rel-6-0:11.6
	rel-5-4:11.4
	offsite-5-3-pre:11.4
	rel-5-3:11.4
	rel-5-2:11.4
	rel-5-1-branch:11.4.0.2
	rel-5-1:11.4
	rel-5-0:11.4
	rel-5-0-beta:11.4
	rel-4-5:11.2
	ctj-4-5-post:11.2
	ctj-4-5-pre:11.2
	rel-4-4:11.1
	rel-4-0:10.1
	rel-3-5:9.1
	rel-3-0:7.3
	rel-2-3:7.1
	rel-2-0:6.1
	rel-1-24:5.1
	rel-1-20:1.1
	AUTOCONF:11.6.0.12;
locks; strict;
comment	@# @;


11.7
date	2004.03.18.18.15.13;	author erikg;	state dead;
branches;
next	11.6;

11.6
date	2001.08.10.21.19.24;	author morrison;	state Exp;
branches
	11.6.12.1;
next	11.5;

11.5
date	2001.04.20.22.28.38;	author morrison;	state Exp;
branches;
next	11.4;

11.4
date	99.01.08.20.19.24;	author bparker;	state Exp;
branches;
next	11.3;

11.3
date	98.09.21.19.57.11;	author bparker;	state Exp;
branches;
next	11.2;

11.2
date	95.01.05.08.31.18;	author mike;	state Exp;
branches;
next	11.1;

11.1
date	95.01.04.09.43.32;	author mike;	state Rel4_4;
branches
	11.1.1.1;
next	10.1;

10.1
date	91.10.12.06.34.58;	author mike;	state Rel4_0;
branches;
next	9.1;

9.1
date	89.05.19.05.43.25;	author mike;	state Rel3_5;
branches;
next	8.2;

8.2
date	89.05.19.05.39.31;	author phil;	state Exp;
branches;
next	8.1;

8.1
date	88.10.06.06.29.10;	author mike;	state Rel3_0;
branches;
next	7.3;

7.3
date	88.10.01.06.54.20;	author mike;	state Exp;
branches;
next	7.2;

7.2
date	87.12.11.17.22.11;	author mike;	state Exp;
branches;
next	7.1;

7.1
date	87.11.02.23.22.03;	author mike;	state Rel;
branches;
next	6.1;

6.1
date	87.07.11.07.47.50;	author mike;	state Rel;
branches;
next	5.2;

5.2
date	87.06.25.01.28.20;	author mike;	state Exp;
branches;
next	5.1;

5.1
date	87.06.24.21.46.46;	author mike;	state Rel;
branches;
next	1.2;

1.2
date	87.06.24.21.23.46;	author mike;	state Exp;
branches;
next	1.1;

1.1
date	87.02.12.21.49.31;	author mike;	state Exp;
branches;
next	;

11.1.1.1
date	98.01.29.06.15.07;	author mike;	state Rel4_5;
branches;
next	;

11.6.12.1
date	2003.11.07.16.40.59;	author erikg;	state dead;
branches;
next	11.6.12.2;

11.6.12.2
date	2004.02.12.19.40.39;	author erikg;	state Exp;
branches;
next	11.6.12.3;

11.6.12.3
date	2004.02.24.19.57.38;	author erikg;	state Exp;
branches;
next	11.6.12.4;

11.6.12.4
date	2004.02.25.15.24.39;	author erikg;	state dead;
branches;
next	;


desc
@Master CAD Makefile
@


11.7
log
@merge of AUTOCONF branch in to HEAD
@
text
@#################################################################
#								#
#			Makefile				#
#								#
#  The top-level Makefile for the BRL CAD Software Distribution	#
#								#
#  This exists mostly as a convienience, so folks can		#
#  type "make install" and such like, and get the expected	#
#  results, even in the face of the rather complex mechanism.	#
#  Thus, we make Make into a simple front-end for gen.sh	#
#								#
#  Author -							#
#	Michael John Muuss					#
#								#
# Source -							#
#	SECAD/VLD Computing Consortium, Bldg 394		#
#	The U. S. Army Ballistic Research Laboratory		#
#	Aberdeen Proving Ground, Maryland  21005-5066		#
#								#
#								#
#################################################################

# SHELL		= /bin/sh

# Main rule (default):
all:
	-@@sh gen.sh $@@
help:
	-@@sh gen.sh $@@
benchmark:
	-@@sh gen.sh $@@
fast:
	-@@sh gen.sh $@@
clean:
	-@@sh gen.sh $@@
noprod:
	-@@sh gen.sh $@@
clobber:
	-@@sh gen.sh $@@
lint:
	-@@sh gen.sh $@@
ls:
	-@@sh gen.sh $@@
ls-bin:
	-@@sh gen.sh $@@
depend:
	-@@sh gen.sh $@@
install:
	-@@sh gen.sh $@@
inst-nobak:
	-@@sh gen.sh $@@
uninstall:
	-@@sh gen.sh $@@
perms:
	-@@sh gen.sh $@@
inst-man:
	-@@sh gen.sh $@@
inst-dist:
	-@@sh gen.sh $@@
print:
	-@@sh gen.sh $@@
typeset:
	-@@sh gen.sh $@@
nroff:
	-@@sh gen.sh $@@
mkdir:
	-@@sh gen.sh $@@
relink:
	-@@sh gen.sh $@@
rmdir:
	-@@sh gen.sh $@@
wc:
	-@@sh gen.sh $@@
tclIndex:
	-@@sh gen.sh $@@
tags:
	-@@sh gen.sh $@@
TAGS:
	-@@sh gen.sh $@@
etags:
	-@@sh gen.sh $@@
command:
	-@@sh gen.sh $@@
rcs-lock:
	-@@sh gen.sh $@@
checkin:
	-@@sh gen.sh $@@
dist:
	-@@sh gen.sh $@@
arch:
	-@@sh gen.sh $@@
pkg:
	-@@sh gen.sh $@@
rpm:
	-@@sh gen.sh $@@
sunpkg:
	-@@sh gen.sh $@@
tcl:
	-@@sh gen.sh $@@
@


11.6
log
@now building on sun with sun's horrid compiler
@
text
@@


11.6.12.1
log
@generated now
@
text
@@


11.6.12.2
log
@merge from HEAD
@
text
@@


11.6.12.3
log
@revived.
@
text
@d1 99
a99 538
# Makefile.in generated by automake 1.6.3 from Makefile.am.
# Makefile.  Generated from Makefile.in by configure.

# Copyright 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002
# Free Software Foundation, Inc.
# This Makefile.in is free software; the Free Software Foundation
# gives unlimited permission to copy and/or distribute it,
# with or without modifications, as long as this notice is preserved.

# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE.



# $Id: Makefile.am,v 1.1.2.16 2004/01/07 21:05:12 erikg Exp $
SHELL = /bin/sh

srcdir = .
top_srcdir = .

prefix = /vld/erikg/brlcad
exec_prefix = ${prefix}

bindir = ${exec_prefix}/bin
sbindir = ${exec_prefix}/sbin
libexecdir = ${exec_prefix}/libexec
datadir = ${prefix}/share
sysconfdir = ${prefix}/etc
sharedstatedir = ${prefix}/com
localstatedir = ${prefix}/var
libdir = ${exec_prefix}/lib
infodir = ${prefix}/info
mandir = ${prefix}/man
includedir = ${prefix}/include
oldincludedir = /usr/include
pkgdatadir = $(datadir)/brlcad
pkglibdir = $(libdir)/brlcad
pkgincludedir = $(includedir)/brlcad
top_builddir = .

ACLOCAL = ${SHELL} /vld/erikg/src/brlcad/missing --run aclocal-1.6
AUTOCONF = ${SHELL} /vld/erikg/src/brlcad/missing --run autoconf
AUTOMAKE = ${SHELL} /vld/erikg/src/brlcad/missing --run automake-1.6
AUTOHEADER = ${SHELL} /vld/erikg/src/brlcad/missing --run autoheader

am__cd = CDPATH="$${ZSH_VERSION+.}$(PATH_SEPARATOR)" && cd
INSTALL = /usr/bin/install -c
INSTALL_PROGRAM = ${INSTALL}
INSTALL_DATA = ${INSTALL} -m 644
install_sh_DATA = $(install_sh) -c -m 644
install_sh_PROGRAM = $(install_sh) -c
install_sh_SCRIPT = $(install_sh) -c
INSTALL_SCRIPT = ${INSTALL}
INSTALL_HEADER = $(INSTALL_DATA)
transform = s,x,x,
NORMAL_INSTALL = :
PRE_INSTALL = :
POST_INSTALL = :
NORMAL_UNINSTALL = :
PRE_UNINSTALL = :
POST_UNINSTALL = :
build_alias = 
build_triplet = i686-pc-linux-gnu
host_alias = 
host_triplet = i686-pc-linux-gnu
target_alias = 
target_triplet = i686-pc-linux-gnu

EXEEXT = 
OBJEXT = o
PATH_SEPARATOR = :
AMTAR = ${SHELL} /vld/erikg/src/brlcad/missing --run tar
AS = @@AS@@
AWK = gawk
BN = ${top_builddir}/libbn/libbn.la ${BU}
BU = ${top_builddir}/libbu/libbu.la ${TCL_LIBS} ${PTHREAD_LIBS} -lm ${DL}
CC = gcc
CPP = gcc -E
CURSES = -lncurses 
CURSOR = ${top_builddir}/libcursor/libcursor.la ${CURSES}
DEPDIR = .deps
DL = -ldl
DLLTOOL = @@DLLTOOL@@
DM = ${top_builddir}/libdm/libdm.la ${TK_LIBS} ${RT}
ECHO = echo
FB = ${top_builddir}/libfb/libfb.la ${X_LIBS} ${PKG} ${BU}
FFT = ${top_builddir}/libfft/libfft.la -lm
GL_CFLAGS = -DUSE_MESA_GL
INSTALL_STRIP_PROGRAM = ${SHELL} $(install_sh) -c -s
ITCL_LIBS = ${top_builddir}/libitcl${ITCL_VERSION}/itcl/libitcl.la
ITCL_VERSION = 3.2
ITK_LIBS = ${top_builddir}/libitcl${ITCL_VERSION}/itk/libitk.la
LEX = flex
LEXLIB = -lfl
LEX_CFLAGS = -Dyylex=cmd_nop
LEX_OUTPUT_ROOT = lex.yy
LIBTOOL = $(SHELL) $(top_builddir)/libtool
LN_S = ln -s
OBJDUMP = @@OBJDUMP@@
OPTICAL = ${top_builddir}/liboptical/liboptical.la
ORLE = ${top_builddir}/liborle/liborle.la
PACKAGE = brlcad
PKG = ${top_builddir}/libpkg/libpkg.la
PNG_LIBS = ${top_builddir}/libpng/libpng.la ${top_builddir}/libz/libz.la
PTHREAD_LIBS = -lpthread
RANLIB = ranlib
RLE = ${top_builddir}/libutahrle/libutahrle.la -lm
RT = ${top_builddir}/librt/librt.la ${BN}
SGIGL = 
SOCKET = 
STRIP = strip
SYSV = ${top_builddir}/libsysv/libsysv.la
TCL = libtcl8.4
TCLVER = 8.4
TCL_BUILD_CFLAGS = -DTCL_PACKAGE_PATH=\"${exec_prefix}/lib\" -DTCL_LIBRARY=\"/vld/erikg/brlcad/tcl8.4\"
TCL_LIBRARY = /vld/erikg/brlcad/tcl8.4
TCL_LIBS = ${top_builddir}/${TCL}/${TCL}.la ${DL} ${SOCKET} -lm
TERMIO = ${top_builddir}/libtermio/libtermio.la
TKVER = 8.4
TK_LIBRARY = /vld/erikg/brlcad/tk8.4
TK_LIBS = ${top_builddir}/libtk${TKVER}/libtk${TKVER}.la ${TCL_LIBS} ${X_LIBS}
U = 
VERSION = 6.0
WDB = ${top_builddir}/libwdb/libwdb.la
X_CFLAGS = -I/usr/X11R6/include
X_LIBS = -L/usr/X11R6/lib -lX11 -lXi
am__include = include
am__quote = 
install_sh = /vld/erikg/src/brlcad/install-sh

SUBDIRS = \
	h\
	libpng\
	libtcl8.4\
	libtk8.4\
	libitcl3.2\
	iwidgets4.0.1\
	libz\
	libbn\
	libbu\
	libcursor\
	libdm\
	libpkg\
	libfb\
	libfft\
	liboptical\
	liborle\
	librt\
	libsysv\
	libtermio\
	libutahrle\
	libwdb\
	anim\
	awf\
	bench\
	brlman\
	burst\
	bwish\
	comgeom-g\
	conv\
	doc\
	fb\
	fbed\
	fbserv\
	gtools\
	halftone\
	html\
	iges\
	irprep\
	jack\
	lgt\
	mged\
	mk\
	nirt\
	off\
	patch\
	pro-engineer\
	remrt\
	rt\
	sample_applications\
	sh\
	sig\
	tab\
	tclscripts\
	tools\
	unigraphics\
	util\
	vas4\
	vdeck\
	vfont


EXTRA_DIST = ChangeLog $(PACKAGE).spec.in
subdir = .
ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
CONFIG_HEADER = $(top_builddir)/h/config.h
CONFIG_CLEAN_FILES = brlcad.spec
DIST_SOURCES =

RECURSIVE_TARGETS = info-recursive dvi-recursive install-info-recursive \
	uninstall-info-recursive all-recursive install-data-recursive \
	install-exec-recursive installdirs-recursive install-recursive \
	uninstall-recursive check-recursive installcheck-recursive
DIST_COMMON = README AUTHORS COPYING ChangeLog INSTALL Makefile.am \
	Makefile.in NEWS aclocal.m4 brlcad.spec.in compile config.guess \
	config.sub configure configure.in depcomp install-sh ltmain.sh \
	missing mkinstalldirs
DIST_SUBDIRS = $(SUBDIRS)
all: all-recursive

.SUFFIXES:

am__CONFIG_DISTCLEAN_FILES = config.status config.cache config.log \
 configure.lineno
$(srcdir)/Makefile.in:  Makefile.am  $(top_srcdir)/configure.in $(ACLOCAL_M4)
	cd $(top_srcdir) && \
	  $(AUTOMAKE) --gnu  Makefile
Makefile:  $(srcdir)/Makefile.in  $(top_builddir)/config.status
	cd $(top_builddir) && $(SHELL) ./config.status $@@ $(am__depfiles_maybe)

$(top_builddir)/config.status: $(srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)
	$(SHELL) ./config.status --recheck
$(srcdir)/configure:  $(srcdir)/configure.in $(ACLOCAL_M4) $(CONFIGURE_DEPENDENCIES)
	cd $(srcdir) && $(AUTOCONF)

$(ACLOCAL_M4):  configure.in 
	cd $(srcdir) && $(ACLOCAL) $(ACLOCAL_AMFLAGS)
brlcad.spec: $(top_builddir)/config.status brlcad.spec.in
	cd $(top_builddir) && $(SHELL) ./config.status $@@

mostlyclean-libtool:
	-rm -f *.lo

clean-libtool:
	-rm -rf .libs _libs

distclean-libtool:
	-rm -f libtool
uninstall-info-am:

# This directory's subdirectories are mostly independent; you can cd
# into them and run `make' without going through this Makefile.
# To change the values of `make' variables: instead of editing Makefiles,
# (1) if the variable is set in `config.status', edit `config.status'
#     (which will cause the Makefiles to be regenerated when you run `make');
# (2) otherwise, pass the desired values on the `make' command line.
$(RECURSIVE_TARGETS):
	@@set fnord $$MAKEFLAGS; amf=$$2; \
	dot_seen=no; \
	target=`echo $@@ | sed s/-recursive//`; \
	list='$(SUBDIRS)'; for subdir in $$list; do \
	  echo "Making $$target in $$subdir"; \
	  if test "$$subdir" = "."; then \
	    dot_seen=yes; \
	    local_target="$$target-am"; \
	  else \
	    local_target="$$target"; \
	  fi; \
	  (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) $$local_target) \
	   || case "$$amf" in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \
	done; \
	if test "$$dot_seen" = "no"; then \
	  $(MAKE) $(AM_MAKEFLAGS) "$$target-am" || exit 1; \
	fi; test -z "$$fail"

mostlyclean-recursive clean-recursive distclean-recursive \
maintainer-clean-recursive:
	@@set fnord $$MAKEFLAGS; amf=$$2; \
	dot_seen=no; \
	case "$@@" in \
	  distclean-* | maintainer-clean-*) list='$(DIST_SUBDIRS)' ;; \
	  *) list='$(SUBDIRS)' ;; \
	esac; \
	rev=''; for subdir in $$list; do \
	  if test "$$subdir" = "."; then :; else \
	    rev="$$subdir $$rev"; \
	  fi; \
	done; \
	rev="$$rev ."; \
	target=`echo $@@ | sed s/-recursive//`; \
	for subdir in $$rev; do \
	  echo "Making $$target in $$subdir"; \
	  if test "$$subdir" = "."; then \
	    local_target="$$target-am"; \
	  else \
	    local_target="$$target"; \
	  fi; \
	  (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) $$local_target) \
	   || case "$$amf" in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \
	done && test -z "$$fail"
tags-recursive:
	list='$(SUBDIRS)'; for subdir in $$list; do \
	  test "$$subdir" = . || (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) tags); \
	done

ETAGS = etags
ETAGSFLAGS =

tags: TAGS

ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
	list='$(SOURCES) $(HEADERS) $(LISP) $(TAGS_FILES)'; \
	unique=`for i in $$list; do \
	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
	  done | \
	  $(AWK) '    { files[$$0] = 1; } \
	       END { for (i in files) print i; }'`; \
	mkid -fID $$unique

TAGS: tags-recursive $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
		$(TAGS_FILES) $(LISP)
	tags=; \
	here=`pwd`; \
	list='$(SUBDIRS)'; for subdir in $$list; do \
	  if test "$$subdir" = .; then :; else \
	    test -f $$subdir/TAGS && tags="$$tags -i $$here/$$subdir/TAGS"; \
	  fi; \
	done; \
	list='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \
	unique=`for i in $$list; do \
	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
	  done | \
	  $(AWK) '    { files[$$0] = 1; } \
	       END { for (i in files) print i; }'`; \
	test -z "$(ETAGS_ARGS)$$tags$$unique" \
	  || $(ETAGS) $(ETAGSFLAGS) $(AM_ETAGSFLAGS) $(ETAGS_ARGS) \
	     $$tags $$unique

GTAGS:
	here=`$(am__cd) $(top_builddir) && pwd` \
	  && cd $(top_srcdir) \
	  && gtags -i $(GTAGS_ARGS) $$here

distclean-tags:
	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH
DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)

top_distdir = .
distdir = $(PACKAGE)-$(VERSION)

am__remove_distdir = \
  { test ! -d $(distdir) \
    || { find $(distdir) -type d ! -perm -200 -exec chmod u+w {} ';' \
         && rm -fr $(distdir); }; }

GZIP_ENV = --best
distcleancheck_listfiles = find . -type f -print

distdir: $(DISTFILES)
	$(am__remove_distdir)
	mkdir $(distdir)
	$(mkinstalldirs) $(distdir)/. $(distdir)/iwidgets4.0.1 $(distdir)/libtcl8.4/unix $(distdir)/libtk8.4/library $(distdir)/libtk8.4/unix $(distdir)/pro-engineer/sgi_mips4 $(distdir)/sample_applications
	@@list='$(DISTFILES)'; for file in $$list; do \
	  if test -f $$file || test -d $$file; then d=.; else d=$(srcdir); fi; \
	  dir=`echo "$$file" | sed -e 's,/[^/]*$$,,'`; \
	  if test "$$dir" != "$$file" && test "$$dir" != "."; then \
	    dir="/$$dir"; \
	    $(mkinstalldirs) "$(distdir)$$dir"; \
	  else \
	    dir=''; \
	  fi; \
	  if test -d $$d/$$file; then \
	    if test -d $(srcdir)/$$file && test $$d != $(srcdir); then \
	      cp -pR $(srcdir)/$$file $(distdir)$$dir || exit 1; \
	    fi; \
	    cp -pR $$d/$$file $(distdir)$$dir || exit 1; \
	  else \
	    test -f $(distdir)/$$file \
	    || cp -p $$d/$$file $(distdir)/$$file \
	    || exit 1; \
	  fi; \
	done
	list='$(SUBDIRS)'; for subdir in $$list; do \
	  if test "$$subdir" = .; then :; else \
	    test -d $(distdir)/$$subdir \
	    || mkdir $(distdir)/$$subdir \
	    || exit 1; \
	    (cd $$subdir && \
	      $(MAKE) $(AM_MAKEFLAGS) \
	        top_distdir="$(top_distdir)" \
	        distdir=../$(distdir)/$$subdir \
	        distdir) \
	      || exit 1; \
	  fi; \
	done
	-find $(distdir) -type d ! -perm -777 -exec chmod a+rwx {} \; -o \
	  ! -type d ! -perm -444 -links 1 -exec chmod a+r {} \; -o \
	  ! -type d ! -perm -400 -exec chmod a+r {} \; -o \
	  ! -type d ! -perm -444 -exec $(SHELL) $(install_sh) -c -m a+r {} {} \; \
	|| chmod -R a+r $(distdir)
dist-gzip: distdir
	$(AMTAR) chof - $(distdir) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).tar.gz
	$(am__remove_distdir)

dist dist-all: distdir
	$(AMTAR) chof - $(distdir) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).tar.gz
	$(am__remove_distdir)

# This target untars the dist file and tries a VPATH configuration.  Then
# it guarantees that the distribution is self-contained by making another
# tarfile.
distcheck: dist
	$(am__remove_distdir)
	GZIP=$(GZIP_ENV) gunzip -c $(distdir).tar.gz | $(AMTAR) xf -
	chmod -R a-w $(distdir); chmod a+w $(distdir)
	mkdir $(distdir)/=build
	mkdir $(distdir)/=inst
	chmod a-w $(distdir)
	dc_install_base=`$(am__cd) $(distdir)/=inst && pwd` \
	  && cd $(distdir)/=build \
	  && ../configure --srcdir=.. --prefix=$$dc_install_base \
	    $(DISTCHECK_CONFIGURE_FLAGS) \
	  && $(MAKE) $(AM_MAKEFLAGS) \
	  && $(MAKE) $(AM_MAKEFLAGS) dvi \
	  && $(MAKE) $(AM_MAKEFLAGS) check \
	  && $(MAKE) $(AM_MAKEFLAGS) install \
	  && $(MAKE) $(AM_MAKEFLAGS) installcheck \
	  && $(MAKE) $(AM_MAKEFLAGS) uninstall \
	  && (test `find $$dc_install_base -type f -print | wc -l` -le 1 \
	      || { echo "ERROR: files left after uninstall:" ; \
	           find $$dc_install_base -type f -print ; \
	           exit 1; } >&2 ) \
	  && $(MAKE) $(AM_MAKEFLAGS) dist-gzip \
	  && rm -f $(distdir).tar.gz \
	  && $(MAKE) $(AM_MAKEFLAGS) distcleancheck
	$(am__remove_distdir)
	@@echo "$(distdir).tar.gz is ready for distribution" | \
	  sed 'h;s/./=/g;p;x;p;x'
distcleancheck: distclean
	if test '$(srcdir)' = . ; then \
	  echo "ERROR: distcleancheck can only run from a VPATH build" ; \
	  exit 1 ; \
	fi
	test `$(distcleancheck_listfiles) | wc -l` -eq 0 \
	  || { echo "ERROR: files left after distclean:" ; \
	       $(distcleancheck_listfiles) ; \
	       exit 1; } >&2
check-am: all-am
check: check-recursive
all-am: Makefile
installdirs: installdirs-recursive
installdirs-am:

install: install-recursive
install-exec: install-exec-recursive
install-data: install-data-recursive
uninstall: uninstall-recursive

install-am: all-am
	@@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am

installcheck: installcheck-recursive
install-strip:
	$(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM="$(INSTALL_STRIP_PROGRAM)" \
	  INSTALL_STRIP_FLAG=-s \
	  `test -z '$(STRIP)' || \
	    echo "INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'"` install
mostlyclean-generic:

clean-generic:

distclean-generic:
	-rm -f Makefile $(CONFIG_CLEAN_FILES)

maintainer-clean-generic:
	@@echo "This command is intended for maintainers to use"
	@@echo "it deletes files that may require special tools to rebuild."
clean: clean-recursive

clean-am: clean-generic clean-libtool mostlyclean-am

distclean: distclean-recursive
	-rm -f $(am__CONFIG_DISTCLEAN_FILES)
distclean-am: clean-am distclean-generic distclean-libtool \
	distclean-tags

dvi: dvi-recursive

dvi-am:

info: info-recursive

info-am:

install-data-am:

install-exec-am:

install-info: install-info-recursive

install-man:

installcheck-am:

maintainer-clean: maintainer-clean-recursive
	-rm -f $(am__CONFIG_DISTCLEAN_FILES)
	-rm -rf autom4te.cache
maintainer-clean-am: distclean-am maintainer-clean-generic

mostlyclean: mostlyclean-recursive

mostlyclean-am: mostlyclean-generic mostlyclean-libtool

uninstall-am: uninstall-info-am

uninstall-info: uninstall-info-recursive

.PHONY: $(RECURSIVE_TARGETS) GTAGS all all-am check check-am clean \
	clean-generic clean-libtool clean-recursive dist dist-all \
	dist-gzip distcheck distclean distclean-generic \
	distclean-libtool distclean-recursive distclean-tags \
	distcleancheck distdir dvi dvi-am dvi-recursive info info-am \
	info-recursive install install-am install-data install-data-am \
	install-data-recursive install-exec install-exec-am \
	install-exec-recursive install-info install-info-am \
	install-info-recursive install-man install-recursive \
	install-strip installcheck installcheck-am installdirs \
	installdirs-am installdirs-recursive maintainer-clean \
	maintainer-clean-generic maintainer-clean-recursive mostlyclean \
	mostlyclean-generic mostlyclean-libtool mostlyclean-recursive \
	tags tags-recursive uninstall uninstall-am uninstall-info-am \
	uninstall-info-recursive uninstall-recursive


.PHONY : rpm
rpm: dist
	cp $(PACKAGE)-$(VERSION).tar.gz ${HOME}/rpm/SOURCES/
	rpmbuild -ba $(PACKAGE).spec
	cp ${HOME}/rpm/RPMS/i386/$(PACKAGE)-$(VERSION)-*.i386.rpm .
	cp ${HOME}/rpm/SRPMS/$(PACKAGE)-$(VERSION)-*.src.rpm .

packages: rpm
# Tell versions [3.59,3.63) of GNU make to not export all variables.
# Otherwise a system limit (for SysV at least) may be exceeded.
.NOEXPORT:
@


11.6.12.4
log
@makefiles should be generated
@
text
@d17 1
a17 1
# $Id: Makefile,v 11.6.12.3 2004/02/24 19:57:38 erikg Exp $
@


11.5
log
@with the exception of "all" being the default for the Makefile, all build options in gen.sh are now in Makefile (and a few invalid were removed)
Cakefile.defs was updated for -O3 (accidentally -- will be set back to -O2)
@
text
@a19 1
#  $Header: /c/CVS/brlcad/Makefile,v 11.4 1999/01/08 20:19:24 bparker Exp $		#
d23 1
a23 1
SHELL		= /bin/sh
@


11.4
log
@*- changed ami to tclIndex
@
text
@d20 1
a20 1
#  $Header: /c/CVS/brlcad/Makefile,v 11.3 1998/09/21 19:57:11 bparker Exp $		#
d28 1
a28 1
	-@@sh gen.sh all
d30 1
a30 1
	-@@sh gen.sh help
d33 1
a33 9
depend:
	-@@sh gen.sh $@@
install:
	-@@sh gen.sh $@@
inst-man:
	-@@sh gen.sh $@@
uninstall:
	-@@sh gen.sh $@@
inst-dist:
d45 16
d65 1
a65 5
checkin:
	-@@sh gen.sh $@@
dist:
	-@@sh gen.sh $@@
arch:
d73 1
a73 3
tcl:
	-@@sh gen.sh $@@
install-tcl:
d80 20
@


11.3
log
@*- added the following targets:
	ami - uses Tcl's auto_mkindex to generate an index(s)
	tags - build tags files
	TAGS - build TAGS files
@
text
@d20 1
a20 1
#  $Header: /c/CVS/brlcad/Makefile,v 11.2 1995/01/05 08:31:18 mike Exp $		#
d73 1
a73 1
ami:
@


11.2
log
@Oops, forgot tcl targets
@
text
@d20 1
a20 1
#  $Header: /m/cad/RCS/Makefile,v 11.1 95/01/04 09:43:32 mike Rel4_4 Locker: mike $		#
a28 1

d72 6
@


11.1
log
@Release_4.4
@
text
@d20 1
a20 1
#  $Header: /m/cad/RCS/Makefile,v 10.1 91/10/12 06:34:58 mike Rel4_0 $		#
d69 4
@


11.1.1.1
log
@Release_4.5
@
text
@d20 1
a20 1
#  $Header: /m/cad/RCS/Makefile,v 11.2 95/01/05 08:31:18 mike Exp $		#
a68 4
	-@@sh gen.sh $@@
tcl:
	-@@sh gen.sh $@@
install-tcl:
@


10.1
log
@Release_4.0
@
text
@d20 1
a20 1
#  $Header: Makefile,v 9.1 89/05/19 05:43:25 mike Rel3_5 $		#
@


9.1
log
@Release_3.5
@
text
@d20 1
a20 1
#  $Header: Makefile,v 8.2 89/05/19 05:39:31 phil Exp $		#
@


8.2
log
@added "ls" rule
@
text
@d20 1
a20 1
#  $Header: Makefile,v 8.1 88/10/06 06:29:10 phil Locked $		#
@


8.1
log
@Release 3.0
@
text
@d20 1
a20 1
#  $Header: Makefile,v 7.3 88/10/01 06:54:20 mike Locked $		#
d51 2
@


7.3
log
@Now, Make is just a front-end for gen.sh
@
text
@d20 1
a20 1
#  $Header: Makefile,v 7.2 87/12/11 17:22:11 mike Exp $		#
d26 1
d30 2
@


7.2
log
@Added padding to the TAR archive for SGI, cleaned up
some of the definitions a bit.
@
text
@d5 1
a5 1
# The Master Makefile for the BRL CAD Software Distribution	#
d7 5
a13 1
#	BRL/SECAD, August 1986					#
d20 1
a20 1
#  $Header: Makefile,v 7.1 87/11/02 23:22:03 mike Locked $		#
a25 46
# Label number for this CAD Release
RELEASE		= 2.4
# RCS main Revision number
RCS_REVISION	= 8
# Release 1.20 was Revision 1
# Release 1.24 was Revision 5
# Release 2.0 was Revision 6
# Release 2.3 was Revision 7

DISTDIR		= /m/dist/.
ARCHDIR		= /m/.
ARCHIVE		= ${ARCHDIR}/cad${RELEASE}.tar

TOP_FILES	= README Makefile Makefile.defs Makefile.rules \
		cray.sh cray-ar.sh

# NOTE:  The following directories contain code which may not compile
# on all systems.  In that case, they should be removed from $DIRS:
#
#	libpkg		BSD or SGI networking, remove if SYSV
#	rfbd		BSD or SGI networking, remove if SYSV
#
DIRS		= h \
		  doc \
		  libsysv \
		  libmalloc \
		  conv bench \
		  db pix \
		  libpkg \
		  libfb \
		  rfbd \
		  libtermio \
		  libcursor \
		  libplot3 \
		  libtig \
		  libwdb \
		  librle \
		  libspl librt rt \
		  mged \
		  proc-db \
		  util \
		  fbed \
		  lgt \
		  vdeck \
		  whetstone dhrystone

d27 1
a27 6
	@@echo; echo "Release ${RELEASE}.  make $@@"
	-@@for dir in ${DIRS}; \
	do	echo " "; \
		echo ---------- $$dir; \
		(cd $$dir; make depend; make -k )\
	done
d30 1
a30 13
	@@echo; echo "Release ${RELEASE}.  make $@@"
	cd libsysv; make depend; make -k
	cd libmalloc; make depend; make -k
	cd conv; make -k
	cd db; make -k
	cd pix; make -k
	cd libpkg; make depend; make -k	  # needed for IF_REMOTE, rm if SYSV
	cd libfb; make depend; make -k
	cd libplot3; make depend; make -k
	cd libspl; make depend; make -k
	cd librt; make depend; make -k
	cd rt; make depend; make -k

d32 1
a32 6
	@@echo; echo "Release ${RELEASE}.  make $@@"
	-for dir in ${DIRS}; \
	do	echo ---------- $$dir; \
		(cd $$dir; make -k depend) \
	done

d34 1
a34 6
	@@echo; echo "Release ${RELEASE}.  make $@@"
	-for dir in ${DIRS}; \
	do	echo ---------- $$dir; \
		(cd $$dir; make -k install) \
	done

d36 1
a36 6
	@@echo; echo "Release ${RELEASE}.  make $@@"
	-for dir in ${DIRS}; \
	do	echo ---------- $$dir; \
		(cd $$dir; make -k inst-man) \
	done

d38 1
a38 19
	@@echo; echo "Release ${RELEASE}.  make $@@"
	-for dir in ${DIRS}; \
	do	echo ---------- $$dir; \
		(cd $$dir; make -k uninstall) \
	done

print:
	-for dir in ${DIRS}; \
	do	echo ---------- $$dir; \
		(cd $$dir; make -k print) \
	done

typeset:
	-for dir in ${DIRS}; \
	do	echo ---------- $$dir; \
		(cd $$dir; make -k typeset) \
	done

# BRL-only:  install sources in distribution tree without installing products
d40 1
a40 26
	@@echo; echo "Release ${RELEASE}.  make $@@"
	-for dir in ${DIRS}; \
	do	echo ---------- $$dir; \
		(cd $$dir; make -k inst-dist) \
	done

checkin:
	@@echo; echo "Release ${RELEASE}, RCS_Revision ${RCS_REVISION}.  make $@@"
	rcs -l ${TOP_FILES}
	ci -u -f -r${RCS_REVISION} -sRel "-MRelease ${RELEASE}" ${TOP_FILES}
	-for dir in ${DIRS}; \
	do	echo ---------- $$dir; \
		(cd $$dir; rm -f Makefile.bak; \
		rcs -l *.[cshf1-9] Makefile*; \
		ci -u -f -r${RCS_REVISION} -sRel "-MRelease ${RELEASE}" *.[cshf1-9] Makefile* ) \
	done

# Remove all binary files (clean, noprod)
clobber:
	@@echo; echo "Release ${RELEASE}.  make $@@"
	-for dir in ${DIRS}; \
	do	echo ---------- $$dir; \
		(cd $$dir; make -k clobber) \
	done

# Remove all .o files, leave products
d42 1
a42 7
	@@echo; echo "Release ${RELEASE}.  make $@@"
	-for dir in ${DIRS}; \
	do	echo ---------- $$dir; \
		(cd $$dir; make -k clean) \
	done

# Remove all products, leave all .o files
d44 3
a46 6
	@@echo; echo "Release ${RELEASE}.  make $@@"
	-for dir in ${DIRS}; \
	do	echo ---------- $$dir; \
		(cd $$dir; make -k noprod) \
	done

d48 7
a54 9
	@@echo; echo "Release ${RELEASE}.  make $@@"
	-for dir in ${DIRS}; \
	do	echo ---------- $$dir; \
		(cd $$dir; make -k lint) \
	done

# Do a "make install" as step 1 of making a distribution.
#
# Use "make dist" as step 2 of making a distribution.
d56 1
a56 6
	@@echo; echo "Release ${RELEASE}.  make $@@"
	cp Copyright* README Makefile* cray.sh cray-ar.sh ${DISTDIR}
	(cd bench; make clobber; make install)
	cd ${DISTDIR}; du -a > Contents

# Use as step 3 of making a distribution -- write the archive
d58 7
a64 20
	@@echo; echo "Release ${RELEASE}.  make $@@"
	cd ${DISTDIR}; tar cfv ${ARCHIVE} *
	# $4 will be file size in bytes, pad to 200K byte boundary for SGI
	set -- `ls -l ${ARCHIVE}` ; \
		PADBYTES=`echo "204800 $4 204800 %-p" | dc` ; \
		if test ${PADBYTES} -lt 204800 ; then \
			gencolor -r${PADBYTES} 0 >> ${ARCHIVE} ; \
		fi
	chmod 444 ${ARCHIVE}


# Here, we assume that all the machine-specific files have been set up.
#
#HOSTS=brl-vmb brl-sem
#
#rdist:	# all
#	for host in ${HOSTS} ; do (rdist -d HOSTS=$$host all ; \
#		rsh $$host "(cd cad; make -k all)" ) \
#		; done
#		| mail mike -s CAD_Update ; done
@


7.1
log
@Release 2.3
@
text
@d16 1
a16 1
#  $Header: Makefile,v 6.1 87/07/11 07:47:50 mike Locked $		#
d20 11
a31 1
FTPDIR		= /usr/spool/ftp/arch
d33 1
d35 3
d61 1
d69 1
d77 1
d91 1
d98 1
d105 1
d112 1
d132 1
a137 3
MESSAGE		= "-mRelease 2.3"
REV_NO		= -r7
TOP_FILES	= README Makefile Makefile.defs Makefile.rules
d139 1
d141 1
a141 1
	ci -u -f ${REV_NO} -sRel ${MESSAGE} ${TOP_FILES}
d146 1
a146 1
		ci -u -f ${REV_NO} -sRel ${MESSAGE} *.[cshf1-9] Makefile* ) \
d151 1
d159 1
d167 1
d174 1
d184 2
a185 1
	cp Copyright* README Makefile* cray-ar.sh ${DISTDIR}
d189 1
a189 1
# Use as step 3 of making a distribution -- write the archive or tape
d191 9
a199 4
	-mv -f ${ARCHDIR}/cad.tar ${ARCHDIR}/cad.tar.bak
	cd ${DISTDIR}; tar cfv ${ARCHDIR}/cad.tar *
	chmod 444 ${ARCHDIR}/cad*.tar
	echo "Please rename this tar file with the release number"
a200 5
tape0:
	cd ${DISTDIR}; tar cvf /dev/rmt0 *

tape1:
	cd ${DISTDIR}; tar cvf /dev/rmt1 *
@


6.1
log
@Release 2.0
@
text
@d16 1
a16 1
#  $Header: Makefile,v 5.2 87/06/25 01:28:20 mike Exp $		#
d43 1
d116 2
a117 2
MESSAGE		= "-mRelease 2.0"
REV_NO		= -r6
d164 1
a164 7
# Use as step 3 of making a distribution -- write the tape and/or FTP archive
tape0:
	cd ${DISTDIR}; tar cvf /dev/rmt0 *

tape1:
	cd ${DISTDIR}; tar cvf /dev/rmt1 *

d171 5
a175 5
ftp:
	-rm -f ${FTPDIR}/cad.tar ${FTPDIR}/cad2.tar
	cd ${DISTDIR}; tar cfv ${FTPDIR}/cad.tar *
#	cd ${DISTDIR}; tar cfv ${FTPDIR}/cad2.tar [A-Za-oq-z]* paper
	chmod 444 ${FTPDIR}/cad*.tar
@


5.2
log
@Removed "make all" warning message.
@
text
@d16 1
a16 1
#  $Header: Makefile,v 5.1 87/06/24 21:46:46 mike Locked $		#
d115 2
d120 1
a120 1
	ci -u -f -r5 -sRel "-mRelease 1.24" ${TOP_FILES}
d125 1
a125 1
		ci -u -f -r5 -sRel "-mRelease 1.24" *.[cshf1-9] Makefile* ) \
d128 7
d143 1
a143 1
clobber:
d146 1
a146 1
		(cd $$dir; make -k clobber) \
@


5.1
log
@Release 1.24
@
text
@d16 1
a16 1
#  $Header: Makefile,v 1.2 87/06/24 21:23:46 mike Exp $		#
a52 2
	@@echo "Hopefully, all the Makefile.loc parameters are right"

@


1.2
log
@Preparation for release 1.24
@
text
@d16 1
a16 1
#  $Header: pkg.h,v 4.5 87/06/24 20:32:34 mike Exp $		#
@


1.1
log
@Release 1.20 -- First Formal Release
@
text
@d1 18
a18 7
#			cad/Makefile
# The Master Makefile for the BRL CAD Software Distribution
#
# Source -
#	SECAD/VLD Computing Consortium, Bldg 394
#	The U. S. Army Ballistic Research Laboratory
#	Aberdeen Proving Ground, Maryland  21005-5066
d25 2
a26 1
# on all systems:
a28 1
#	fbed		new, BSD or SGI only for now
d33 1
d40 1
d42 1
d44 1
a44 1
		  librt rt \
a47 1
		  libcursor \
d49 2
a50 1
		  vdeck
d63 1
d69 2
d110 1
a110 1
# Temporary hack for Mike, dont use!
d117 12
d135 1
d140 6
@
