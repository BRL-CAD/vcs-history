head	11.156;
access;
symbols
	ansi-20040405-merged:11.144.2.1
	premerge-autoconf:11.155
	ansi-20040316-freeze:11.144
	postmerge-20040315-windows:11.155
	premerge-20040315-windows:11.155
	windows-20040315-freeze:11.144.4.2
	autoconf-20031203:11.152.2.1
	autoconf-20031202:11.152
	phong-branch:11.151.0.2
	photonmap-branch:11.150.0.2
	rel-6-1-DP:11.147
	windows-branch:11.144.0.4
	rel-6-0-2:11.143.2.1
	ansi-branch:11.144.0.2
	rel-6-0-1-branch:11.143.0.2
	hartley-6-0-post:11.143
	hartley-6-0-pre:11.143
	rel-6-0-1:11.143
	rel-6-0:11.140
	rel-5-4:11.112.2.14
	offsite-5-3-pre:11.124
	rel-5-3:11.112.2.13
	rel-5-2:11.112.2.7
	rel-5-1-branch:11.112.0.2
	rel-5-1:11.112
	rel-5-0:11.91
	rel-5-0-beta:11.89
	rel-4-5:11.37
	ctj-4-5-post:11.33
	ctj-4-5-pre:11.33
	rel-4-4:11.4
	rel-4-0:10.1
	rel-3-5:9.1
	rel-3-0:8.1
	AUTOCONF:11.152.0.2;
locks; strict;
comment	@# @;


11.156
date	2004.03.18.18.47.48;	author erikg;	state dead;
branches;
next	11.155;

11.155
date	2004.03.09.20.57.00;	author morrison;	state Exp;
branches;
next	11.154;

11.154
date	2004.01.07.13.34.04;	author jra;	state Exp;
branches;
next	11.153;

11.153
date	2003.10.30.21.46.21;	author jra;	state Exp;
branches;
next	11.152;

11.152
date	2003.09.27.00.47.32;	author morrison;	state Exp;
branches
	11.152.2.1;
next	11.151;

11.151
date	2003.08.08.08.57.11;	author morrison;	state Exp;
branches;
next	11.150;

11.150
date	2003.03.13.19.25.02;	author jra;	state Exp;
branches
	11.150.2.1;
next	11.149;

11.149
date	2003.01.06.21.40.18;	author jra;	state Exp;
branches;
next	11.148;

11.148
date	2002.12.19.21.44.03;	author jra;	state Exp;
branches;
next	11.147;

11.147
date	2002.10.25.02.28.34;	author morrison;	state Exp;
branches;
next	11.146;

11.146
date	2002.10.22.00.35.39;	author morrison;	state Exp;
branches;
next	11.145;

11.145
date	2002.10.04.04.23.54;	author jra;	state Exp;
branches;
next	11.144;

11.144
date	2002.09.17.12.26.09;	author morrison;	state Exp;
branches
	11.144.2.1
	11.144.4.1;
next	11.143;

11.143
date	2002.07.11.18.38.47;	author rbowers;	state Exp;
branches
	11.143.2.1;
next	11.142;

11.142
date	2002.07.02.18.49.53;	author butler;	state Exp;
branches;
next	11.141;

11.141
date	2002.05.03.18.59.44;	author jra;	state Exp;
branches;
next	11.140;

11.140
date	2002.03.22.21.48.42;	author jra;	state Exp;
branches;
next	11.139;

11.139
date	2002.03.22.16.13.02;	author jra;	state Exp;
branches;
next	11.138;

11.138
date	2002.03.22.14.15.04;	author jra;	state Exp;
branches;
next	11.137;

11.137
date	2002.03.14.14.12.05;	author jra;	state Exp;
branches;
next	11.136;

11.136
date	2001.12.02.00.17.48;	author jra;	state Exp;
branches;
next	11.135;

11.135
date	2001.11.07.03.08.46;	author morrison;	state Exp;
branches;
next	11.134;

11.134
date	2001.11.06.23.04.16;	author morrison;	state Exp;
branches;
next	11.133;

11.133
date	2001.10.24.21.08.42;	author jra;	state Exp;
branches;
next	11.132;

11.132
date	2001.10.24.20.42.19;	author jra;	state Exp;
branches;
next	11.131;

11.131
date	2001.10.24.19.57.58;	author jra;	state Exp;
branches;
next	11.130;

11.130
date	2001.10.15.19.58.03;	author morrison;	state Exp;
branches;
next	11.129;

11.129
date	2001.08.10.21.19.26;	author morrison;	state Exp;
branches;
next	11.128;

11.128
date	2001.07.23.16.54.36;	author jra;	state Exp;
branches;
next	11.127;

11.127
date	2001.04.17.20.43.59;	author bparker;	state Exp;
branches;
next	11.126;

11.126
date	2001.04.09.17.41.37;	author jra;	state Exp;
branches;
next	11.125;

11.125
date	2001.03.19.22.19.07;	author butler;	state Exp;
branches;
next	11.124;

11.124
date	2001.03.15.14.38.31;	author jra;	state Exp;
branches;
next	11.123;

11.123
date	2000.12.08.21.28.26;	author bparker;	state Exp;
branches;
next	11.122;

11.122
date	2000.12.06.21.54.35;	author bparker;	state Exp;
branches;
next	11.121;

11.121
date	2000.09.09.01.13.44;	author mike;	state Exp;
branches;
next	11.120;

11.120
date	2000.09.07.19.23.09;	author mike;	state Exp;
branches;
next	11.119;

11.119
date	2000.09.07.18.46.54;	author jra;	state Exp;
branches;
next	11.118;

11.118
date	2000.09.01.14.18.33;	author bparker;	state Exp;
branches;
next	11.117;

11.117
date	2000.08.24.21.18.57;	author mike;	state Exp;
branches;
next	11.116;

11.116
date	2000.08.24.03.41.22;	author mike;	state Exp;
branches;
next	11.115;

11.115
date	2000.08.23.02.42.30;	author mike;	state Exp;
branches;
next	11.114;

11.114
date	2000.08.22.19.40.34;	author jra;	state Exp;
branches;
next	11.113;

11.113
date	2000.08.16.17.48.49;	author bparker;	state Exp;
branches;
next	11.112;

11.112
date	2000.05.26.03.08.15;	author mike;	state Exp;
branches
	11.112.2.1;
next	11.111;

11.111
date	2000.05.25.06.57.33;	author mike;	state Exp;
branches;
next	11.110;

11.110
date	2000.05.25.06.35.14;	author mike;	state Exp;
branches;
next	11.109;

11.109
date	2000.05.25.03.48.33;	author mike;	state Exp;
branches;
next	11.108;

11.108
date	2000.05.25.03.35.02;	author mike;	state Exp;
branches;
next	11.107;

11.107
date	2000.05.25.01.55.13;	author mike;	state Exp;
branches;
next	11.106;

11.106
date	2000.05.25.00.42.06;	author mike;	state Exp;
branches;
next	11.105;

11.105
date	2000.05.19.20.22.20;	author bparker;	state Exp;
branches;
next	11.104;

11.104
date	2000.03.17.06.27.33;	author mike;	state Exp;
branches;
next	11.103;

11.103
date	2000.03.05.17.05.29;	author cjohnson;	state Exp;
branches;
next	11.102;

11.102
date	2000.03.04.04.33.29;	author mike;	state Exp;
branches;
next	11.101;

11.101
date	2000.03.04.04.31.53;	author mike;	state Exp;
branches;
next	11.100;

11.100
date	2000.02.01.15.30.09;	author bparker;	state Exp;
branches;
next	11.99;

11.99
date	2000.01.28.15.56.47;	author jra;	state Exp;
branches;
next	11.98;

11.98
date	99.12.17.16.46.34;	author bparker;	state Exp;
branches;
next	11.97;

11.97
date	99.12.07.15.50.25;	author jra;	state Exp;
branches;
next	11.96;

11.96
date	99.11.16.02.35.56;	author mike;	state Exp;
branches;
next	11.95;

11.95
date	99.11.16.02.21.50;	author mike;	state Exp;
branches;
next	11.94;

11.94
date	99.10.28.01.48.07;	author mike;	state Exp;
branches;
next	11.93;

11.93
date	99.10.25.18.27.38;	author jra;	state Exp;
branches;
next	11.92;

11.92
date	99.10.22.19.06.52;	author jra;	state Exp;
branches;
next	11.91;

11.91
date	99.07.01.01.25.51;	author mike;	state Exp;
branches;
next	11.90;

11.90
date	99.06.02.15.52.43;	author butler;	state Exp;
branches;
next	11.89;

11.89
date	99.06.01.21.36.31;	author butler;	state Exp;
branches;
next	11.88;

11.88
date	99.05.28.01.29.43;	author mike;	state Exp;
branches;
next	11.87;

11.87
date	99.05.19.19.54.46;	author butler;	state Exp;
branches;
next	11.86;

11.86
date	99.05.17.18.01.50;	author jra;	state Exp;
branches;
next	11.85;

11.85
date	99.05.17.14.43.39;	author butler;	state Exp;
branches;
next	11.84;

11.84
date	99.05.15.05.12.55;	author butler;	state Exp;
branches;
next	11.83;

11.83
date	99.05.15.02.56.34;	author butler;	state Exp;
branches;
next	11.82;

11.82
date	99.05.13.21.51.41;	author bparker;	state Exp;
branches;
next	11.81;

11.81
date	99.05.13.19.15.23;	author mike;	state Exp;
branches;
next	11.80;

11.80
date	99.05.13.14.29.16;	author jra;	state Exp;
branches;
next	11.79;

11.79
date	99.05.12.19.06.11;	author jra;	state Exp;
branches;
next	11.78;

11.78
date	99.05.11.13.41.05;	author pjt;	state Exp;
branches;
next	11.77;

11.77
date	99.05.08.01.20.03;	author mike;	state Exp;
branches;
next	11.76;

11.76
date	99.05.08.00.57.23;	author mike;	state Exp;
branches;
next	11.75;

11.75
date	99.05.08.00.19.14;	author mike;	state Exp;
branches;
next	11.74;

11.74
date	99.05.08.00.10.57;	author mike;	state Exp;
branches;
next	11.73;

11.73
date	99.05.08.00.09.37;	author mike;	state Exp;
branches;
next	11.72;

11.72
date	99.05.08.00.06.32;	author mike;	state Exp;
branches;
next	11.71;

11.71
date	99.04.30.20.51.27;	author bparker;	state Exp;
branches;
next	11.70;

11.70
date	99.04.29.22.15.19;	author butler;	state Exp;
branches;
next	11.69;

11.69
date	99.04.29.19.33.18;	author bparker;	state Exp;
branches;
next	11.68;

11.68
date	99.04.22.20.59.13;	author mike;	state Exp;
branches;
next	11.67;

11.67
date	99.04.22.20.52.15;	author mike;	state Exp;
branches;
next	11.66;

11.66
date	99.04.22.20.31.23;	author mike;	state Exp;
branches;
next	11.65;

11.65
date	99.02.12.20.47.40;	author jra;	state Exp;
branches;
next	11.64;

11.64
date	99.01.27.16.07.50;	author jra;	state Exp;
branches;
next	11.63;

11.63
date	99.01.27.14.52.56;	author jra;	state Exp;
branches;
next	11.62;

11.62
date	99.01.21.18.10.03;	author butler;	state Exp;
branches;
next	11.61;

11.61
date	99.01.21.03.13.04;	author mike;	state Exp;
branches;
next	11.60;

11.60
date	99.01.21.02.50.56;	author mike;	state Exp;
branches;
next	11.59;

11.59
date	99.01.15.03.54.51;	author butler;	state Exp;
branches;
next	11.58;

11.58
date	99.01.08.22.55.01;	author jra;	state Exp;
branches;
next	11.57;

11.57
date	99.01.08.20.18.48;	author bparker;	state Exp;
branches;
next	11.56;

11.56
date	99.01.07.03.55.00;	author mike;	state Exp;
branches;
next	11.55;

11.55
date	98.12.31.06.27.33;	author mike;	state Exp;
branches;
next	11.54;

11.54
date	98.12.31.03.15.14;	author mike;	state Exp;
branches;
next	11.53;

11.53
date	98.12.31.02.23.03;	author mike;	state Exp;
branches;
next	11.52;

11.52
date	98.12.31.01.18.07;	author mike;	state Exp;
branches;
next	11.51;

11.51
date	98.12.30.04.26.54;	author mike;	state Exp;
branches;
next	11.50;

11.50
date	98.12.29.00.41.37;	author mike;	state Exp;
branches;
next	11.49;

11.49
date	98.09.23.13.29.57;	author bparker;	state Exp;
branches;
next	11.48;

11.48
date	98.09.22.19.49.05;	author bparker;	state Exp;
branches;
next	11.47;

11.47
date	98.09.22.02.20.42;	author mike;	state Exp;
branches;
next	11.46;

11.46
date	98.09.22.01.31.57;	author mike;	state Exp;
branches;
next	11.45;

11.45
date	98.09.21.19.39.32;	author bparker;	state Exp;
branches;
next	11.44;

11.44
date	98.08.22.23.06.25;	author mike;	state Exp;
branches;
next	11.43;

11.43
date	98.08.21.22.21.32;	author mike;	state Exp;
branches;
next	11.42;

11.42
date	98.08.21.19.38.04;	author mike;	state Exp;
branches;
next	11.41;

11.41
date	98.06.25.17.21.24;	author jra;	state Exp;
branches;
next	11.40;

11.40
date	98.06.24.13.22.43;	author jra;	state Exp;
branches;
next	11.39;

11.39
date	98.06.22.15.15.31;	author jra;	state Exp;
branches;
next	11.38;

11.38
date	98.03.27.02.23.20;	author mike;	state Exp;
branches;
next	11.37;

11.37
date	98.02.04.00.44.32;	author mike;	state Exp;
branches;
next	11.36;

11.36
date	98.02.04.00.08.52;	author mike;	state Exp;
branches;
next	11.35;

11.35
date	98.01.29.05.33.09;	author mike;	state Exp;
branches;
next	11.34;

11.34
date	98.01.13.05.00.12;	author mike;	state Exp;
branches;
next	11.33;

11.33
date	97.10.08.04.50.30;	author mike;	state Exp;
branches;
next	11.32;

11.32
date	97.06.20.06.07.49;	author cjohnson;	state Exp;
branches;
next	11.31;

11.31
date	97.06.11.00.49.06;	author mike;	state Exp;
branches;
next	11.30;

11.30
date	97.05.20.21.09.28;	author mike;	state Exp;
branches;
next	11.29;

11.29
date	97.05.19.23.17.36;	author cjohnson;	state Exp;
branches;
next	11.28;

11.28
date	97.05.06.18.19.11;	author mike;	state Exp;
branches;
next	11.27;

11.27
date	97.03.27.20.41.17;	author jra;	state Exp;
branches;
next	11.26;

11.26
date	97.03.10.22.15.59;	author butler;	state Exp;
branches;
next	11.25;

11.25
date	97.01.08.22.15.48;	author mike;	state Exp;
branches;
next	11.24;

11.24
date	97.01.08.04.26.17;	author mike;	state Exp;
branches;
next	11.23;

11.23
date	97.01.08.04.24.16;	author mike;	state Exp;
branches;
next	11.22;

11.22
date	97.01.08.02.16.42;	author mike;	state Exp;
branches;
next	11.21;

11.21
date	97.01.07.23.24.13;	author mike;	state Exp;
branches;
next	11.20;

11.20
date	96.12.31.00.33.13;	author mike;	state Exp;
branches;
next	11.19;

11.19
date	96.12.31.00.30.48;	author mike;	state Exp;
branches;
next	11.18;

11.18
date	96.12.26.13.37.43;	author jra;	state Exp;
branches;
next	11.17;

11.17
date	96.11.19.23.10.05;	author jra;	state Exp;
branches;
next	11.16;

11.16
date	96.08.31.11.42.20;	author mike;	state Exp;
branches;
next	11.15;

11.15
date	96.08.28.05.36.13;	author mike;	state Exp;
branches;
next	11.14;

11.14
date	96.08.27.06.14.47;	author mike;	state Exp;
branches;
next	11.13;

11.13
date	96.08.27.06.01.51;	author mike;	state Exp;
branches;
next	11.12;

11.12
date	96.08.27.05.25.23;	author mike;	state Exp;
branches;
next	11.11;

11.11
date	96.07.15.20.06.18;	author pjt;	state Exp;
branches;
next	11.10;

11.10
date	96.07.10.12.45.14;	author jra;	state Exp;
branches;
next	11.9;

11.9
date	95.07.18.01.09.36;	author butler;	state Exp;
branches;
next	11.8;

11.8
date	95.06.16.16.58.00;	author gdurf;	state Exp;
branches;
next	11.7;

11.7
date	95.05.16.01.17.36;	author butler;	state Exp;
branches;
next	11.6;

11.6
date	95.01.31.09.59.14;	author jra;	state Exp;
branches;
next	11.5;

11.5
date	95.01.05.14.21.32;	author gdurf;	state Exp;
branches;
next	11.4;

11.4
date	95.01.05.04.11.41;	author mike;	state Rel4_4;
branches;
next	11.3;

11.3
date	95.01.04.10.39.49;	author mike;	state Exp;
branches;
next	11.2;

11.2
date	95.01.04.10.36.31;	author mike;	state Exp;
branches;
next	11.1;

11.1
date	95.01.04.09.43.42;	author mike;	state Rel4_4;
branches
	11.1.1.1;
next	10.45;

10.45
date	95.01.03.23.45.25;	author mike;	state Exp;
branches;
next	10.44;

10.44
date	95.01.03.21.26.25;	author mike;	state Exp;
branches;
next	10.43;

10.43
date	94.12.30.19.07.01;	author mike;	state Exp;
branches;
next	10.42;

10.42
date	94.12.30.06.11.47;	author mike;	state Exp;
branches;
next	10.41;

10.41
date	94.12.29.21.45.04;	author mike;	state Exp;
branches;
next	10.40;

10.40
date	94.12.28.00.03.25;	author mike;	state Exp;
branches;
next	10.39;

10.39
date	94.12.20.22.30.19;	author mike;	state Exp;
branches;
next	10.38;

10.38
date	94.12.02.00.17.33;	author mike;	state Exp;
branches;
next	10.37;

10.37
date	94.11.19.04.44.28;	author mike;	state Exp;
branches;
next	10.36;

10.36
date	94.11.15.00.21.23;	author mike;	state Exp;
branches;
next	10.35;

10.35
date	94.11.07.23.50.14;	author mike;	state Exp;
branches;
next	10.34;

10.34
date	94.11.07.23.21.45;	author mike;	state Exp;
branches;
next	10.33;

10.33
date	94.11.07.10.56.39;	author jra;	state Exp;
branches;
next	10.32;

10.32
date	94.11.05.11.04.44;	author mike;	state Exp;
branches;
next	10.31;

10.31
date	94.10.29.03.24.53;	author mike;	state Exp;
branches;
next	10.30;

10.30
date	94.10.24.20.54.58;	author mike;	state Exp;
branches;
next	10.29;

10.29
date	94.10.20.02.45.53;	author mike;	state Exp;
branches;
next	10.28;

10.28
date	94.10.20.02.05.10;	author mike;	state Exp;
branches;
next	10.27;

10.27
date	94.10.19.15.17.41;	author mike;	state Exp;
branches;
next	10.26;

10.26
date	94.10.19.14.44.41;	author mike;	state Exp;
branches;
next	10.25;

10.25
date	94.10.18.21.55.36;	author mike;	state Exp;
branches;
next	10.24;

10.24
date	94.10.12.00.05.55;	author mike;	state Exp;
branches;
next	10.23;

10.23
date	94.10.02.20.34.18;	author mike;	state Exp;
branches;
next	10.22;

10.22
date	94.09.30.17.47.20;	author mike;	state Exp;
branches;
next	10.21;

10.21
date	94.09.28.21.11.54;	author mike;	state Exp;
branches;
next	10.20;

10.20
date	94.09.28.21.00.30;	author mike;	state Exp;
branches;
next	10.19;

10.19
date	94.09.28.20.58.33;	author mike;	state Exp;
branches;
next	10.18;

10.18
date	94.09.24.03.38.12;	author mike;	state Exp;
branches;
next	10.17;

10.17
date	94.09.24.02.49.00;	author mike;	state Exp;
branches;
next	10.16;

10.16
date	94.09.23.20.01.44;	author mike;	state Exp;
branches;
next	10.15;

10.15
date	94.09.23.14.35.32;	author stay;	state Exp;
branches;
next	10.14;

10.14
date	94.09.22.14.14.08;	author jra;	state Exp;
branches;
next	10.13;

10.13
date	94.09.22.02.25.58;	author mike;	state Exp;
branches;
next	10.12;

10.12
date	94.09.21.04.09.30;	author mike;	state Exp;
branches;
next	10.11;

10.11
date	94.09.21.04.01.43;	author mike;	state Exp;
branches;
next	10.10;

10.10
date	94.09.21.03.59.49;	author mike;	state Exp;
branches;
next	10.9;

10.9
date	94.09.02.00.44.57;	author mike;	state Exp;
branches;
next	10.8;

10.8
date	94.08.29.12.01.16;	author jra;	state Exp;
branches;
next	10.7;

10.7
date	94.08.10.20.44.45;	author mike;	state Exp;
branches;
next	10.6;

10.6
date	92.10.27.22.37.51;	author mike;	state Exp;
branches;
next	10.5;

10.5
date	92.10.27.22.37.21;	author mike;	state Exp;
branches;
next	10.4;

10.4
date	92.03.17.22.27.57;	author mike;	state Exp;
branches;
next	10.3;

10.3
date	92.03.17.20.22.00;	author mike;	state Exp;
branches;
next	10.2;

10.2
date	91.10.12.07.21.01;	author mike;	state Exp;
branches;
next	10.1;

10.1
date	91.10.12.06.35.02;	author mike;	state Rel4_0;
branches;
next	9.36;

9.36
date	91.10.04.01.16.52;	author butler;	state Exp;
branches;
next	9.35;

9.35
date	91.09.23.03.56.42;	author mike;	state Exp;
branches;
next	9.34;

9.34
date	91.09.23.02.43.35;	author mike;	state Exp;
branches;
next	9.33;

9.33
date	91.09.23.02.43.08;	author butler;	state Exp;
branches;
next	9.32;

9.32
date	91.09.06.01.16.41;	author butler;	state Exp;
branches;
next	9.31;

9.31
date	91.09.03.15.48.12;	author butler;	state Exp;
branches;
next	9.30;

9.30
date	91.08.30.02.38.02;	author mike;	state Exp;
branches;
next	9.29;

9.29
date	91.08.30.01.56.08;	author mike;	state Exp;
branches;
next	9.28;

9.28
date	91.08.12.14.30.18;	author butler;	state Exp;
branches;
next	9.27;

9.27
date	91.07.27.02.33.55;	author mike;	state Exp;
branches;
next	9.26;

9.26
date	91.07.25.06.38.31;	author butler;	state Exp;
branches;
next	9.25;

9.25
date	91.07.24.01.40.07;	author butler;	state Exp;
branches;
next	9.24;

9.24
date	91.07.23.20.25.35;	author butler;	state Exp;
branches;
next	9.23;

9.23
date	91.07.19.04.36.39;	author butler;	state Exp;
branches;
next	9.22;

9.22
date	91.07.19.01.58.27;	author mike;	state Exp;
branches;
next	9.21;

9.21
date	91.07.18.14.00.10;	author mike;	state Exp;
branches;
next	9.20;

9.20
date	91.07.18.03.07.55;	author butler;	state Exp;
branches;
next	9.19;

9.19
date	91.07.18.00.24.20;	author mike;	state Exp;
branches;
next	9.18;

9.18
date	91.07.16.03.11.44;	author mike;	state Exp;
branches;
next	9.17;

9.17
date	91.07.10.01.02.02;	author mike;	state Exp;
branches;
next	9.16;

9.16
date	91.07.09.03.23.53;	author mike;	state Exp;
branches;
next	9.15;

9.15
date	91.07.03.03.46.17;	author mike;	state Exp;
branches;
next	9.14;

9.14
date	91.07.03.01.42.11;	author mike;	state Exp;
branches;
next	9.13;

9.13
date	91.07.02.07.47.10;	author mike;	state Exp;
branches;
next	9.12;

9.12
date	91.07.02.05.42.33;	author mike;	state Exp;
branches;
next	9.11;

9.11
date	91.07.02.03.36.25;	author mike;	state Exp;
branches;
next	9.10;

9.10
date	91.03.05.03.13.08;	author mike;	state Exp;
branches;
next	9.9;

9.9
date	91.01.28.15.48.34;	author butler;	state Exp;
branches;
next	9.8;

9.8
date	91.01.04.02.31.55;	author mike;	state Exp;
branches;
next	9.7;

9.7
date	91.01.03.23.17.05;	author mike;	state Exp;
branches;
next	9.6;

9.6
date	90.12.05.20.08.03;	author mike;	state Exp;
branches;
next	9.5;

9.5
date	90.11.26.21.30.40;	author mike;	state Exp;
branches;
next	9.4;

9.4
date	90.11.26.21.28.02;	author mike;	state Exp;
branches;
next	9.3;

9.3
date	89.06.19.23.38.44;	author mike;	state Exp;
branches;
next	9.2;

9.2
date	89.05.25.00.48.51;	author mike;	state Rel3_6;
branches;
next	9.1;

9.1
date	89.05.19.05.43.34;	author mike;	state Rel3_5;
branches;
next	8.5;

8.5
date	89.05.19.05.40.40;	author phil;	state Exp;
branches;
next	8.4;

8.4
date	88.10.06.07.37.22;	author mike;	state Rel3_0;
branches;
next	8.3;

8.3
date	88.10.06.07.11.36;	author mike;	state Rel3_0;
branches;
next	8.2;

8.2
date	88.10.05.01.27.22;	author mike;	state Exp;
branches;
next	8.1;

8.1
date	88.10.05.00.23.19;	author mike;	state Rel3_0;
branches;
next	1.7;

1.7
date	88.10.04.20.02.16;	author mike;	state Exp;
branches;
next	1.6;

1.6
date	88.10.01.07.59.18;	author mike;	state Exp;
branches;
next	1.5;

1.5
date	88.09.21.07.05.16;	author mike;	state Exp;
branches;
next	1.4;

1.4
date	88.09.21.01.19.03;	author mike;	state Exp;
branches;
next	1.3;

1.3
date	88.08.30.22.48.33;	author mike;	state Exp;
branches;
next	1.2;

1.2
date	88.05.06.05.57.02;	author mike;	state Exp;
branches;
next	1.1;

1.1
date	88.03.07.00.10.15;	author mike;	state Exp;
branches;
next	;

11.1.1.1
date	98.01.29.06.15.07;	author mike;	state Rel4_5;
branches;
next	;

11.112.2.1
date	2000.08.16.17.46.59;	author bparker;	state Exp;
branches;
next	11.112.2.2;

11.112.2.2
date	2000.08.18.20.51.03;	author jra;	state Exp;
branches;
next	11.112.2.3;

11.112.2.3
date	2000.08.21.14.26.32;	author jra;	state Exp;
branches;
next	11.112.2.4;

11.112.2.4
date	2000.08.22.13.01.08;	author jra;	state Exp;
branches;
next	11.112.2.5;

11.112.2.5
date	2000.08.22.13.09.55;	author jra;	state Exp;
branches;
next	11.112.2.6;

11.112.2.6
date	2000.09.01.17.22.38;	author bparker;	state Exp;
branches;
next	11.112.2.7;

11.112.2.7
date	2000.09.07.18.49.03;	author jra;	state Exp;
branches;
next	11.112.2.8;

11.112.2.8
date	2000.12.06.21.53.49;	author bparker;	state Exp;
branches;
next	11.112.2.9;

11.112.2.9
date	2000.12.08.21.28.45;	author bparker;	state Exp;
branches;
next	11.112.2.10;

11.112.2.10
date	2001.03.01.13.08.12;	author jra;	state Exp;
branches;
next	11.112.2.11;

11.112.2.11
date	2001.03.02.21.15.51;	author jra;	state Exp;
branches;
next	11.112.2.12;

11.112.2.12
date	2001.03.09.20.30.00;	author jra;	state Exp;
branches;
next	11.112.2.13;

11.112.2.13
date	2001.03.12.13.35.01;	author jra;	state Exp;
branches;
next	11.112.2.14;

11.112.2.14
date	2001.07.11.12.31.11;	author jra;	state Exp;
branches;
next	;

11.143.2.1
date	2002.09.24.12.32.27;	author jra;	state Exp;
branches;
next	;

11.144.2.1
date	2004.03.17.21.15.46;	author morrison;	state Exp;
branches;
next	;

11.144.4.1
date	2002.09.26.23.03.43;	author morrison;	state Exp;
branches;
next	11.144.4.2;

11.144.4.2
date	2004.03.11.23.40.24;	author morrison;	state Exp;
branches;
next	;

11.150.2.1
date	2003.08.26.14.02.55;	author justin;	state Exp;
branches;
next	;

11.152.2.1
date	2003.12.03.17.44.52;	author erikg;	state Exp;
branches;
next	11.152.2.2;

11.152.2.2
date	2004.02.12.19.40.39;	author erikg;	state Exp;
branches;
next	11.152.2.3;

11.152.2.3
date	2004.03.15.14.06.04;	author erikg;	state Exp;
branches;
next	11.152.2.4;

11.152.2.4
date	2004.03.18.18.08.49;	author erikg;	state dead;
branches;
next	;


desc
@Actual code for the top-level Makefile.
Separated into a script to make things more reasonable
@


11.156
log
@file fixes...
@
text
@#!/bin/sh
#################################################################
#								#
#			gen.sh					#
#								#
#  The real code behind the Master Makefile for			#
#  the BRL CAD Software Distribution				#
#								#
#  Author -							#
#	Michael John Muuss					#
#								#
# Source -							#
#	SECAD/VLD Computing Consortium, Bldg 394		#
#	The U. S. Army Ballistic Research Laboratory		#
#	Aberdeen Proving Ground, Maryland  21005-5066		#
#								#
#  $Header: /cvs/brlcad/gen.sh,v 11.155 2004/03/09 20:57:00 morrison Exp $	#
#								#
#################################################################

if [ $# -gt 0 -a X$1 = X-s ] ; then
	SILENT=-s
	shift
else
	SILENT=""
fi


# Ensure that all subordinate scripts run with the Bourne shell,
# rather than the user's shell
SHELL=/bin/sh
export SHELL

# Set to 0 for non-NFS environment (default), 1 for NFS configuration.
NFS=1

# Label number for this CAD Release,
# RCS main Revision number, and date.
#RELEASE=M.N;	RCS_REVISION=X;		REL=DATE=dd-mmm-yy
RELEASE=6.1;	RCS_REVISION=19;	REL_DATE=XX-Oct-03	# 6.1
#RELEASE=6.1DP;	RCS_REVISION=18;	REL_DATE=25-Oct-02	# 6.1 developer preview
#RELEASE=6.02;	RCS_REVISION=18;	REL_DATE=13-Sep-02	# 6.0.2
#RELEASE=6.01;	RCS_REVISION=17;	REL_DATE=2-July-02	# 6.0.1
#RELEASE=6.0;	RCS_REVISION=16;	REL_DATE=22-March-02	# 6.0
#RELEASE=5.4;	RCS_REVISION=15;	REL_DATE=18-Jul-01	# internal
#RELEASE=5.3;	RCS_REVISION=14;	REL_DATE=5-Mar-01	# 5.3
#RELEASE=5.2;	RCS_REVISION=13;	REL_DATE=21-Aug-00	# 5.2
#RELEASE=5.1;	RCS_REVISION=13;	REL_DATE=Today		# beyond 5.1
#RELEASE=5.0;	RCS_REVISION=12;	REL_DATE=15-Sept-99	# 5.0 production
#RELEASE=4.6;	RCS_REVISION=11;	REL_DATE=7-Jul-99	# 5.0beta
#RELEASE=4.5;	RCS_REVISION=11;	REL_DATE=14-Feb-98	# 4.5 production
#RELEASE=4.4;	RCS_REVISION=11;	REL_DATE=5-Jan-95	# 4.4 production
#RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=2-Jan-95	# Beta6
#RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=29-Dec-94	# Beta5
#RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=27-Dec-94	# Beta4
#RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=20-Dec-94	# Beta3
#RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=1-Dec-94	# Beta2
#RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=19-Nov-94	# Beta1
#RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=4-Nov-94	# Alpha6
#RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=20-Oct-94	# Alpha5
#RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=18-Oct-94	# Alpha4
#RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=11-Oct-94	# Alpha3
#RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=30-Sept-94	# Alpha2
#RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=23-Sept-94	# Alpha
#RELEASE=4.2;	RCS_REVISION=10;	REL_DATE=12-Nov-93	# Bugfix2
#RELEASE=4.1;	RCS_REVISION=10;	REL_DATE=17-March-92	# Bugfix1
#RELEASE=4.0;	RCS_REVISION=10;	REL_DATE=12-Oct-91
#RELEASE=3.31;	RCS_REVISION=9;		REL_DATE=5-Oct-91	# Beta+18
#RELEASE=3.30;	RCS_REVISION=9;		REL_DATE=22-Sept-91	# Beta+17
#RELEASE=3.29;	RCS_REVISION=9;		REL_DATE=10-Sept-91	# Beta+16
#RELEASE=3.28;	RCS_REVISION=9;		REL_DATE=6-Sept-91	# Beta+15
#RELEASE=3.27;	RCS_REVISION=9;		REL_DATE=31-Aug-91	# Beta+14
#RELEASE=3.26;	RCS_REVISION=9;		REL_DATE=25-Aug-91	# Beta+13
#RELEASE=3.25;	RCS_REVISION=9;		REL_DATE=22-Aug-91	# Beta+12
#RELEASE=3.24;	RCS_REVISION=9;		REL_DATE=19-Aug-91	# Beta+11
#RELEASE=3.23;	RCS_REVISION=9;		REL_DATE=12-Aug-91	# Beta+10
#RELEASE=3.22;	RCS_REVISION=9;		REL_DATE=26-July-91	# Beta+9
#RELEASE=3.21;	RCS_REVISION=9;		REL_DATE=25-July-91	# Beta+8
#RELEASE=3.20;	RCS_REVISION=9;		REL_DATE=25-July-91	# Beta+7
#RELEASE=3.19;	RCS_REVISION=9;		REL_DATE=24-July-91	# Beta+6
#RELEASE=3.17;	RCS_REVISION=9;		REL_DATE=23-July-91	# Beta+5
#RELEASE=3.16;	RCS_REVISION=9;		REL_DATE=19-July-91	# Beta+4
#RELEASE=3.15;	RCS_REVISION=9;		REL_DATE=17-Jul-91	# Beta+3
#RELEASE=3.14;	RCS_REVISION=9;		REL_DATE=15-July-91	# Beta+2
#RELEASE=3.13;	RCS_REVISION=9;		REL_DATE=9-Jul-91	# Beta+1
#RELEASE=3.12;	RCS_REVISION=9;		REL_DATE=8-Jul-91	# Beta
#RELEASE=3.11;	RCS_REVISION=9;		REL_DATE=2-Jul-91	# alpha+1
#RELEASE=3.10;	RCS_REVISION=9;		REL_DATE=1-Jul-91	# alpha
#RELEASE=3.9;	RCS_REVISION=9;		REL_DATE=28-Jan-91	# internal
#RELEASE=3.8;	RCS_REVISION=9;		REL_DATE=3-Jan-91	# internal
#RELEASE=3.7;	RCS_REVISION=9;		REL_DATE=19-June-89
#RELEASE=3.6;	RCS_REVISION=9;		REL_DATE=25-May-89	# internal
#RELEASE=3.5;	RCS_REVISION=9;		REL_DATE=23-May-89	# internal
#RELEASE=3.4;	RCS_REVISION=8;		REL_DATE=18-May-89	# internal
#RELEASE=3.3;	RCS_REVISION=8;		REL_DATE=17-May-89	# internal
#RELEASE=3.2;	RCS_REVISION=8;		REL_DATE=05-May-89	# internal
#RELEASE=3.1;	RCS_REVISION=8;		REL_DATE=27-Apr-89	# internal
#RELEASE=3.0;	RCS_REVISION=8;		REL_DATE=10-Oct-88
#RELEASE=2.10;	RCS_REVISION=7;		REL_DATE=04-Oct-88	# internal
#RELEASE=2.9;	RCS_REVISION=7;		REL_DATE=31-Sep-88	# internal
#RELEASE=2.8;	RCS_REVISION=7;		REL_DATE=21-Sep-88	# internal
#RELEASE=2.7;	RCS_REVISION=7;		REL_DATE=12-Sep-88	# internal
#RELEASE=2.6;	RCS_REVISION=7;		REL_DATE=09-Sep-88	# internal
#RELEASE=2.5;	RCS_REVISION=7;		REL_DATE=08-Sep-88	# internal
#RELEASE=2.4;	RCS_REVISION=7;		REL_DATE=10-Jun-88	# internal
#RELEASE=2.3;	RCS_REVISION=7;		REL_DATE=02-Nov-87
#RELEASE=2.0;	RCS_REVISION=6;		REL_DATE=11-Jul-87
#RELEASE=1.24;	RCS_REVISION=5;		REL_DATE=11-Jun-87
#RELEASE=1.20;	RCS_REVISION=1;		REL_DATE=12-Feb-87

#
# Sanity check -- make sure that all the necessary programs have
# made it into the search path.  Otherwise, nothing will work.
# For this purpose, specifically exclude "dot" from the check.
#
NECESSARY_CMDS="cake cakesub cakeinclude machinetype.sh \
	ranlib5.sh cadbug.sh"
PATH_ELEMENTS=`echo $PATH | sed 's/^://
				s/:://g
				s/:$//
				s/:\\.:/:/g
				s/:/ /g'`
for CMD in ${NECESSARY_CMDS}
do
	not_found=1		# Assume cmd not found
	for PREFIX in ${PATH_ELEMENTS}
	do
		if test -f ${PREFIX}/${CMD}
		then
			# This was -x, but older BSD systems don't do -x.
			if test -s ${PREFIX}/${CMD}
			then
				# all is well
				not_found=0
				break
			fi
			echo "$0 WARNING:  ${PREFIX}/${CMD} exists, but is not executable."
		fi
	done
	if test ${not_found} -ne 0
	then
		echo "$0 ERROR:  ${CMD} is not in your Shell search path!"
		echo "$0 ERROR:  Software installation can not proceed until this has been fixed."
		echo "$0 ERROR:  Consult installation directions for more information."
		exit 1		# Die
	fi
done

# This will set Shell variables MACHINE, UNIXTYPE, HAS_TCP, and BASEDIR
eval `machinetype.sh -b`
BRLCAD_ROOT=${BASEDIR}
export BRLCAD_ROOT

CAKE=../cake.$MACHINE/cake

if [ ! -f Cakefile.defs -a X$1 != Xdist ] ; then
	echo "WARNING: $0 should be run from the root of the brlcad source tree."
	echo "WARNING: Many operations won't work (but some will)"
	echo ""
fi
DISTDIR=dist
ARCHDIR=arch
ARCHIVE=${ARCHDIR}/cad${RELEASE}.tar

# Every shell script to be distributed must be listed here.
# Scripts to be installed in $BINDIR need to be listed in setup.sh $SCRIPTS also.
TOP_FILES="Copyright* README Cakefile* Makefile Acknowledgements \
		gen.sh setup.sh newbindir.sh"

# Has Cakefile, but no compilation or tools needed, not machine specific
ADIRS="h doc pix vfont awf brlman"

# Has no Cakefile, just copy it (and all sub-directories!) verbatim.
# Only used in "dist" command.
CDIRS="sh cake cakeaux html"

# Source directories that will have Machine specific binary directories
# These will be built in the order listed.
# db depends on conv, conv depends on libwdb, libwdb depends on librt
BDIRS="bench \
	libtcl8.4 \
	libtk8.4 \
	libitcl \
        iwidgets4.0.1 \
	libz \
	libpng \
	libsysv \
	liborle \
	libutahrle \
	libfft \
	libpkg \
	libcursor \
	libbu \
	libbn \
	librt \
	librtserver \
	liboptical \
	libfb \
	libwdb \
	libdm \
	libmultispectral \
	libtermio \
	libtclcad \
	rt \
	fbserv \
	fb \
	fbed \
	conv \
	util \
	db \
	mged \
	remrt \
	proc-db \
	tools \
	mk \
	iges \
	lgt \
	patch \
	vas4 \
	vdeck \
	sig \
	tab \
	anim \
	off \
	halftone \
	nirt \
	jack \
	irprep \
	canon \
	burst \
	gtools \
	comgeom-g \
        unigraphics \
	jove \
	bwish \
	btclsh \
"			# This ends the list.

#
# Cakefiles to execute in tclscripts.
#
TSDIRS=". mged nirt pl-dm lib util rtwizard/examples/PictureTypeA rtwizard/examples/PictureTypeB rtwizard/examples/PictureTypeC rtwizard/examples/PictureTypeD rtwizard/examples/PictureTypeE rtwizard/examples/PictureTypeF rtwizard/lib rtwizard geometree"

HTML_DIRS="html/manuals html/manuals/shaders html/manuals/Anim_Tutorial html/manuals/libdm html/manuals/mged html/manuals/mged/animmate html/manuals/librt html/manuals/libbu html/manuals/cadwidgets html/ReleaseNotes html/ReleaseNotes/Rel5.0 html/ReleaseNotes/Rel5.0/Summary"
INSTALL_ONLY_DIRS="sample_applications $HTML_DIRS"
PROE_DIRS=". sgi_mips4 text resource"

# If there is no TCP networking, eliminate network-only directories.
if test "${HAS_TCP}" = "0"
then
	BDIRS=`echo ${BDIRS} | sed -e  's/libpkg//
					s/remrt//
					s/fbserv//'`
fi

# If this is not an SGI, eliminate SGI direct-SCSI-library-specific directories
case "${MACHINE}" in
	4d|5d|6d|7d|m3i6*|m4i6*)
		# These platforms all have libds.a
		;;
	*)
		BDIRS=`echo ${BDIRS} | sed -e  's/canon//' `
		;;
esac

if test X"$1" = X""
then	TARGET=all
else	TARGET=$1; shift
fi

# For handline multiple machines in an NFS environment
if test "${NFS}" = "1"
then
	DIRPRE=.
	DIRSUF=.${MACHINE}
else
	DIRPRE=
	DIRSUF=
fi


if test "${SILENT}" = ""
then
	echo
	echo "This Release = ${RELEASE} of ${REL_DATE}      Making Target: ${TARGET}"
	echo " BRLCAD_ROOT = ${BRLCAD_ROOT}"
	echo "Has Symlinks = ${HAS_SYMLINKS}"
	echo "   UNIX Type = ${UNIXTYPE}"
	echo "     Has TCP = ${HAS_TCP}"
	echo "     Machine = ${MACHINE}"
	echo "         NFS = ${NFS}"
	echo
fi

# Now, actually work on making the target

case "${TARGET}" in

help)
	echo '	all		Makes all software'
	echo '	benchmark	Special:  Make only benchmark'
	echo '	clean		rm *.o, leave products'
	echo '	noprod		rm products, leave *.o'
	echo '	clobber		rm products and *.o'
	echo '	lint		run lint'
	echo '	install		install all products, with backups'
	echo '	install-nobak	install all products, without backups'
	echo '	uninstall	remove all products'
	echo '	print		print all sources to stdout'
	echo '	typeset		troff all manual pages'
	echo '	nroff		nroff all manual pages'
	echo '	mkdir		NFS: create binary dirs'
	echo '	relink		NFS: relink Cakefile'
	echo '	rmdir		NFS: remove binary dirs'
	echo '  command		run a command in each dir'
	;;

benchmark)
	if test x$NFS = x1
	then	sh $0 relink
	fi
	(T=libsysv; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT} )
	(T=bench; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT} )
	(T=libwdb; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
	(T=libpkg; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})  # needed for IF_REMOTE
	(T=libfb; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
	(T=libbu; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
	(T=libbn; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
	(T=librt; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
	(T=liboptical; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
	(T=libtcl8.4; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
	(T=libitcl; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
	(T=rt; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
	(T=conv; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
	(T=db; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
	;;

#  These directives operate in the machine-specific directories
#
#  all		Build all products
#  clean	Remove all .o files, leave products
#  noprod	Remove all products, leave .o files
#  clobber	clean + noprod
#  lint
#  ls		ls -al of all subdirectories
#
#  If operations are enclosed in sub-shells "(...)",
#  then on newer systems, ^C will only terminate the sub-shell
all)
	for dir in ${BDIRS}; do
		echo -------------------------------- ${DIRPRE}${dir}${DIRSUF};
		if test ! -d ${DIRPRE}${dir}${DIRSUF}
		then	continue;
		fi
		cd ${DIRPRE}${dir}${DIRSUF}
		cake -k ${SILENT}
		cd ..
	done;;

# Just like "all", but will use the "fast.sh" scripts when available.
fast)
	for dir in ${BDIRS}; do
		echo -------------------------------- ${DIRPRE}${dir}${DIRSUF};
		if test ! -d ${DIRPRE}${dir}${DIRSUF}
		then	continue;
		fi
		cd ${DIRPRE}${dir}${DIRSUF}
		if test -f ../${dir}/fast.sh
		then
			../${dir}/fast.sh ${SILENT}
		else
			cake -k ${SILENT}
		fi
		cd ..
	done;;

clean|noprod|clobber|lint)
	for dir in ${BDIRS}; do
		echo -------------------------------- ${DIRPRE}${dir}${DIRSUF};
		( cd ${DIRPRE}${dir}${DIRSUF} && cake -k ${SILENT} ${TARGET} )
	done
	( cd ${DIRPRE}cake${DIRSUF} && make -k ${TARGET} )
	( cd ${DIRPRE}cakeaux${DIRSUF} && make -k ${TARGET} )
	;;
	

# Listing of source directories
ls)
	for dir in ${ADIRS} ${BDIRS} ${CDIRS}; do
		echo -------------------------------- ${dir};
		( cd ${dir}; ls -al )
	done;;

# Listing of binary directories
ls-bin)
	for dir in ${BDIRS}; do
		echo -------------------------------- ${DIRPRE}${dir}${DIRSUF};
		( cd ${DIRPRE}${dir}${DIRSUF}; ls -al )
	done;;

# These operate in a mixture of places, treating both source and binary
install|install-nobak|uninstall)
	for dir in ${ADIRS}; do
		echo -------------------------------- ${dir};
		( cd ${dir} && cake -k ${SILENT} ${TARGET} )
	done
	for dir in ${BDIRS}; do
		echo -------------------------------- ${DIRPRE}${dir}${DIRSUF};
		( cd ${DIRPRE}${dir}${DIRSUF} && cake -k ${SILENT} ${TARGET} )
	done
	for dir in ${TSDIRS}; do
		echo -------------------------------- tclscripts/${dir};
		( cd tclscripts/${dir} && cake -k ${SILENT} ${TARGET} )
	done
	for dir in ${INSTALL_ONLY_DIRS}; do
		echo -------------------------------- ${dir};
		( cd ${dir} && cake -k ${SILENT} ${TARGET} )
	done
	for dir in ${PROE_DIRS}; do
		echo -------------------------------- pro-engineer/${dir};
		( cd pro-engineer/${dir} && cake -k ${SILENT} ${TARGET} )
	done;;

perms)
	#########################################
	#
	#Set File/directory ownership/permissions
	#
	#########################################

	chown -R bin /usr/brlcad
	chgrp -R bin /usr/brlcad

	for dir in /usr/brlcad/etc /usr/brlcad/html /usr/brlcad/include \
		/usr/brlcad/man /usr/brlcad/sample_applications \
		/usr/brlcad/tclscripts /usr/brlcad/vfont; do

		find ${dir} -type f -exec chmod 664 {} \;
	done

	#
	# We leave tcl and tk alone since they are well set already
	#

	chmod 775 /usr/brlcad/bin/*
	find /usr/brlcad/lib -type f -exec chmod 664 {} \;
	find /usr/brlcad/lib -type l -exec chmod 775 {} \;
	
	find /usr/brlcad -type d -exec chmod 775 {} \;

	
	;;
#  These directives operate in the source directory
#
#  inst-dist	install sources in /dist tree without installing any products
#
install-man|inst-dist|print|typeset|nroff)
	for dir in ${ADIRS} ${BDIRS}; do
		echo -------------------------------- ${dir};
		( cd ${dir} && cake -k ${SILENT} ${TARGET} )
	done;;

#  These directives are for managing the multi-machine objects.
#  These commands will need to be run once for each type of
#  machine to be supported, **while logged on to that type of machine**.
#	mkdir	create binary directories for current machine type
#	rmdir	remove binary directories for current machine type
#	relink	recreate links to SRCDIR/Cakefile for current mach type
mkdir|relink)
	if test x${DIRSUF} = x
	then
		echo "${TARGET}:  unnecessary in non-NFS environment"
		exit 0;		# Nothing to do
	fi
	if test x${HAS_SYMLINKS} = x1
	then	lnarg="-s"
	else	lnarg=""
	fi
	for dir in ${BDIRS} ; do
		if test -d ${DIRPRE}${dir}${DIRSUF}
		then
			rm -f ${DIRPRE}${dir}${DIRSUF}/Cakefile
		else
			mkdir ${DIRPRE}${dir}${DIRSUF}
		fi
		(cd ${DIRPRE}${dir}${DIRSUF}; ln ${lnarg} ../${dir}/Cakefile .)
	done;;

rmdir)
	set -x
	for dir in ${BDIRS}; do
		rm -fr ${DIRPRE}${dir}${DIRSUF}
	done;;

wc)
	rm -f /tmp/cad-lines
	for dir in ${ADIRS} ${BDIRS} ${CDIRS}; do
		( cd ${dir}; wc *.[chsly] | grep total >> /tmp/cad-lines )
	done
	awk '{tot += $1;}; END{print "Total lines of source = ", tot;}' < /tmp/cad-lines
	rm -f /tmp/cad-lines
	;;

tclIndex)
	( cd tclscripts && cake -k ${SILENT} ${TARGET} )

	for dir in ${TSDIRS}; do
	    ( cd tclscripts/$dir && cake -k ${SILENT} ${TARGET} )
	done;;

tags)
	for dir in ${BDIRS}; do
		echo -------------------------------- ${dir};
		( cd $dir && cake -k ${SILENT} ${TARGET} )
	done;;

TAGS)
	for dir in ${BDIRS}; do
		echo -------------------------------- ${dir};
		( cd $dir && cake -k ${SILENT} ${TARGET} )
	done;;

etags)
	/bin/rm -f etags;
	for dir in ${BDIRS} pro-engineer; do
		echo -------------------------------- ${dir};
#		etags -a -o etags ${dir}/*.c
		find ${dir} -name \*.c -a \! -name vshoot.c -exec etags -a -o etags {} \;
	done;;
shell)
	for dir in ${BDIRS}; do
		( cd ${dir}; echo ${dir}; /bin/sh )
	done;;

command)
	# Particularly useful for finding things, like this:
	# ./gen.sh command grep some_variable '*.c'
	for dir in ${BDIRS}; do
		( cd ${dir}; echo ${dir}; eval $* )
	done;;

rcs-lock)
	echo "rcs-lock is deprecated"
	rcs -l ${TOP_FILES}
	rcs -u ${TOP_FILES}
	for dir in ${ADIRS} ${BDIRS}; do
		echo -------------------------------- $dir;
		(cd $dir; \
		rcs -l *.[cshf1-9] Cakefile; \
		rcs -u *.[cshf1-9] Cakefile )
	done;;

checkin)
	echo "checkin is deprecated"
	echo " RCS_Revision ${RCS_REVISION}"
	REL_NODOT=`echo ${RELEASE}|tr . _`
	CI_ARGS="-f -r${RCS_REVISION} -sRel${REL_NODOT} -mRelease_${RELEASE}"
	rcs -l ${TOP_FILES}
	ci -u ${CI_ARGS} ${TOP_FILES}
	for dir in ${ADIRS} ${BDIRS}; do
		echo -------------------------------- $dir;
		(cd $dir; rm -f vers.c version; \
		co RCS/*; \
		rcs -l *.[cshf1-9] Cakefile; \
		ci -u ${CI_ARGS} *.[cshf1-9] Cakefile )
	done;;

#
# Steps in creating a distribution:
#	Make sure the CVS repository is up-to-date and in the state for distribution
#	"cvs rtag REL_TAG brlcad" to mark the CVS archives with the release version
#
#	Start in a blank directory with only gen.sh.
#	"gen.sh dist" to create the distribution in "dist" and the TAR archive in "arch"
#	Note that "gen.sh dist -r REL_TAG" may be used later to recreate the same distribution
#	Any additional arguments to "gen.sh" after the "dist" will be passed to "cvs"
#
dist)
#	/usr/gnu/bin/tar doesn't work correctly on CAD
#	make sure we are not running under IRIX
	OS=`uname`
	if test "$OS" != Linux -a "$OS" != FreeBSD
	then
		echo "Source distribution should be made using Linux or FreeBSD"
		echo "/usr/gnu/bin/tar is broken under IRIX"
		exit
	fi

	if test $# -eq 0
	then
	    echo "You must specify a cvs tag option (like -r rel-6-0)"
	    exit
	else
		CVS_ARGS=$*
	fi

#	if this is a tty, get the encryption key
	if tty -s
	then
		DO_ENCRYPTION=1
		echo "Enter encryption key:"
		read KEY
		echo "encryption key is /$KEY/"
	else
		DO_ENCRYPTION=0
	fi

#	create fresh distribution and archive directories
	rm -rf ${DISTDIR}
	mkdir ${DISTDIR}
	rm -rf ${ARCHDIR}
	mkdir ${ARCHDIR}

#	note that date and time
	date > ${DISTDIR}/Date_of_distribution

	if test "$CVSROOT" = ""
	then
		CVSROOT=cad.arl.mil:/c/CVS
		export CVSROOT
	fi

#	get the distribution
	cvs export -d ${DISTDIR} ${CVS_ARGS} brlcad
	/bin/rm -f ${DISTDIR}/bench/pixcmp
	/bin/rm -f ${DISTDIR}/bench/pixcmp.o

#	fix "gen.sh" to set NFS=0
	sed -e 's/^NFS=1/NFS=0/' < ${DISTDIR}/gen.sh > ${DISTDIR}/tmp
	mv ${DISTDIR}/tmp ${DISTDIR}/gen.sh

#	fix "Cakefile.defs" to production values
	sed -e '/^#define[ 	]*NFS/d' < ${DISTDIR}/Cakefile.defs > ${DISTDIR}/tmp
	mv ${DISTDIR}/tmp ${DISTDIR}/Cakefile.defs

	if test `grep '^#define[ 	]*NFS' ${DISTDIR}/Cakefile.defs|wc -l` -eq 0
	then 	echo "Shipping non-NFS version of Cakefile.defs (this is good)";
	else
		echo "ERROR: Update Cakefile.defs for non-NFS before proceeding!"
		exit 1;
	fi
	if test `grep "^NFS=1" ${DISTDIR}/gen.sh|wc -l` -eq 0
	then 	echo "Shipping non-NFS version of gen.sh (this is good)";
	else
		echo "ERROR: Update gen.sh for non-NFS before proceeding!"
		exit 1;
	fi
	echo
	echo "I hope you have made Cakefile.defs tidy!"
	echo "(Check for PRODUCTION values properly set)"
	echo
	grep PRODUCTION ${DISTDIR}/Cakefile.defs
	echo

#	echo "Formatting the INSTALL.TXT file"
	rm -f ${DISTDIR}/INSTALL.ps
#	gtbl ${DISTDIR}/doc/install.doc | groff  > ${DISTDIR}/INSTALL.ps

#	echo "Preparing the 'bench' directory"
#	(cd ${DISTDIR}/bench; cake clobber; cake install)
	echo "End of BRL-CAD Release $RELEASE archive, `date`" > ${DISTDIR}/zzzEND
	(cd ${DISTDIR}; du -a > Contents)

#	making archive
	cd ${DISTDIR}; tar cfv ../${ARCHIVE} *
	# $4 will be file size in bytes (BSD machine)
	# $5 will be file size in bytes (SYSV machine)
	# pad to 200K byte boundary for SGI cartridge tapes.
	set -- `ls -l ../${ARCHIVE}`
	PADBYTES=`echo "204800 $5 204800 %-p" | dc`
	if test ${PADBYTES} -lt 204800
	then
		gencolor -r${PADBYTES} 0 >> ../${ARCHIVE}
	fi
	chmod 444 ../${ARCHIVE}
	echo "${ARCHIVE} created"

	# The FTP images:
	FTP_ARCHIVE=../${ARCHDIR}/cad${RELEASE}.tar
	EXCLUDE=/tmp/cad-exclude
	rm -f ${EXCLUDE}
	echo 'vfont/*' >> ${EXCLUDE}
	echo 'doc/*' >> ${EXCLUDE}
	echo 'html/*' >> ${EXCLUDE}
	echo 'pix/*' >> ${EXCLUDE}
	echo 'pro-engineer/*' >> ${EXCLUDE}
	echo 'libtcl8.4/*' >> ${EXCLUDE}
	echo 'libtk8.4/*' >> ${EXCLUDE}
	echo 'libitcl/*' >> ${EXCLUDE}
	echo 'iwidgets4.0.1/*' >> ${EXCLUDE}

	tar cfv - Copy* README doc html \
	    zzzEND |\
		gzip -9 > ${FTP_ARCHIVE}-a.gz
	chmod 444 ${FTP_ARCHIVE}-a.gz
	echo "${FTP_ARCHIVE}-a.gz created (doc)"

	tar -cvf - -X ${EXCLUDE} [A-Z]* [a-k]* zzzEND |\
		gzip -9 > ${FTP_ARCHIVE}-b.gz
	chmod 444 ${FTP_ARCHIVE}-b.gz
	echo "${FTP_ARCHIVE}-b.gz created (core 1)"

	tar -cvf - -X ${EXCLUDE} Copy* README l[a-g]* lia* lib[a-s]* zzzEND |\
		gzip -9 > ${FTP_ARCHIVE}-c.gz
	chmod 444 ${FTP_ARCHIVE}-c.gz
	echo "${FTP_ARCHIVE}-c.gz created (core 2)"

	tar -cvf - -X ${EXCLUDE} Copy* README lib[t-z]* li[c-z]* l[j-z]* [m-p]* zzzEND |\
		gzip -9 > ${FTP_ARCHIVE}-d.gz
	chmod 444 ${FTP_ARCHIVE}-d.gz
	echo "${FTP_ARCHIVE}-d.gz created (core 3)"

	tar -cvf - -X ${EXCLUDE} Copy* README [q-z]* zzzEND |\
		gzip -9 > ${FTP_ARCHIVE}-e.gz
	chmod 444 ${FTP_ARCHIVE}-e.gz
	echo "${FTP_ARCHIVE}-e.gz created (core 4)"

	tar cfv - Copy* README pix zzzEND |\
		gzip -9 > ${FTP_ARCHIVE}-f.gz
	chmod 444 ${FTP_ARCHIVE}-f.gz
	echo "${FTP_ARCHIVE}-f.gz created (pix)"

	tar cfv - Copy* README vfont zzzEND |\
		gzip -9 > ${FTP_ARCHIVE}-g.gz
	chmod 444 ${FTP_ARCHIVE}-g.gz
	echo "${FTP_ARCHIVE}-g.gz created (vfont)"

	tar cfv - Copy* README pro-engineer zzzEND |\
		gzip -9 > ${FTP_ARCHIVE}-h.gz
	chmod 444 ${FTP_ARCHIVE}-h.gz
	echo "${FTP_ARCHIVE}-h.gz created (pro-engineer)"

	tar cfv - Copy* README libtcl8.4 libtk8.4 libitcl iwidgets4.0.1 zzzEND |\
		gzip -9 > ${FTP_ARCHIVE}-i.gz
	chmod 444 ${FTP_ARCHIVE}-i.gz
	echo "${FTP_ARCHIVE}-i.gz created (libtcl8.4 libtk8.4 libitcl iwidgets4.0.1)"

	rm -f ${EXCLUDE}

#	Select available encryption utility
	echo "Hello" | crypt key > /dev/null 2>&1
	if test $? -gt 0
	then
		COMMAND=enigma
	else
		COMMAND=crypt
	fi

	if test ${DO_ENCRYPTION} -eq 1
	then
		for FILE in ${FTP_ARCHIVE}-*.gz ; do
			$COMMAND ${KEY} < ${FILE} > ${FILE}.crypt
			rm -f ${FILE}
		done
	else
		echo "not encrypted" > ../${ARCHDIR}/NOT_ENCRYPTED
	fi	
	;;

# on a FreeBSD system, create the install package
pkg)

	#########################################
	#
	#  Create the various input files
	#
	#########################################

	cat > comment << EOF
Geometric Modeling and rendering package
EOF

	cat > desc << EOF
The BRL-CAD package is a suite of tools for gemetric modeling, analysis
and rendering.  It consists of tons of code, including embeddable libraries.
The GUI is in Tcl/Tk.
EOF

	cat > postinst.sh << EndOfFile
#!/bin/sh

more << EOF
BRL-CAD is copyrighted software.  It is distributed under a license agreement.
Please do not redistribute this software outside your organization.
EOF
EndOfFile


	#########################################
	#
	#  Create the packing list
	#
	#  The "png" package includes both libpng and libz
	#
	#  Note that the FreeBSD pkg system does not properly handle symbolic links
	#    so "brlcad/lib/iwidgets" must be created and detroyed using @@exec and @@unexec
	#########################################

cat > contents << EOF
@@name brlcad-$RELEASE
@@pkgdep png-1.2.1
@@cwd /usr
@@owner bin
@@group bin
@@unexec /bin/rm -f %D/brlcad/lib/iwidgets
EOF


find /usr/brlcad \! -type d -print | sed 's,/usr/,,' | grep -v 'iwidgets$' >> contents

cat >> contents << EOF
@@exec /usr/bin/env OBJFORMAT=elf /sbin/ldconfig -m /usr/brlcad/lib
@@exec /bin/ln -s %D/brlcad/lib/iwidgets3.0.1 %D/brlcad/lib/iwidgets
@@unexec /usr/bin/env OBJFORMAT=elf /sbin/ldconfig -R
EOF

find -d /usr/brlcad -type d -print | sed "s,/usr/,@@dirrm ," >> contents

	##############################
	#
	#  Create the package
	#
	##############################

pkg_create -I postinst.sh -d desc -c comment -f contents brlcad-$RELEASE
rm ./comment ./contents ./desc ./postinst.sh

;;
# On a Linux system, bundle up /usr/brlcad binary tree as an RPM.
rpm)
	REV=`date '+%m%d' `
	RPM_BASE=brlcad-${RELEASE}-${REV}.i386
	SPEC=/tmp/${RPM_BASE}.spec
	rm -f $SPEC
	cat > $SPEC << EOF
Summary:  BRL-CAD(tm) Solid Modeling System with ray-tracer and geometry editor
Name: brlcad
Version: ${RELEASE}
Release: ${REV}
Copyright:  Copyright 2002 by U.S.Army in all countires except the USA.  See distribution restrictions in your license agreement or ftp.arl.mil:/pub/brl-cad/agreement
Group: Applications/Graphics
Source:  http://ftp.arl.mil:/brl-cad/Downloads/Rel${RELEASE}/
URL:  http://ftp.arl.mil/brlcad/
Vendor: The U. S. Army Research Laboratory, Aberdeen Proving Ground, MD  USA  21005-5068
Packager: John Anderson <jra@@arl.army.mil>
%description
The BRL-CAD(tm) Package is a powerful Constructive Solid Geometry (CSG)
solid modeling system.  BRL-CAD includes an interactive geometry
editor, a ray tracing library, two ray-tracing based lighting models,
a generic framebuffer library, a network-distributed image-processing
and signal-processing capability, and a large collection of related
tools and utilities.

This version was compiled on RedHat Linux 7.2

%prep
        exit 0
%files
%docdir /usr/brlcad/man
%docdir /usr/brlcad/html
/usr/brlcad
EOF
	rpm -bb $SPEC
	# Oddly, this produces /usr/src/redhat/RPMS/i386/${RPM_BASE}.rpm
	# No advantage to gzip'ing, according to Lee.
	##gzip -9 < /usr/src/redhat/RPMS/i386/${RPM_BASE}.rpm > ./${RPM_BASE}.rpm.gz
	cp /usr/src/redhat/RPMS/i386/${RPM_BASE}.rpm ./${RPM_BASE}.rpm
	# Privacy step still needed to be run by hand.
	## enigma $KEY < ./${RPM_BASE}.rpm.gz > ./${RPM_BASE}.rpm.gz.crypt
	# enigma $KEY < ./${RPM_BASE}.rpm > ./${RPM_BASE}.rpm.crypt
	;;

sunpkg)
	# Build Solaris pkg.  Bundle up /usr/brlcad
	rm -f prototype pkginfo
	REV=`date '+%Y.%m.%d' `
	PKG_BASE=brlcad-${RELEASE}-${REV}-solaris
	cat > pkginfo << EOF
PKG=brlcad
NAME=BRL-CAD(tm) Solid Modeling System with ray-tracer and geometry editor
ARCH=sparc
VERSION=${RELEASE},REV=${REV}
CATEGORY=application
CLASSES=none
BASEDIR=/usr/brlcad
PRODNAME=brlcad
PRODVERS=${RELEASE}
DESC=The BRL-CAD(tm) Package is a powerful Constructive Solid Geometry (CSG) \
solid modeling system.  BRL-CAD includes an interactive geometry \
editor, a ray tracing library, two ray-tracing based lighting models, \
a generic framebuffer library, a network-distributed image-processing \
and signal-processing capability, and a large collection of related \
tools and utilities. \
Copyright 2002 by U.S.Army in all countires except the USA.  See distribution restrictions in your license agreement or ftp.arl.mil:/pub/brl-cad/agreement
VENDOR=The U. S. Army Research Laboratory, Aberdeen Proving Ground, MD  USA  21005-5068
HOTLINE=http://ftp.arl.army.mil/brlcad/
EMAIL=acst@@arl.army.mil
EOF
	echo "i pkginfo=./pkginfo" >> ./prototype
	pkgproto /usr/brlcad/.=/usr/brlcad >> ./prototype
	rm -fr /tmp/brlcad
	# This creates /tmp/brlcad directory
	pkgmk -o -a sun4 -d /tmp -f ./prototype brlcad
	pkgtrans -s /tmp /tmp/$PKG_BASE brlcad
	##pkgchk -d /tmp/$PKG_BASE all
	rm -fr /tmp/brlcad
	echo "Wrote /tmp/$PKG_BASE"
	# Privacy step sitll needed to be run by hand.
	;;

# For SGI IRIX, use the "swpkg" GUI tool.
	# it appears that you must be root for this to work
	# cd /tmp
	# swpkg -nofork
	# Critical note: Product Name may *not* have a "-" in it!
	# DON'T SAY "BRL-CAD"!!!
	# Lee established the convention of using "brlcad".
	#
	# On first tab (Create Product Hierarchy):
	# Product Name = brlcad
	# Description = "The BRL-CAD Solid Modeling System"
	# click "< Assign"
	# click books, click delete
	# click relnotes, click delete
	# click optional, click delete
	# click "sw".
	# Version = 5.1
	# click "< Assign"
	# click "man"
	# Version = 5.1
	# click "< Assign"
	# Select second tab:  "Tag Files"
	# In File Broswer box, delete "/tmp", enter "/usr/brlcad/" return.
	# Click "All".
	# Control-left-click on "html" and "man" to un-highlight them.
	# click "> Add"  (watch a bazillion files go by)
	# In "Tags" box, click on "brlcad.man.manpages".
	# In "File Browser", click on "html", control-left-click on "man".
	# click "> Add" (watch the manual stuff go by)
	# Select 5th tab, "Build Product"
	# Change "Distribution Directory" to "/var/tmp" (cannot be cwd)
	# Check off "Verbose" checkbox
	# Click on "Build All"
	# Click OK on "save spec"
	# Click OK on "Save Idb"
	# Watch files scroll by in uppermost scrolling window
	# When done, select menu "File > Exit"
	# Four files should have been created in "/var/tmp".  Bundle them up with:
	# tar cvf brlcad51.tardist brlcad brlcad.idb brlcad.man brlcad.sw
	# gzip -9 < brlcad51.tardist > brlcad51.tardist.gz
	# crypt xyzzy < brlcad51.tardist.gz > brlcad51.tardist.gz.crypt

*)
	echo "$0: No code to make ${TARGET}, use 'help' for help"
	exit 1;;

esac

exit 0
@


11.155
log
@use the new 3.3 dev libitcl
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.154 2004/01/07 13:34:04 jra Exp $	#
@


11.154
log
@Added librtserver
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.153 2003/10/30 21:46:21 jra Exp $	#
d183 1
a183 1
	libitcl3.2 \
d332 1
a332 1
	(T=libitcl3.2; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
d689 1
a689 1
	echo 'libitcl3.2/*' >> ${EXCLUDE}
d733 1
a733 1
	tar cfv - Copy* README libtcl8.4 libtk8.4 libitcl3.2 iwidgets4.0.1 zzzEND |\
d736 1
a736 1
	echo "${FTP_ARCHIVE}-i.gz created (libtcl8.4 libtk8.4 libitcl3.2 iwidgets4.0.1)"
@


11.153
log
@Eliminated vshoot.c from etags output
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.152 2003/09/27 00:47:32 morrison Exp $	#
d196 1
@


11.152
log
@reorder directory build order to reflect dependancies; this was necessary for building on platforms where it is desireable to resolve all library symbols when generating a dynamic shared object library (aix and osx)
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.151 2003/08/08 08:57:11 morrison Exp $	#
d527 1
a527 1
		find ${dir} -name \*.c -exec etags -a -o etags {} \;
@


11.152.2.1
log
@updates from HEAD
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.153 2003/10/30 21:46:21 jra Exp $	#
d527 1
a527 1
		find ${dir} -name \*.c -a \! -name vshoot.c -exec etags -a -o etags {} \;
@


11.152.2.2
log
@merge from HEAD
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.154 2004/01/07 13:34:04 jra Exp $	#
a195 1
	librtserver \
@


11.152.2.3
log
@merge from head
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.152.2.2 2004/02/12 19:40:39 erikg Exp $	#
d183 1
a183 1
	libitcl \
d332 1
a332 1
	(T=libitcl; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
d689 1
a689 1
	echo 'libitcl/*' >> ${EXCLUDE}
d733 1
a733 1
	tar cfv - Copy* README libtcl8.4 libtk8.4 libitcl iwidgets4.0.1 zzzEND |\
d736 1
a736 1
	echo "${FTP_ARCHIVE}-i.gz created (libtcl8.4 libtk8.4 libitcl iwidgets4.0.1)"
@


11.152.2.4
log
@merge from head
@
text
@d17 1
a17 1
#  $Header: /cvs/brlcad/gen.sh,v 11.152.2.3 2004/03/15 14:06:04 erikg Exp $	#
@


11.151
log
@incremented release number for next 6.1 release -- rcs_revision is out of sync with cvs by 8 revisions..
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.150 2003/03/13 19:25:02 jra Exp $	#
a180 6
	libsysv \
	libbu \
	libbn \
	libwdb \
	libpkg \
	libfb \
a184 1
	libdm \
d187 8
a194 1
	fbserv \
d197 3
d203 4
d208 1
a208 1
        unigraphics \
a209 1
	rt \
a211 4
	libcursor \
	liborle \
	libutahrle \
	libfft \
d213 1
a213 1
	jack \
a214 1
	comgeom-g \
a215 3
	fb \
	util \
	fbed \
a221 1
	tools \
d226 1
a227 1
	jove \
d231 3
@


11.150
log
@Update to tcl/tk 8.4 and added iwidgets 4.0.1
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.149 2003/01/06 21:40:18 jra Exp $	#
d40 2
a41 1
RELEASE=6.1DP;	RCS_REVISION=18;	REL_DATE=25-Oct-02	# 6.1 developer preview
@


11.150.2.1
log
@updated for merging
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.151 2003/08/08 08:57:11 morrison Exp $	#
d40 1
a40 2
RELEASE=6.1;	RCS_REVISION=19;	REL_DATE=XX-Oct-03	# 6.1
#RELEASE=6.1DP;	RCS_REVISION=18;	REL_DATE=25-Oct-02	# 6.1 developer preview
@


11.149
log
@Added Unigraphics directory
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.148 2002/12/19 21:44:03 jra Exp $	#
d186 2
a187 2
	libtcl8.3 \
	libtk8.3 \
d189 1
d329 1
a329 1
	(T=libtcl8.3; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
d685 2
a686 2
	echo 'libtcl8.3/*' >> ${EXCLUDE}
	echo 'libtk8.3/*' >> ${EXCLUDE}
d688 1
d731 1
a731 1
	tar cfv - Copy* README libtcl8.3 libtk8.3 libitcl3.2 zzzEND |\
d734 1
a734 1
	echo "${FTP_ARCHIVE}-i.gz created (libtcl8.3 libtk8.3 libitcl3.2)"
@


11.148
log
@Now always use our own libz and libpng
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.147 2002/10/25 02:28:34 morrison Exp $	#
d199 1
@


11.147
log
@Named release 6.1DP for 2002 Users Group Meeting CD
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.146 2002/10/22 00:35:39 morrison Exp $	#
a260 24

# If this system has good vendor-provided libraries, use them.
# Remove them from the list of targets to be compiled.
# Two common sets:
#	libtcl, libtk
#	libpng, libz
# Needs to be coordinated with setting of LIBTCL_DIR LIBTK_DIR LIBZ_DIR
# in architecture-specific entry in Cakefile.defs
case "${MACHINE}" in
	li|fbsd)
		BDIRS=`echo ${BDIRS} | \
			sed -e 's/libz//' -e 's/libpng//'`
		;;
	pmac)
		BDIRS=`echo ${BDIRS} | \
			sed -e 's/libz//'`
		;;
	7d|m4i65)
		# Be sure to look in /usr/lib64, not /usr/lib!
		BDIRS=`echo ${BDIRS} | \
		    sed -e 's/libz//' `
		;;
esac

@


11.146
log
@Updated release number for upcoming developer preview release for BRL-CAD Users Group Meeting
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.145 2002/10/04 04:23:54 jra Exp $	#
d40 1
a40 1
RELEASE=6.1;	RCS_REVISION=18;	REL_DATE=25-Oct-02	# 6.1 developer preview
@


11.145
log
@Added comment showing revision number for release 6.02
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.144 2002/09/17 12:26:09 morrison Exp $	#
d40 1
d42 1
a42 1
RELEASE=6.01;	RCS_REVISION=17;	REL_DATE=2-July-02	# 6.0.1
@


11.144
log
@added geometree to tclscripts install dir list
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.143 2002/07/11 18:38:47 rbowers Exp $	#
d40 1
@


11.144.2.1
log
@sync branch with HEAD
@
text
@d17 1
a17 1
#  $Header$	#
d40 1
a40 4
RELEASE=6.1;	RCS_REVISION=19;	REL_DATE=XX-Oct-03	# 6.1
#RELEASE=6.1DP;	RCS_REVISION=18;	REL_DATE=25-Oct-02	# 6.1 developer preview
#RELEASE=6.02;	RCS_REVISION=18;	REL_DATE=13-Sep-02	# 6.0.2
#RELEASE=6.01;	RCS_REVISION=17;	REL_DATE=2-July-02	# 6.0.1
a177 6
	libtcl8.4 \
	libtk8.4 \
	libitcl \
        iwidgets4.0.1 \
	libz \
	libpng \
a178 5
	liborle \
	libutahrle \
	libfft \
	libpkg \
	libcursor \
d181 10
a191 1
	librtserver \
a192 3
	libfb \
	libwdb \
	libdm \
a195 4
	rt \
	fbserv \
	fb \
	fbed \
a196 1
	util \
d198 1
d201 4
d206 1
a206 1
	tools \
d208 1
d210 3
d219 1
a223 1
	jack \
d225 1
a228 3
	comgeom-g \
        unigraphics \
	jove \
d260 24
d349 2
a350 2
	(T=libtcl8.4; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
	(T=libitcl; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
d546 1
a546 1
		find ${dir} -name \*.c -a \! -name vshoot.c -exec etags -a -o etags {} \;
d705 3
a707 4
	echo 'libtcl8.4/*' >> ${EXCLUDE}
	echo 'libtk8.4/*' >> ${EXCLUDE}
	echo 'libitcl/*' >> ${EXCLUDE}
	echo 'iwidgets4.0.1/*' >> ${EXCLUDE}
d750 1
a750 1
	tar cfv - Copy* README libtcl8.4 libtk8.4 libitcl iwidgets4.0.1 zzzEND |\
d753 1
a753 1
	echo "${FTP_ARCHIVE}-i.gz created (libtcl8.4 libtk8.4 libitcl iwidgets4.0.1)"
@


11.144.4.1
log
@Modifications (on a 6.0 source distribution) for initial port to windows (merged with sources close to 6.0.2)
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.144 2002/09/17 12:26:09 morrison Exp $	#
d35 1
a35 1
NFS=0
@


11.144.4.2
log
@sync to HEAD...
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.155 2004/03/09 20:57:00 morrison Exp $	#
d35 1
a35 1
NFS=1
d40 1
a40 4
RELEASE=6.1;	RCS_REVISION=19;	REL_DATE=XX-Oct-03	# 6.1
#RELEASE=6.1DP;	RCS_REVISION=18;	REL_DATE=25-Oct-02	# 6.1 developer preview
#RELEASE=6.02;	RCS_REVISION=18;	REL_DATE=13-Sep-02	# 6.0.2
#RELEASE=6.01;	RCS_REVISION=17;	REL_DATE=2-July-02	# 6.0.1
a177 6
	libtcl8.4 \
	libtk8.4 \
	libitcl \
        iwidgets4.0.1 \
	libz \
	libpng \
a178 5
	liborle \
	libutahrle \
	libfft \
	libpkg \
	libcursor \
d181 10
a191 1
	librtserver \
a192 3
	libfb \
	libwdb \
	libdm \
a195 4
	rt \
	fbserv \
	fb \
	fbed \
a196 1
	util \
d198 1
d201 4
d206 1
a206 1
	tools \
d208 1
d210 3
d219 1
a223 1
	jack \
d225 1
a228 3
	comgeom-g \
        unigraphics \
	jove \
d260 24
d349 2
a350 2
	(T=libtcl8.4; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
	(T=libitcl; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
d546 1
a546 1
		find ${dir} -name \*.c -a \! -name vshoot.c -exec etags -a -o etags {} \;
d705 3
a707 4
	echo 'libtcl8.4/*' >> ${EXCLUDE}
	echo 'libtk8.4/*' >> ${EXCLUDE}
	echo 'libitcl/*' >> ${EXCLUDE}
	echo 'iwidgets4.0.1/*' >> ${EXCLUDE}
d750 1
a750 1
	tar cfv - Copy* README libtcl8.4 libtk8.4 libitcl iwidgets4.0.1 zzzEND |\
d753 1
a753 1
	echo "${FTP_ARCHIVE}-i.gz created (libtcl8.4 libtk8.4 libitcl iwidgets4.0.1)"
@


11.143
log
@-* Mods to install RtWizard
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.142 2002/07/02 18:49:53 butler Exp $	#
d236 1
a236 1
TSDIRS=". mged nirt pl-dm lib util rtwizard/examples/PictureTypeA rtwizard/examples/PictureTypeB rtwizard/examples/PictureTypeC rtwizard/examples/PictureTypeD rtwizard/examples/PictureTypeE rtwizard/examples/PictureTypeF rtwizard/lib rtwizard"
@


11.143.2.1
log
@Updates for release 6.02
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.143 2002/07/11 18:38:47 rbowers Exp $	#
d40 1
a40 2
RELEASE=6.02;	RCS_REVISION=18;	REL_DATE=13-Sep-02	# 6.0.2
#RELEASE=6.01;	RCS_REVISION=17;	REL_DATE=2-July-02	# 6.0.1
d871 1
a871 1
This version was compiled on RedHat Linux 7.3
@


11.142
log
@Release 6.01 mods
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.141 2002/05/03 18:59:44 jra Exp $	#
d233 5
a237 1
TSDIRS=". mged nirt pl-dm lib util"
@


11.141
log
@Added pro-engineer resource directory
Some minor mods for the release process
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.140 2002/03/22 21:48:42 jra Exp $	#
d40 2
a41 1
RELEASE=6.0;	RCS_REVISION=16;	REL_DATE=22-March-02	# 6.0
@


11.140
log
@Added release date for 6.0
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.139 2002/03/22 16:13:02 jra Exp $	#
d235 1
a235 1
PROE_DIRS=". sgi_mips4 text"
d538 1
a538 1
	for dir in ${BDIRS}; do
d601 9
a635 8
#	create the args for the "cvs export"
	if test $# -eq 0
	then
		CVS_ARGS="-D now"
	else
		CVS_ARGS=$*
	fi

d638 2
d647 1
a647 2
	sed -e '/PRODUCTION/s/0/1/' < ${DISTDIR}/tmp > ${DISTDIR}/Cakefile.defs
	rm -f ${DISTDIR}/tmp
d668 1
a668 1
	echo "Formatting the INSTALL.TXT file"
d670 1
a670 1
	gtbl ${DISTDIR}/doc/install.doc | groff  > ${DISTDIR}/INSTALL.ps
d672 2
a673 2
	echo "Preparing the 'bench' directory"
	(cd ${DISTDIR}/bench; cake clobber; cake install)
@


11.139
log
@Added some notes to the directions for building the SGI inst package
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.138 2002/03/22 14:15:04 jra Exp $	#
d40 1
a40 1
RELEASE=6.0;	RCS_REVISION=16;	REL_DATE=today		# 6.0
@


11.138
log
@A few improved notes for making "inst" package
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.137 2002/03/14 14:12:05 jra Exp $	#
d922 1
d958 1
a958 1
	# Four files should have been created.  Bundle them up with:
@


11.137
log
@a few updates for release 6.0:
	Freebsd dependency on png changed to png-1.2.1
	Copyright changed to 2002
	Linux reference updated to 7.2
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.136 2001/12/02 00:17:48 jra Exp $	#
d922 1
d950 1
a950 1
	# Change "Distribution Directory" to "/var/tmp"
@


11.136
log
@Mods for new Pro/E converter
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.135 2001/11/07 03:08:46 morrison Exp $	#
d811 1
a811 1
@@pkgdep png-1.0.10
d850 1
a850 1
Copyright:  Copyright 2000 by U.S.Army in all countires except the USA.  See distribution restrictions in your license agreement or ftp.arl.mil:/pub/brl-cad/agreement
d864 1
a864 1
This version was compiled on RedHat Linux 7.1
d904 1
a904 1
Copyright 2000 by U.S.Army in all countires except the USA.  See distribution restrictions in your license agreement or ftp.arl.mil:/pub/brl-cad/agreement
@


11.135
log
@changed comment for 5.4 release tag to "internal"
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.134 2001/11/06 23:04:16 morrison Exp $	#
d235 1
a235 1
PROE_DIRS=". sun4_solaris sgi_elf2 text text/fullhelp text/menus"
@


11.134
log
@added entry for release 5.4 (cvs tag appears to have been set on 2001.07.18)
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.133 2001/10/24 21:08:42 jra Exp $	#
d41 1
a41 1
#RELEASE=5.4;	RCS_REVISION=15;	REL_DATE=18-Jul-01	# 5.4
@


11.133
log
@"rpm" target for Linux updated
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.132 2001/10/24 20:42:19 jra Exp $	#
d41 1
@


11.132
log
@BRL-CAD for FREEBSD now depends on png-1.0.10
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.131 2001/10/24 19:57:58 jra Exp $	#
d854 1
a854 1
Packager: Mike Muuss <Mike@@arl.mil>
d863 1
a863 1
This version was compiled on RedHat Linux 6.2
@


11.131
log
@Changed revision number for shared libraries for release 6.0
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.130 2001/10/15 19:58:03 morrison Exp $	#
d810 1
a810 1
@@pkgdep png-1.0.9
@


11.130
log
@Added "Darwin on Power Macintosh" support (finally)
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.129 2001/08/10 21:19:26 morrison Exp $	#
d40 1
a40 1
RELEASE=6.0;	RCS_REVISION=15;	REL_DATE=today		# 6.0
@


11.129
log
@now building on sun with sun's horrid compiler
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.128 2001/07/23 16:54:36 jra Exp $	#
d265 4
@


11.128
log
@arl.mil is now arl.army.mil
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.127 2001/04/17 20:43:59 bparker Exp $	#
d177 2
a178 1
	libbu libbn \
d487 1
a487 1
	for dir in ${BDIRS}; do
d551 1
d562 1
@


11.127
log
@*- add btclsh to BDIRS
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.126 2001/04/09 17:41:37 jra Exp $	#
d898 2
a899 2
HOTLINE=http://ftp.arl.mil/brlcad/
EMAIL=acst@@arl.mil
@


11.126
log
@Release 6.0 now has library version number 15
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.125 2001/03/19 22:19:07 butler Exp $	#
d227 1
@


11.125
log
@patches to merge 5.3 into 6.0
@
text
@d17 1
a17 1
#  $Header: /d/CVS/brlcad/gen.sh,v 11.124 2001/03/15 14:38:31 jra Exp $	#
d40 2
a41 1
RELEASE=6.0;	RCS_REVISION=14;	REL_DATE=today		# 6.0
@


11.124
log
@Improved code for target "etags"
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.123 2000/12/08 21:28:26 bparker Exp $	#
d263 1
a263 1
	m4i65)
d795 2
d801 1
a801 2
@@pkgdep png-1.0.3
@@cwd /usr
d805 1
d809 1
a809 1
find /usr/brlcad \! -type d -print | sed 's,/usr/,,' >> contents
d813 1
d817 1
a817 1
find /usr/brlcad -type d -print | sort -r | sed "s,/usr/,@@dirrm ," >> contents
@


11.123
log
@Remove libtclhooks
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.122 2000/12/06 21:54:35 bparker Exp $	#
d532 2
a533 1
		etags -a -o etags ${dir}/*.c
@


11.122
log
@Mods to support tcl/tk/itcl upgrade.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.121 2000/09/09 01:13:44 mike Exp $	#
a191 1
	libtclhooks \
@


11.121
log
@
Moved 'anim' down in compilation list.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.120 2000/09/07 19:23:09 mike Exp $	#
d180 3
a182 3
	libtcl \
	libtk \
	libitcl \
d337 2
a338 2
	(T=libtcl; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
	(T=libitcl; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
d688 3
a690 3
	echo 'libtcl/*' >> ${EXCLUDE}
	echo 'libtk/*' >> ${EXCLUDE}
	echo 'libitcl/*' >> ${EXCLUDE}
d733 1
a733 1
	tar cfv - Copy* README libtcl libtk libitcl zzzEND |\
d736 1
a736 1
	echo "${FTP_ARCHIVE}-i.gz created (libtcl libtk libitcl)"
@


11.120
log
@
Broke out 'fast.sh' stuff into separate target.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.119 2000/09/07 18:46:54 jra Exp $	#
a195 1
	anim \
d217 1
@


11.119
log
@for the "perms" target, chown won't take groups under Solaris
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.118 2000/09/01 14:18:33 bparker Exp $	#
d356 12
@


11.118
log
@Add libtclhooks to BDIRS.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.117 2000/08/24 21:18:57 mike Exp $	#
d425 2
a426 1
	chown -R bin.bin /usr/brlcad
@


11.117
log
@
Added $SILENT flag to fast.sh
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.116 2000/08/24 03:41:22 mike Exp $	#
d192 1
@


11.116
log
@
If operations are enclosed in sub-shells "(...)",
then on newer systems, ^C will only terminate the sub-shell.
Changed to avoid this.

Also changed "all" target to run "fast.sh" in those directories where
available.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.115 2000/08/23 02:42:30 mike Exp $	#
d363 1
a363 1
			../${dir}/fast.sh
@


11.115
log
@
Restored NFS=1
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.114 2000/08/22 19:40:34 jra Exp $	#
d351 3
d357 11
a367 1
		( cd ${DIRPRE}${dir}${DIRSUF} && cake -k ${SILENT} )
@


11.114
log
@Source distribution fixes
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.113 2000/08/16 17:48:49 bparker Exp $	#
d35 1
a35 1
NFS=0
@


11.113
log
@cwish becomes/replaces bwish
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.112 2000/05/26 03:08:15 mike Exp $	#
d35 1
a35 1
NFS=1
d40 3
a42 1
RELEASE=5.1;	RCS_REVISION=13;	REL_DATE=Today		# beyond 5.1
d555 9
d663 1
d665 1
a665 1
	/usr/gnu/bin/tar cfv - Copy* README doc html \
d671 1
a671 1
	/usr/gnu/bin/tar -cvf - -X ${EXCLUDE} [A-Z]* [a-k]* zzzEND |\
d676 1
a676 1
	/usr/gnu/bin/tar -cvf - -X ${EXCLUDE} Copy* README l[a-g]* lia* lib[a-s]* zzzEND |\
d681 1
a681 1
	/usr/gnu/bin/tar -cvf - -X ${EXCLUDE} Copy* README lib[t-z]* li[c-z]* l[j-z]* [m-t]* zzzEND |\
d686 1
a686 1
	/usr/gnu/bin/tar -cvf - -X ${EXCLUDE} Copy* README [m-t]* [u-z]* zzzEND |\
d691 1
a691 1
	/usr/gnu/bin/tar cfv - Copy* README pix zzzEND |\
d696 1
a696 1
	/usr/gnu/bin/tar cfv - Copy* README vfont zzzEND |\
d701 1
a701 1
	/usr/gnu/bin/tar cfv - Copy* README pro-engineer zzzEND |\
d706 1
a706 1
	/usr/gnu/bin/tar cfv - Copy* README libtcl libtk zzzEND |\
d709 1
a709 1
	echo "${FTP_ARCHIVE}-i.gz created (libtcl libtk)"
d712 10
d725 1
a725 1
			crypt ${KEY} < ${FILE} > ${FILE}.crypt
@


11.112
log
@
Added instructions for making SGI Inst kits.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.111 2000/05/25 06:57:33 mike Exp $	#
d223 1
a223 2
	tk \
	cwish \
@


11.112.2.1
log
@cwish becomes/replaces bwish
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.112 2000/05/26 03:08:15 mike Exp $	#
d223 2
a224 1
	bwish \
@


11.112.2.2
log
@Fixed dist target to handle libitcl correctly and refuse to run under IRIX
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.112.2.1 2000/08/16 17:46:59 bparker Exp $	#
a552 9
#	/usr/gnu/bin/tar doesn't work correctly on CAD
#	make sure we are not running under IRIX
	OS=`uname`
	if test "$OS" != Linux -a "$OS" != FreeBSD
	then
		echo "Source distribution should be made using Linux or FreeBSD"
		echo "/usr/gnu/bin/tar is broken under IRIX"
		exit
	fi
a651 1
	echo 'libitcl/*' >> ${EXCLUDE}
d653 1
a653 1
	tar cfv - Copy* README doc html \
d659 1
a659 1
	tar -cvf - -X ${EXCLUDE} [A-Z]* [a-k]* zzzEND |\
d664 1
a664 1
	tar -cvf - -X ${EXCLUDE} Copy* README l[a-g]* lia* lib[a-s]* zzzEND |\
d669 1
a669 1
	tar -cvf - -X ${EXCLUDE} Copy* README lib[t-z]* li[c-z]* l[j-z]* [m-t]* zzzEND |\
d674 1
a674 1
	tar -cvf - -X ${EXCLUDE} Copy* README [m-t]* [u-z]* zzzEND |\
d679 1
a679 1
	tar cfv - Copy* README pix zzzEND |\
d684 1
a684 1
	tar cfv - Copy* README vfont zzzEND |\
d689 1
a689 1
	tar cfv - Copy* README pro-engineer zzzEND |\
d694 1
a694 1
	tar cfv - Copy* README libtcl libtk libitcl zzzEND |\
d697 1
a697 1
	echo "${FTP_ARCHIVE}-i.gz created (libtcl libtk libitcl)"
@


11.112.2.3
log
@Set release to 5.2
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.112.2.2 2000/08/18 20:51:03 jra Exp $	#
d40 1
a40 1
RELEASE=5.2;	RCS_REVISION=13;	REL_DATE=21-Aug-00	# 5.2
@


11.112.2.4
log
@Fixed source distribution code
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.112.2.3 2000/08/21 14:26:32 jra Exp $	#
a709 10

#	Select available encryption utility
	echo "Hello" | crypt key > /dev/null 2>&1
	if test $? -gt 0
	then
		COMMAND=enigma
	else
		COMMAND=crypt
	fi

d713 1
a713 1
			$COMMAND ${KEY} < ${FILE} > ${FILE}.crypt
@


11.112.2.5
log
@Eliminated some duplication in the source distribution files
@
text
@d679 1
a679 1
	tar -cvf - -X ${EXCLUDE} Copy* README lib[t-z]* li[c-z]* l[j-z]* [m-p]* zzzEND |\
d684 1
a684 1
	tar -cvf - -X ${EXCLUDE} Copy* README [q-z]* zzzEND |\
@


11.112.2.6
log
@Add libtclhooks.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.112.2.5 2000/08/22 13:09:55 jra Exp $	#
a189 1
	libtclhooks \
@


11.112.2.7
log
@Solaris chown doesn't take groups
Reset release date for 5.2
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.112.2.6 2000/09/01 17:22:38 bparker Exp $	#
d40 1
a40 1
RELEASE=5.2;	RCS_REVISION=13;	REL_DATE=7-Oct-00	# 5.2
d410 1
a410 2
	chown -R bin /usr/brlcad
	chgrp -R bin /usr/brlcad
@


11.112.2.8
log
@Mods to support tcl/tk/itcl upgrade.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.112.2.7 2000/09/07 18:49:03 jra Exp $	#
d178 3
a180 3
	libtcl8.3 \
	libtk8.3 \
	libitcl3.2 \
d335 2
a336 2
	(T=libtcl8.3; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
	(T=libitcl3.2; echo ${T}; cd ${DIRPRE}${T}${DIRSUF} && cake -k ${SILENT})
d661 3
a663 3
	echo 'libtcl8.3/*' >> ${EXCLUDE}
	echo 'libtk8.3/*' >> ${EXCLUDE}
	echo 'libitcl3.2/*' >> ${EXCLUDE}
d706 1
a706 1
	tar cfv - Copy* README libtcl8.3 libtk8.3 libitcl3.2 zzzEND |\
d709 1
a709 1
	echo "${FTP_ARCHIVE}-i.gz created (libtcl8.3 libtk8.3 libitcl3.2)"
@


11.112.2.9
log
@Remove libtclhooks
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.112.2.8 2000/12/06 21:53:49 bparker Exp $	#
d190 1
@


11.112.2.10
log
@Release 5.3
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.112.2.9 2000/12/08 21:28:45 bparker Exp $	#
d40 1
a40 2
RELEASE=5.3;	RCS_REVISION=14;	REL_DATE=5-Mar-01	# 5.3
#RELEASE=5.2;	RCS_REVISION=13;	REL_DATE=7-Oct-00	# 5.2
@


11.112.2.11
log
@
Modified the pkg) section to handle the brlcad/lib/iwidgets symbolic link
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.112.2.10 2001/03/01 13:08:12 jra Exp $	#
a767 2
	#  Note that the FreeBSD pkg system does not properly handle symbolic links
	#    so "brlcad/lib/iwidgets" must be created and detroyed using @@exec and @@unexec
d772 2
a773 1
@@pkgdep png-1.0.8_1
a776 1
@@unexec /bin/rm -f %D/brlcad/lib/iwidgets
d780 1
a780 1
find /usr/brlcad \! -type d -print | sed 's,/usr/,,' | grep -v 'iwidgets$' >> contents
a783 1
@@exec /bin/ln -s %D/brlcad/lib/iwidgets3.0.1 %D/brlcad/lib/iwidgets
d787 1
a787 1
find -d /usr/brlcad -type d -print | sed "s,/usr/,@@dirrm ," >> contents
@


11.112.2.12
log
@Updated pkgdep (png) for FreeBSD
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.112.2.11 2001/03/02 21:15:51 jra Exp $	#
d774 1
a774 1
@@pkgdep png-1.0.9
@


11.112.2.13
log
@Mods to use system libz on a 7d
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.112.2.12 2001/03/09 20:30:00 jra Exp $	#
d262 1
a262 1
	7d|m4i65)
@


11.112.2.14
log
@Minor mods for release 5.4
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.112.2.13 2001/03/12 13:35:01 jra Exp $	#
d40 1
a40 2
RELEASE=5.4;	RCS_REVISION=15;	REL_DATE=11-Jul-01	# 5.4
#RELEASE=5.3;	RCS_REVISION=14;	REL_DATE=5-Mar-01	# 5.3
d815 2
a816 2
Source:  http://ftp.arl.army.mil:/brl-cad/Downloads/Rel${RELEASE}/
URL:  http://ftp.arl.army.mil/brlcad/
d818 1
a818 1
Packager: John Anderson <jra@@arl.army.mil>
d827 1
a827 1
This version was compiled on RedHat Linux 7.1
d870 1
a870 1
EMAIL=acst@@arl.army.mil
@


11.111
log
@
Added default to CVSROOT variable, so that "dist" target will work.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.110 2000/05/25 06:35:14 mike Exp $	#
d861 38
a898 1

@


11.110
log
@
Added comment for "dist" target
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.109 2000/05/25 03:48:33 mike Exp $	#
d574 6
a580 1
	shift
@


11.109
log
@
More nits.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.108 2000/05/25 03:35:02 mike Exp $	#
d547 2
@


11.108
log
@
Changes for FreeBSD.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.107 2000/05/25 01:55:13 mike Exp $	#
d149 3
a151 2
	echo "You must run this from root of brlcad source tree."
	exit -1
d852 3
@


11.107
log
@
Linux mod
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.106 2000/05/25 00:42:06 mike Exp $	#
d718 1
a718 1
The BRLCAD package is a suite of tools for gemetric modeling, analysis
d737 2
a742 2
@@pkgdep tcl-8.0.4
@@pkgdep tk-8.0.4
@


11.106
log
@
Tweaked up the FreeBSD "pkg" target.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.105 2000/05/19 20:22:20 bparker Exp $	#
d783 1
a783 1
Source:  ftp.arl.mil:/pub/brl-cad/Rel${RELEASE}/src/
d795 1
a795 1
This version was compiled on RedHat Linux 5.2
@


11.105
log
@*- add html directories for libbu, librt and cadwidgets
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.104 2000/03/17 06:27:33 mike Exp $	#
d727 2
a728 2
BRLCAD is copyrighted software.  It is distributed under a license
agreement.  Do not redistribute this software outside your organization.
d740 1
a740 1
@@name brlcad-5.0
d766 1
a766 1
pkg_create -I postinst.sh -d desc -c comment -f contents brlcad-5.0
@


11.104
log
@
Added support for making Solaris 5.x installation "packages",
which are also called datastreams.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.103 2000/03/05 17:05:29 cjohnson Exp $	#
d227 1
a227 1
HTML_DIRS="html/manuals html/manuals/shaders html/manuals/Anim_Tutorial html/manuals/libdm html/manuals/mged html/manuals/mged/animmate html/ReleaseNotes html/ReleaseNotes/Rel5.0 html/ReleaseNotes/Rel5.0/Summary"
@


11.103
log
@Setup.sh now makes a .cake.MTYPE directory that is not being updated or
cleaned up correctly.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.102 2000/03/04 04:33:29 mike Exp $	#
d781 1
a781 1
Copyright:  Copyright 1999 by U.S.Army in all countires except the USA.  See distribution restrictions in your license agreement or ftp.arl.mil:/pub/brl-cad/agreement
d812 38
@


11.102
log
@
Removed TDIRS
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.101 2000/03/04 04:31:53 mike Exp $	#
d359 5
a363 1
	done;;
@


11.101
log
@
Added 'command' target to allow grepping in all directories
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.100 2000/02/01 15:30:09 bparker Exp $	#
a226 1
TDIRS="libtk libtkGLX"
d249 5
a253 1
# If this system has good vendor-provided libtcl and libtk, use them.
a475 14

tcl)
	for dir in ${TDIRS}; do
		echo -------------------------------- ${DIRPRE}${dir}${DIRSUF};
		( cd ${DIRPRE}${dir}${DIRSUF} && cake -k ${SILENT} )
	done;;

install-tcl)
	cp -r libtcl/library/* /usr/brlcad/tcl
	cp -r libtk/library/* /usr/brlcad/tk
	for dir in ${TDIRS}; do
		echo -------------------------------- ${DIRPRE}${dir}${DIRSUF};
		( cd ${DIRPRE}${dir}${DIRSUF} && cake -k ${SILENT} install )
	done;;
@


11.100
log
@*- add to TSDIRS:  util, lib
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.99 2000/01/28 15:56:47 jra Exp $	#
d268 1
a268 1
else	TARGET=$1
d315 1
a315 2
	echo '  tcl		compile experimental TCL dirs'
	echo '  install-tcl	install experimental TCL dirs and mged-tcl'
d516 7
@


11.99
log
@Added '.' to list of PROE_DIRS
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.98 1999/12/17 16:46:34 bparker Exp $	#
d226 1
a226 1
TSDIRS=". mged nirt pl-dm"
@


11.98
log
@*- add cwish to the BDIRS list
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.97 1999/12/07 15:50:25 jra Exp $	#
d230 1
a230 1
PROE_DIRS="sun4_solaris sgi_elf2 text text/fullhelp text/menus"
@


11.97
log
@Added "etags" target
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.96 1999/11/16 02:35:56 mike Exp $	#
d223 1
@


11.96
log
@
benchmark needs to include liboptical too
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.95 1999/11/16 02:21:50 mike Exp $	#
d507 6
@


11.95
log
@
Improvements to the "benchmark" target
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.94 1999/10/28 01:48:07 mike Exp $	#
d330 1
@


11.94
log
@
Updated library numbers
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.93 1999/10/25 18:27:38 jra Exp $	#
d322 13
a334 14
	(cd ${DIRPRE}libsysv${DIRSUF} && cake -k ${SILENT} )
	(cd ${DIRPRE}bench${DIRSUF} && cake -k ${SILENT} )
	(cd ${DIRPRE}libwdb${DIRSUF} && cake -k ${SILENT})
	if test ${HAS_TCP} = 1
	then
		(cd ${DIRPRE}libpkg${DIRSUF} && cake -k ${SILENT})  # needed for IF_REMOTE
	fi
	(cd ${DIRPRE}libfb${DIRSUF} && cake -k ${SILENT})
	(cd ${DIRPRE}libbu${DIRSUF} && cake -k ${SILENT})
	(cd ${DIRPRE}libbn${DIRSUF} && cake -k ${SILENT})
	(cd ${DIRPRE}librt${DIRSUF} && cake -k ${SILENT})
	(cd ${DIRPRE}conv${DIRSUF} && cake -k ${SILENT})
	(cd ${DIRPRE}db${DIRSUF} && cake -k ${SILENT})
	(cd ${DIRPRE}rt${DIRSUF} && cake -k ${SILENT})
@


11.93
log
@
libtcl and libtk are now not removed from the list of directories for Linux and Freebsd.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.92 1999/10/22 19:06:52 jra Exp $	#
d40 5
a44 4
RELEASE=5.0;	RCS_REVISION=12;	REL_DATE=Today		# beta-5.0
#RELEASE=4.6;	RCS_REVISION=11;	REL_DATE=Today		# almost-5.0
#RELEASE=4.5;	RCS_REVISION=11;	REL_DATE=14-Feb-98	# 4.4 "Porting release"
#RELEASE=4.4;	RCS_REVISION=11;	REL_DATE=5-Jan-95
@


11.92
log
@Added libitcl
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.91 1999/07/01 01:25:51 mike Exp $	#
d254 1
a254 1
			sed -e  's/libtcl//' -e 's/libtk//' -e 's/libz//' -e 's/libpng//'`
@


11.91
log
@
Lee says there is no benefit to gzip'ing the RPM file
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.90 1999/06/02 15:52:43 butler Exp $	#
d178 1
@


11.90
log
@added "perms" target to set file permissions and ownership of installed
tree. XXX alas, we don't seem to know what the install directory is here.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.89 1999/06/01 21:36:31 butler Exp $	#
d798 6
a803 3
	gzip -9 < /usr/src/redhat/RPMS/i386/${RPM_BASE}.rpm > ./${RPM_BASE}.rpm.gz
	# Privacy step still needed.
	# enigma $KEY < ./${RPM_BASE}.rpm.gz > ./${RPM_BASE}.rpm.gz.cy
@


11.89
log
@Added extra dependency under FreeBSD
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.88 1999/05/28 01:29:43 mike Exp $	#
d392 29
@


11.88
log
@
Changed librle to libutahrle
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.87 1999/05/19 19:54:46 butler Exp $	#
d706 1
@


11.87
log
@Needed guards on command line argument usage in test references
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.86 1999/05/17 18:01:50 jra Exp $	#
d195 1
a195 1
	librle \
@


11.86
log
@New "dist" target using "cvs"
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.85 1999/05/17 14:43:39 butler Exp $	#
d147 1
a147 1
if [ ! -f Cakefile.defs -a $1 != dist ] ; then
d263 1
a263 1
if test "$1" = ""
@


11.85
log
@Tcl/Tk and libz are hard-coded as "system" for linux and freebsd to match
the actions of Cakefile.defs
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.84 1999/05/15 05:12:55 butler Exp $	#
d147 2
a148 2
if [ ! -f Cakefile.defs ] ; then
	You must run this from root of brlcad source tree.
d151 2
a152 2
DISTDIR=`pwd`/dist
ARCHDIR=`pwd`/arch
d253 1
a253 1
			sed -e  's/libtcl//' -e 's/libtk//' -e 's/libz//'`
d507 5
a511 5
#	"make rcs-lock"	to make sure everything is checked in & locked already
#	"make checkin"	to mark the RCS archives as released.  Unlock.
#	"make inst-dist" to copy source tree over to /dist
#	"make dist"	to polish up distribution tree in /dist
#	"make arch"	to create TAR archive in /arch
d514 42
a555 1
	if test `grep '^#define[ 	]*NFS' Cakefile.defs|wc -l` -eq 0
d561 1
a561 1
	if test `grep "^NFS=1" gen.sh|wc -l` -eq 0
d571 1
a571 1
	grep PRODUCTION Cakefile.defs
a573 15
	echo "Copying CDIRS and top level files"
	for i in ${CDIRS} ${TDIRS}
	do
		rm -fr ${DISTDIR}/$i
		mkdir -p ${DISTDIR}/$i
		# Get everything (recursively) except the RCS & CVS subdirs
		# XXX Note that this rule will also miss README files
		cp -r $i/[!CR]* ${DISTDIR}/$i/.
	done
	for i in ${TOP_FILES}
	do
		rm -f ${DISTDIR}/$i
	done
	cp ${TOP_FILES} ${DISTDIR}/.

d575 2
a576 2
	rm -f ${DISTDIR}/INSTALL.TXT
	tbl doc/install.doc | nroff -ms | col -b -x  > ${DISTDIR}/INSTALL.TXT
d579 1
a579 1
	(cd bench; cake clobber; cake install)
d581 1
a581 2
	cd ${DISTDIR}; du -a > Contents
	;;
d583 2
a584 4
# Use as final step of making a distribution -- write the archive
arch)
	mkdir ${ARCHDIR}
	cd ${DISTDIR}; tar cfv ${ARCHIVE} *
d588 1
a588 1
	set -- `ls -l ${ARCHIVE}`
d592 1
a592 1
		gencolor -r${PADBYTES} 0 >> ${ARCHIVE}
d594 1
a594 1
	chmod 444 ${ARCHIVE}
d598 1
a598 4
	FTP_ARCHIVE=$ARCHDIR/cad${RELEASE}.tar
	echo "Enter encryption key:"
	read KEY
	echo "encryption key is /$KEY/"
d605 3
d609 1
a609 1
	/usr/gnu/bin/tar cfv - Copy* README doc html papers \
d611 1
a611 1
		gzip -9 | crypt ${KEY} > ${FTP_ARCHIVE}-a.gz
d616 1
a616 1
		gzip -9 | crypt ${KEY} > ${FTP_ARCHIVE}-b.gz
d620 2
a621 2
	/usr/gnu/bin/tar -cvf - -X ${EXCLUDE} Copy* README [l]* zzzEND |\
		gzip -9 | crypt ${KEY} > ${FTP_ARCHIVE}-c.gz
d625 2
a626 2
	/usr/gnu/bin/tar -cvf - -X ${EXCLUDE} Copy* README [m-t]* zzzEND |\
		gzip -9 | crypt ${KEY} > ${FTP_ARCHIVE}-d.gz
d630 2
a631 2
	/usr/gnu/bin/tar -cvf - -X ${EXCLUDE} Copy* README [u-z]* zzzEND |\
		gzip -9 | crypt ${KEY} > ${FTP_ARCHIVE}-e.gz
d636 1
a636 1
		gzip -9 | crypt ${KEY} > ${FTP_ARCHIVE}-f.gz
d641 1
a641 1
		gzip -9 | crypt ${KEY} > ${FTP_ARCHIVE}-g.gz
d645 9
a653 4
##	/usr/gnu/bin/tar cfv - Copy* README contributed zzzEND |\
##		gzip -9 | crypt ${KEY} > ${FTP_ARCHIVE}-h.gz
##	chmod 444 ${FTP_ARCHIVE}-h.gz
##	echo "${FTP_ARCHIVE}-h.gz created (contrib)"
d656 9
@


11.84
log
@remove debugging output
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.83 1999/05/15 02:56:34 butler Exp $	#
d252 2
a253 15
		tclsh8.0 << EOF
exit
EOF
		if test $? -eq 0
		then 
			BDIRS=`echo ${BDIRS} | \
				sed -e  's/libtcl//' -e 's/libtk//'`
		fi

		if test -f /usr/lib/libz.a
		then
			BDIRS=`echo ${BDIRS} | sed -e  's/libz//'`
		fi


@


11.83
log
@Split tcl/tk and libz dependency checks.  Each performed separately now.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.82 1999/05/13 21:51:41 bparker Exp $	#
a19 2

echo $0 $*
@


11.82
log
@*- mods in support of sample_applications
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.81 1999/05/13 19:15:23 mike Exp $	#
d21 2
d258 8
a265 3
		then BDIRS=`echo ${BDIRS} | \
		    sed -e  's/libtcl//' -e 's/libtk//' \
			-e 's/libz//' `
d267 2
@


11.81
log
@Re-defined the meaning of "inst-dist" target.
Previously, it was auto-run by Cakefile.rules when a "gen.sh install"
was performed on the "master" machine.
Now, the two operations are entirely separate.
"gen.sh inst-dist" must be run whenever the /dist tree needs to be built.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.80 1999/05/13 14:29:16 jra Exp $	#
d225 2
a226 1
HTML_DIRS="manuals manuals/shaders manuals/Anim_Tutorial manuals/libdm manuals/mged manuals/mged/animmate ReleaseNotes ReleaseNotes/Rel5.0 ReleaseNotes/Rel5.0/Summary"
d390 3
a392 3
	for dir in ${HTML_DIRS}; do
		echo -------------------------------- html/${dir};
		( cd html/${dir} && cake -k ${SILENT} ${TARGET} )
@


11.80
log
@Added pro-engineer directories
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.79 1999/05/12 19:06:11 jra Exp $	#
d399 1
a399 1
#  inst-dist	BRL-only:  inst sources in dist tree without inst products
d512 5
a516 6
#	"make rcs-lock"	to make sure everything is checked in already
#	"make checkin"	to mark the RCS archives
#	"make install"	to install released binaries, copy over source tree.
#			(or "make inst-dist" for trial attempts)
#	"make dist"	to polish up distribution tree
#	"make arch"	to create TAR archive
@


11.79
log
@7d cannot use system libpng (it doesn't have all the routines)
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.78 1999/05/11 13:41:05 pjt Exp $	#
d226 1
d392 4
@


11.78
log
@Added ReleaseNotes and its subdirs to HTML_DIRS
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.77 1999/05/08 01:20:03 mike Exp $	#
d256 1
a256 1
			-e 's/libz//' -e 's/libpng//' `
a257 4
		;;
	7d)
		BDIRS=`echo ${BDIRS} | \
		    sed -e 's/libz//' -e 's/libpng//' `
@


11.77
log
@Changed RCS revision for Release 5.0 to 12.
This also changes major revision of libraries.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.76 1999/05/08 00:57:23 mike Exp $	#
d225 1
a225 1
HTML_DIRS="manuals manuals/shaders manuals/Anim_Tutorial manuals/libdm manuals/mged manuals/mged/animmate"
@


11.76
log
@7d has both /usr/lib/libpng and /usr/lib/libz.
m4i65 has /usr/lib64/libz
m4i64 has neither.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.75 1999/05/08 00:19:14 mike Exp $	#
d40 1
a40 1
RELEASE=5.0;	RCS_REVISION=11;	REL_DATE=Today		# beta-5.0
@


11.75
log
@Typo in SGI case
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.74 1999/05/08 00:10:57 mike Exp $	#
d259 1
a259 1
	7d|m4i64|m4i65)
d262 5
@


11.74
log
@Irix offers libz and libpng, let's use 'em.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.73 1999/05/08 00:09:37 mike Exp $	#
d261 1
a261 1
		    sed -e  -e 's/libz//' -e 's/libpng//' `
@


11.73
log
@Don't use LIBPNG if system provides one.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.72 1999/05/08 00:06:32 mike Exp $	#
d258 4
@


11.72
log
@Don't bother compiling LIBZ if the system provides it.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.71 1999/04/30 20:51:27 bparker Exp $	#
d255 2
a256 1
			sed -e  's/libtcl//' -e 's/libtk//' -e 's/libz//' `
@


11.71
log
@*- add manuals to HTML_DIRS
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.70 1999/04/29 22:15:19 butler Exp $	#
d246 2
a247 1
# Needs to be coordinated with setting of LIBTCL in Cakefile.defs
d254 2
a255 1
		then BDIRS=`echo ${BDIRS} | sed -e  's/libtcl//' -e 's/libtk//' `
@


11.70
log
@Trying to get dist and arch targets to work again
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.69 1999/04/29 19:33:18 bparker Exp $	#
d225 1
a225 1
HTML_DIRS="manuals/shaders manuals/Anim_Tutorial manuals/libdm manuals/mged manuals/mged/animmate"
@


11.69
log
@*- add loop to install html documents
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.68 1999/04/22 20:59:13 mike Exp $	#
d40 2
a41 1
RELEASE=4.6;	RCS_REVISION=11;	REL_DATE=Today		# almost-5.0
d145 8
a152 2
DISTDIR=/m/dist/.
ARCHDIR=/m/.
d165 1
a165 1
CDIRS="sh cake cakeaux html papers contributed pro-engineer"
d530 1
a530 1
		mkdir ${DISTDIR}/$i
d553 1
d568 1
a568 1
	FTP_ARCHIVE=/n/cad/usr/spool/ftp/brl-cad/Rel${RELEASE}/src/cad${RELEASE}.tar
a573 1
	echo 'papers/*' >> ${EXCLUDE}
a574 1
	echo 'contributed/*' >> ${EXCLUDE}
d623 65
@


11.68
log
@More RPM work
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.67 1999/04/22 20:52:15 mike Exp $	#
d218 1
d372 4
@


11.67
log
@Added RPM support
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.66 1999/04/22 20:31:23 mike Exp $	#
d614 1
a614 1
	REV=1
@


11.66
log
@Converted from "compress" to "gzip -9".
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.65 1999/02/12 20:47:40 jra Exp $	#
d614 37
@


11.65
log
@Changed g_lint to gtools
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.64 1999/01/27 16:07:50 jra Exp $	#
d519 1
a519 1
		# Get everything (recursively) except the RCS subdirs
d521 1
a521 1
		cp -r $i/[!R]* ${DISTDIR}/$i/.
d535 1
a535 1
	echo "End of BRL-CAD Release $RELEASE tape, `date`" > ${DISTDIR}/zzzEND
d555 1
a555 1
	FTP_ARCHIVE=/n/wolf/usr/spool/ftp/brl-cad/Rel${RELEASE}/src/cad${RELEASE}.tar
d570 3
a572 3
		compress | crypt ${KEY} > ${FTP_ARCHIVE}-a.Z
	chmod 444 ${FTP_ARCHIVE}-a.Z
	echo "${FTP_ARCHIVE}-a.Z created (doc)"
d575 3
a577 3
		compress | crypt ${KEY} > ${FTP_ARCHIVE}-b.Z
	chmod 444 ${FTP_ARCHIVE}-b.Z
	echo "${FTP_ARCHIVE}-b.Z created (core 1)"
d580 3
a582 3
		compress | crypt ${KEY} > ${FTP_ARCHIVE}-c.Z
	chmod 444 ${FTP_ARCHIVE}-c.Z
	echo "${FTP_ARCHIVE}-c.Z created (core 2)"
d585 3
a587 3
		compress | crypt ${KEY} > ${FTP_ARCHIVE}-d.Z
	chmod 444 ${FTP_ARCHIVE}-d.Z
	echo "${FTP_ARCHIVE}-d.Z created (core 3)"
d590 3
a592 3
		compress | crypt ${KEY} > ${FTP_ARCHIVE}-e.Z
	chmod 444 ${FTP_ARCHIVE}-e.Z
	echo "${FTP_ARCHIVE}-e.Z created (core 4)"
d595 3
a597 3
		compress | crypt ${KEY} > ${FTP_ARCHIVE}-f.Z
	chmod 444 ${FTP_ARCHIVE}-f.Z
	echo "${FTP_ARCHIVE}-f.Z created (pix)"
d600 3
a602 3
		compress | crypt ${KEY} > ${FTP_ARCHIVE}-g.Z
	chmod 444 ${FTP_ARCHIVE}-g.Z
	echo "${FTP_ARCHIVE}-g.Z created (vfont)"
d605 3
a607 3
##		compress | crypt ${KEY} > ${FTP_ARCHIVE}-h.Z
##	chmod 444 ${FTP_ARCHIVE}-h.Z
##	echo "${FTP_ARCHIVE}-h.Z created (contrib)"
d610 4
@


11.64
log
@Changed tclsh check to tclsh8.0 for li|fbsd
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.63 1999/01/27 14:52:56 jra Exp $	#
d212 1
a212 1
	g_lint \
@


11.63
log
@Removed tclscripts from the ADIRS list (TSDIRS handles tclscripts)
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.62 1999/01/21 18:10:03 butler Exp $	#
d241 1
a241 1
		tclsh << EOF
@


11.62
log
@removed ancient "whetstone" benchmark from install
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.61 1999/01/21 03:13:04 mike Exp $	#
d154 1
a154 1
ADIRS="h doc pix vfont awf brlman tclscripts"
d216 1
a216 1
TSDIRS="mged nirt pl-dm"
@


11.61
log
@Don't need both tcl/ and tk/ directories making "bwish".  Just use tk/
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.60 1999/01/21 02:50:56 mike Exp $	#
d154 1
a154 1
ADIRS="h doc pix vfont whetstone awf brlman tclscripts"
d212 1
@


11.60
log
@Added tcl/ and tk/ to compilation list, since they're in the CVS tree.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.59 1999/01/15 03:54:51 butler Exp $	#
a211 1
	tcl \
@


11.59
log
@Added support for "-s" option to support silent
(really just less verbose) builds.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.58 1999/01/08 22:55:01 jra Exp $	#
d212 2
@


11.58
log
@Added a check for tclsh.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.57 1999/01/08 20:18:48 bparker Exp $	#
d21 8
d265 12
a276 9
echo
echo "This Release = ${RELEASE} of ${REL_DATE}      Making Target: ${TARGET}"
echo " BRLCAD_ROOT = ${BRLCAD_ROOT}"
echo "Has Symlinks = ${HAS_SYMLINKS}"
echo "   UNIX Type = ${UNIXTYPE}"
echo "     Has TCP = ${HAS_TCP}"
echo "     Machine = ${MACHINE}"
echo "         NFS = ${NFS}"
echo
d306 3
a308 3
	(cd ${DIRPRE}libsysv${DIRSUF} && cake -k)
	(cd ${DIRPRE}bench${DIRSUF} && cake -k)
	(cd ${DIRPRE}libwdb${DIRSUF} && cake -k)
d311 1
a311 1
		(cd ${DIRPRE}libpkg${DIRSUF} && cake -k)  # needed for IF_REMOTE
d313 7
a319 7
	(cd ${DIRPRE}libfb${DIRSUF} && cake -k)
	(cd ${DIRPRE}libbu${DIRSUF} && cake -k)
	(cd ${DIRPRE}libbn${DIRSUF} && cake -k)
	(cd ${DIRPRE}librt${DIRSUF} && cake -k)
	(cd ${DIRPRE}conv${DIRSUF} && cake -k)
	(cd ${DIRPRE}db${DIRSUF} && cake -k)
	(cd ${DIRPRE}rt${DIRSUF} && cake -k)
d333 1
a333 1
		( cd ${DIRPRE}${dir}${DIRSUF} && cake -k )
d339 1
a339 1
		( cd ${DIRPRE}${dir}${DIRSUF} && cake -k ${TARGET} )
d360 1
a360 1
		( cd ${dir} && cake -k ${TARGET} )
d364 1
a364 1
		( cd ${DIRPRE}${dir}${DIRSUF} && cake -k ${TARGET} )
d368 1
a368 1
		( cd tclscripts/${dir} && cake -k ${TARGET} )
d377 1
a377 1
		( cd ${dir} && cake -k ${TARGET} )
d424 1
a424 1
		( cd ${DIRPRE}${dir}${DIRSUF} && cake -k )
d432 1
a432 1
		( cd ${DIRPRE}${dir}${DIRSUF} && cake -k install )
d436 1
a436 1
	( cd tclscripts && cake -k ${TARGET} )
d439 1
a439 1
	    ( cd tclscripts/$dir && cake -k ${TARGET} )
d445 1
a445 1
		( cd $dir && cake -k ${TARGET} )
d451 1
a451 1
		( cd $dir && cake -k ${TARGET} )
@


11.57
log
@*- changed ami to tclIndex
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.56 1999/01/07 03:55:00 mike Exp $	#
d231 6
a236 1
		BDIRS=`echo ${BDIRS} | sed -e  's/libtcl//' -e 's/libtk//' `
@


11.56
log
@Clarify that we're installing tclscripts
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.55 1998/12/31 06:27:33 mike Exp $	#
d419 1
a419 1
ami)
@


11.55
log
@FreeBSD can use the vendor-provided TCL and Tk libraries.
Matches support in Cakefile.defs
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.54 1998/12/31 03:15:14 mike Exp $	#
d351 1
a351 1
		echo -------------------------------- ${dir};
@


11.54
log
@verify.sh is now sh/brlcad-check.sh, so it can be used more generally.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.53 1998/12/31 02:23:03 mike Exp $	#
d230 1
a230 1
	li)
@


11.53
log
@Split out the Cakefile.defs -vs- machinetype.sh verification
script into a separate program.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.52 1998/12/31 01:18:07 mike Exp $	#
d143 1
a143 1
		gen.sh setup.sh verify.sh newbindir.sh"
@


11.52
log
@Between gen.sh and Cakefile.defs, Linux systems are now set to use the
system libtcl8.0 rather than the one we carry along with us in BRL-CAD.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.51 1998/12/30 04:26:54 mike Exp $	#
d143 1
a143 1
		gen.sh setup.sh newbindir.sh"
@


11.51
log
@libredblack doesn't exist any more.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.50 1998/12/29 00:41:37 mike Exp $	#
d226 9
@


11.50
log
@Generalized direct-SCSI library detection on SGI.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.49 1998/09/23 13:29:57 bparker Exp $	#
a169 1
	libredblack \
@


11.49
log
@*- mods to target ami
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.48 1998/09/22 19:49:05 bparker Exp $	#
a199 1
	edpix \
d218 9
a226 7
# If this is not an SGI 4D with GL, eliminate SGI GL-specific directories
# The 7d platform (R8000 TFP with Irix 6) does not have GL.
if test "${MACHINE}" != "4d" -a "${MACHINE}" != "5d" -a "${MACHINE}" != "6d"
then
	BDIRS=`echo ${BDIRS} | sed -e  's/edpix//
				        s/canon//'`
fi
@


11.48
log
@*- stop doing auto_mkindex when installing tcl scripts
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.47 1998/09/22 02:20:42 mike Exp $	#
d411 1
a411 1
	$BRLCAD_ROOT/tclscripts/ami.tcl $BRLCAD_ROOT/tclscripts
d414 1
a414 1
	    $BRLCAD_ROOT/tclscripts/ami.tcl $BRLCAD_ROOT/tclscripts/$dir
@


11.47
log
@Added libmultispectral
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.46 1998/09/22 01:31:57 mike Exp $	#
a340 4

	# This runs Tcl's auto_mkindex to create an directory index
	$BRLCAD_ROOT/tclscripts/ami.tcl $BRLCAD_ROOT/tclscripts

a343 1
		$BRLCAD_ROOT/tclscripts/ami.tcl $BRLCAD_ROOT/tclscripts/$dir
@


11.46
log
@Added liboptical
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.45 1998/09/21 19:39:32 bparker Exp $	#
d169 1
@


11.45
log
@*- modified target "install" to load all tcl files and
	to build an index(s) using auto_mkindex
*- add a few targets
	ami - does a auto_mkindex on all tclscripts directories
	tags - builds tags files
	TAGS - build TAGS files
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.44 1998/08/22 23:06:25 mike Exp $	#
d168 1
@


11.44
log
@Print and export BRLCAD_ROOT environment variable
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.43 1998/08/21 22:21:32 mike Exp $	#
a145 1
# XXX MGED won't run unless "cake install" installs /usr/brlcad/html !!
d206 1
d338 9
a347 1

d411 19
@


11.43
log
@Oops, didn't terminate BDIRS
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.42 1998/08/21 19:38:04 mike Exp $	#
d133 2
d243 1
@


11.42
log
@Removed dhrystone/ directory from active list since Lee won't include the
source in the CVS archive.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.41 1998/06/25 17:21:24 jra Exp $	#
d202 2
a203 1
	burst
@


11.41
log
@Added libpng
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.40 1998/06/24 13:22:43 jra Exp $	#
d202 1
a202 2
	burst \
	dhrystone"
@


11.40
log
@Added libz.
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.39 1998/06/22 15:15:31 jra Exp $	#
d164 1
@


11.39
log
@Deleted tcl and tk directories from the BDIRS list
@
text
@d17 1
a17 1
#  $Header: /c/CVS/brlcad/gen.sh,v 11.38 1998/03/27 02:23:20 mike Exp $	#
d163 1
@


11.38
log
@Dropped rfbd from the CAD Package
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.37 1998/02/04 00:44:32 mike Exp mike $	#
a200 2
	tcl \
	tk \
@


11.37
log
@FTP archive is on wolf.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.36 1998/02/04 00:08:52 mike Exp mike $	#
a162 1
	rfbd \
d212 1
a212 2
					s/fbserv//
					s/rfbd//'`
@


11.36
log
@Changed date on 4.5
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.35 1998/01/29 05:33:09 mike Exp mike $	#
d503 1
a503 1
	FTP_ARCHIVE=/usr/spool/ftp/brl-cad/Rel${RELEASE}/src/cad${RELEASE}.tar
@


11.35
log
@Noted date of 4.5 release
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.34 1998/01/13 05:00:12 mike Exp mike $	#
d33 1
a33 1
#RELEASE=4.5;	RCS_REVISION=11;	REL_DATE=28-Jan-98	# 4.4 Maint release
@


11.34
log
@Made distinction between development (4.6) and 4.4 maint rel (4.5)
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.33 1997/10/08 04:50:30 mike Exp mike $	#
d33 1
a33 1
#RELEASE=4.5;	RCS_REVISION=11;	REL_DATE=xx-Jan-98	# 4.4 Maint release
d278 1
a278 1
	(cd ${DIRPRE}libsysv${DIRSUF} &&  cake -k)
d280 1
a280 1
	(cd ${DIRPRE}libwdb${DIRSUF} &&  cake -k)
d283 1
a283 1
		(cd ${DIRPRE}libpkg${DIRSUF} &&  cake -k)  # needed for IF_REMOTE
@


11.33
log
@Documented problem with /usr/brlcad/html
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.32 1997/06/20 06:07:49 cjohnson Exp mike $	#
d32 2
a33 1
RELEASE=4.5;	RCS_REVISION=11;	REL_DATE=Today
@


11.32
log
@Forgot to checkout gen.sh on arl source machine, mods got wiped by later
modifications.
@
text
@d17 1
a17 1
#  $Header: /vld/cjohnson/cvsroot/brlcad/gen.sh,v 11.31 1997/06/11 00:49:06 mike Exp $	#
d143 1
@


11.31
log
@libdm has to be compiled before fbserv
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.30 1997/05/20 21:09:28 mike Exp mike $	#
d276 3
a278 3
	(cd ${DIRPRE}libsysv${DIRSUF};  cake -k)
	(cd ${DIRPRE}bench${DIRSUF};  cake -k)
	(cd ${DIRPRE}libwdb${DIRSUF};  cake -k)
d281 1
a281 1
		(cd ${DIRPRE}libpkg${DIRSUF};  cake -k)  # needed for IF_REMOTE
d283 7
a289 7
	(cd ${DIRPRE}libfb${DIRSUF};  cake -k)
	(cd ${DIRPRE}libbu${DIRSUF};  cake -k)
	(cd ${DIRPRE}libbn${DIRSUF};  cake -k)
	(cd ${DIRPRE}librt${DIRSUF};  cake -k)
	(cd ${DIRPRE}conv${DIRSUF}; cake -k)
	(cd ${DIRPRE}db${DIRSUF}; cake -k)
	(cd ${DIRPRE}rt${DIRSUF};  cake -k)
d303 1
a303 1
		( cd ${DIRPRE}${dir}${DIRSUF}; cake -k )
d309 1
a309 1
		( cd ${DIRPRE}${dir}${DIRSUF}; cake -k ${TARGET} )
d330 1
a330 1
		( cd ${dir}; cake -k ${TARGET} )
d334 1
a334 1
		( cd ${DIRPRE}${dir}${DIRSUF}; cake -k ${TARGET} )
d344 1
a344 1
		( cd ${dir}; cake -k ${TARGET} )
d391 1
a391 1
		( cd ${DIRPRE}${dir}${DIRSUF}; cake -k )
d399 1
a399 1
		( cd ${DIRPRE}${dir}${DIRSUF}; cake -k install )
@


11.30
log
@sh/machinetype.sh now contains the master setting for BASEDIR
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.28 1997/05/06 18:19:11 mike Exp $	#
d160 1
a166 1
	libdm \
@


11.29
log
@Change all occurences of "cd dir;cake" to "cd dir && cake" in hopes that
when a directory is missing, the gen.sh script does not go recursive.
@
text
@d17 1
a17 1
#  $Header: /vld/cjohnson/cvsroot/brlcad/gen.sh,v 11.28 1997/05/06 18:19:11 mike Exp $	#
d130 1
a130 1
# This will set Shell variables MACHINE, UNIXTYPE, and HAS_TCP
d276 3
a278 3
	(cd ${DIRPRE}libsysv${DIRSUF} &&  cake -k)
	(cd ${DIRPRE}bench${DIRSUF} && cake -k)
	(cd ${DIRPRE}libwdb${DIRSUF} &&  cake -k)
d281 1
a281 1
		(cd ${DIRPRE}libpkg${DIRSUF} &&  cake -k)  # needed for IF_REMOTE
d283 7
a289 7
	(cd ${DIRPRE}libfb${DIRSUF} && cake -k)
	(cd ${DIRPRE}libbu${DIRSUF} && cake -k)
	(cd ${DIRPRE}libbn${DIRSUF} && cake -k)
	(cd ${DIRPRE}librt${DIRSUF} && cake -k)
	(cd ${DIRPRE}conv${DIRSUF} && cake -k)
	(cd ${DIRPRE}db${DIRSUF} && cake -k)
	(cd ${DIRPRE}rt${DIRSUF} && cake -k)
d303 1
a303 1
		( cd ${DIRPRE}${dir}${DIRSUF} && cake -k )
d309 1
a309 1
		( cd ${DIRPRE}${dir}${DIRSUF} && cake -k ${TARGET} )
d330 1
a330 1
		( cd ${dir} && cake -k ${TARGET} )
d334 1
a334 1
		( cd ${DIRPRE}${dir}${DIRSUF} && cake -k ${TARGET} )
d344 1
a344 1
		( cd ${dir} && cake -k ${TARGET} )
d391 1
a391 1
		( cd ${DIRPRE}${dir}${DIRSUF} && cake -k )
d399 1
a399 1
		( cd ${DIRPRE}${dir}${DIRSUF} && cake -k install )
@


11.28
log
@Moved user-runnable shell scripts down into "sh" directory
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.27 1997/03/27 20:41:17 jra Exp mike $	#
d276 3
a278 3
	(cd ${DIRPRE}libsysv${DIRSUF};  cake -k)
	(cd ${DIRPRE}bench${DIRSUF};  cake -k)
	(cd ${DIRPRE}libwdb${DIRSUF};  cake -k)
d281 1
a281 1
		(cd ${DIRPRE}libpkg${DIRSUF};  cake -k)  # needed for IF_REMOTE
d283 7
a289 7
	(cd ${DIRPRE}libfb${DIRSUF};  cake -k)
	(cd ${DIRPRE}libbu${DIRSUF};  cake -k)
	(cd ${DIRPRE}libbn${DIRSUF};  cake -k)
	(cd ${DIRPRE}librt${DIRSUF};  cake -k)
	(cd ${DIRPRE}conv${DIRSUF}; cake -k)
	(cd ${DIRPRE}db${DIRSUF}; cake -k)
	(cd ${DIRPRE}rt${DIRSUF};  cake -k)
d303 1
a303 1
		( cd ${DIRPRE}${dir}${DIRSUF}; cake -k )
d309 1
a309 1
		( cd ${DIRPRE}${dir}${DIRSUF}; cake -k ${TARGET} )
d330 1
a330 1
		( cd ${dir}; cake -k ${TARGET} )
d334 1
a334 1
		( cd ${DIRPRE}${dir}${DIRSUF}; cake -k ${TARGET} )
d344 1
a344 1
		( cd ${dir}; cake -k ${TARGET} )
d391 1
a391 1
		( cd ${DIRPRE}${dir}${DIRSUF}; cake -k )
d399 1
a399 1
		( cd ${DIRPRE}${dir}${DIRSUF}; cake -k install )
@


11.27
log
@Moved libtcl and libtk before fbserv anf rfbd.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.26 1997/03/10 22:15:59 butler Exp jra $	#
d140 1
a140 5
		cray.sh cray-ar.sh ranlib5.sh sgisnap.sh \
		machinetype.sh gen.sh setup.sh newvers.sh \
		sharedlibvers.sh sharedliblink.sh cadbug.sh \
		show.sh \
		cakeinclude.sh newbindir.sh pixinfo.sh"
d147 1
a147 1
CDIRS="cake cakeaux html papers contributed pro-engineer"
@


11.26
log
@added libtk to build
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.25 1997/01/08 22:15:48 mike Exp butler $	#
d162 2
a168 2
	libtcl \
	libtk \
@


11.25
log
@Added libtkGLX
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.24 1997/01/08 04:26:17 mike Exp mike $	#
d168 1
@


11.24
log
@further removed libplot3
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.23 1997/01/08 04:24:16 mike Exp mike $	#
d207 1
a207 1
TDIRS="libtk"
@


11.23
log
@Eliminated libplot
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.22 1997/01/08 02:16:42 mike Exp mike $	#
a281 1
	(cd ${DIRPRE}libplot3${DIRSUF};  cake -k)
@


11.22
log
@Removed libfont
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.21 1997/01/07 23:24:13 mike Exp mike $	#
d158 1
a158 2
	libbu \
	libplot3 \
a163 1
	libbn \
@


11.21
log
@typo
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.20 1996/12/31 00:33:13 mike Exp mike $	#
a178 1
	libfont \
@


11.20
log
@Eliminated libnurb as separate library
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.19 1996/12/31 00:30:48 mike Exp mike $	#
d170 1
a170 1
	libtclad \
@


11.19
log
@jra cosmetic edit
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.18 1996/12/26 13:37:43 jra Exp jra $	#
a165 1
	libnurb \
d291 2
a292 1
	(cd ${DIRPRE}libnurb${DIRSUF};  cake -k)
@


11.18
log
@Added libdm and libtclcad and arranged to skip canon on non-SGI machines.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.17 1996/11/19 23:10:05 jra Exp jra $	#
d226 2
a227 1
	BDIRS=`echo ${BDIRS} | sed -e  's/edpix// s/canon//'`
@


11.17
log
@Added "tk" directory.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.16 1996/08/31 11:42:20 mike Exp jra $	#
d171 2
d226 1
a226 1
	BDIRS=`echo ${BDIRS} | sed -e  's/edpix//'`
@


11.16
log
@LIBBN
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.15 1996/08/28 05:36:13 mike Exp mike $	#
d206 1
@


11.15
log
@Changed "release" to 4.5
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.14 1996/08/27 06:14:47 mike Exp mike $	#
d158 1
d165 1
@


11.14
log
@Added TCL and LIBTCL to BDIRS list
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.13 1996/08/27 06:01:51 mike Exp mike $	#
d32 2
a33 2
#RELEASE=4.8;	RCS_REVISION=11;	REL_DATE=Today
RELEASE=4.4;	RCS_REVISION=11;	REL_DATE=5-Jan-95
@


11.13
log
@removed xmged from list
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.12 1996/08/27 05:25:23 mike Exp mike $	#
d168 1
d203 1
d206 1
a206 1
TDIRS="libtcl libtk tcl tmged"
@


11.12
log
@mged depends on libtermio ?
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.11 1996/07/15 20:06:18 pjt Exp mike $	#
a198 1
	xmged \
@


11.11
log
@Added tclscripts to ADIRS
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.10 1996/07/10 12:45:14 jra Exp $	#
d167 1
a173 1
	libtermio \
@


11.10
log
@Moved anim ahead of MGED (dependency).
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.9 1995/07/18 01:09:36 butler Exp jra $	#
d147 1
a147 1
ADIRS="h doc pix vfont whetstone awf brlman"
@


11.9
log
@moved libredblack before mged so new dependency would be satisfied
@
text
@d17 1
a17 1
#  $Header: /n/wolf/m/cad/RCS/gen.sh,v 11.8 1995/06/16 16:58:00 gdurf Exp butler $	#
d170 1
a199 1
	anim \
@


11.8
log
@Tweaked install-tcl target
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.7 1995/05/16 01:17:36 butler Exp gdurf $	#
d166 1
a177 1
	libredblack \
@


11.7
log
@made BDIRS one directory per line.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.6 1995/01/31 09:59:14 jra Exp butler $	#
d395 1
a395 1
	cp libtcl/library/* /usr/brlcad/tcl
@


11.6
log
@Added "burst" to "BDIRS".
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.5 95/01/05 14:21:32 gdurf Exp Locker: jra $	#
d164 2
a165 1
	libnurb librt \
d196 2
a197 1
	nirt irprep \
@


11.5
log
@Put NFS back
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.4 95/01/05 04:11:41 mike Rel4_4 Locker: gdurf $	#
d200 1
@


11.4
log
@Release 4.4, for real.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.3 95/01/04 10:39:49 mike Exp Locker: mike $	#
d27 1
a27 1
NFS=0
@


11.3
log
@Back to normal mode, NFS=1
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.2 95/01/04 10:36:31 mike Exp Locker: mike $	#
d27 1
a27 1
NFS=1
d33 1
a33 1
RELEASE=4.4;	RCS_REVISION=11;	REL_DATE=4-Jan-95
@


11.2
log
@Improved "checkin" target.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.45 95/01/03 23:45:25 mike Exp Locker: mike $	#
d27 1
a27 1
NFS=0
@


11.1
log
@Release_4.4
@
text
@d422 2
a423 1
		(cd $dir; rm -f vers.c version \
d498 1
a498 1
	FTP_ARCHIVE=/usr/spool/ftp/brl-cad/Rel4.3/src/cad${RELEASE}.tar
@


11.1.1.1
log
@Release_4.5
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 11.4 95/01/05 04:11:41 mike Rel4_4 $	#
d32 2
a33 3
#RELEASE=4.6;	RCS_REVISION=11;	REL_DATE=Today
RELEASE=4.5;	RCS_REVISION=11;	REL_DATE=28-Jan-98	# 4.4 Maint release
#RELEASE=4.4;	RCS_REVISION=11;	REL_DATE=5-Jan-95
d130 1
a130 1
# This will set Shell variables MACHINE, UNIXTYPE, and HAS_TCP, and BASDIR
d217 1
a217 2
	BDIRS=`echo ${BDIRS} | sed -e  's/edpix//
				        s/canon//'`
a242 1
echo "     BASEDIR = ${BASEDIR}"
d273 4
a276 4
	(cd ${DIRPRE}libsysv${DIRSUF} && cake -k)
	(cd ${DIRPRE}bench${DIRSUF} && cake -k)
	(cd ${DIRPRE}libwdb${DIRSUF} && cake -k)
	(cd ${DIRPRE}libplot3${DIRSUF} && cake -k)
d279 1
a279 1
		(cd ${DIRPRE}libpkg${DIRSUF} && cake -k)  # needed for IF_REMOTE
d281 6
a286 6
	(cd ${DIRPRE}libfb${DIRSUF} && cake -k)
	(cd ${DIRPRE}libnurb${DIRSUF} && cake -k)
	(cd ${DIRPRE}librt${DIRSUF} && cake -k)
	(cd ${DIRPRE}conv${DIRSUF} && cake -k)
	(cd ${DIRPRE}db${DIRSUF} && cake -k)
	(cd ${DIRPRE}rt${DIRSUF} && cake -k)
d300 1
a300 1
		( cd ${DIRPRE}${dir}${DIRSUF} && cake -k )
d306 1
a306 1
		( cd ${DIRPRE}${dir}${DIRSUF} && cake -k ${TARGET} )
d327 1
a327 1
		( cd ${dir} && cake -k ${TARGET} )
d331 1
a331 1
		( cd ${DIRPRE}${dir}${DIRSUF} && cake -k ${TARGET} )
d341 1
a341 1
		( cd ${dir} && cake -k ${TARGET} )
d388 1
a388 1
		( cd ${DIRPRE}${dir}${DIRSUF} && cake -k )
d392 1
a392 1
	cp -r libtcl/library/* /usr/brlcad/tcl
d396 1
a396 1
		( cd ${DIRPRE}${dir}${DIRSUF} && cake -k install )
d405 1
a405 1
	rcs -l${RCS_REVISION}.1 ${TOP_FILES}
d410 1
a410 1
		rcs -l${RCS_REVISION}.1 *.[cshf1-9] Cakefile; \
d417 2
a418 2
	CI_ARGS="-f -r${RCS_REVISION}.1.1 -sRel${REL_NODOT} -mRelease_${RELEASE}"
	rcs -l11.1 ${TOP_FILES}
d422 2
a423 3
		(cd $dir; rm -f vers.c version; \
		co RCS/*; \
		rcs -l11.1 *.[cshf1-9] Cakefile; \
d497 1
a497 1
	FTP_ARCHIVE=/n/wolf/usr/spool/ftp/brl-cad/Rel${RELEASE}/src/cad${RELEASE}.tar
@


10.45
log
@Beta6
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.44 95/01/03 21:26:25 mike Exp Locker: mike $	#
d27 1
a27 1
NFS=1
d33 2
a34 1
RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=2-Jan-95	# Beta6
d404 1
a404 1
checkin)
d422 1
a422 1
		(cd $dir; \
@


10.44
log
@Moved libraries which RT does not need down in the list,
so they compile after RT.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.43 94/12/30 19:07:01 mike Exp Locker: mike $	#
d33 3
a35 2
RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=29-Dec-94	# Beta5
RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=27-Dec-94	# Beta4
@


10.43
log
@GDurf fix to "edpix" from machines that don't have GL.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.42 94/12/30 06:11:47 mike Exp Locker: mike $	#
d162 6
a173 1
	libnurb librt \
a174 5
	conv \
	db \
	rt \
	remrt \
	mged \
d390 2
@


10.42
log
@Beta5.  Includes TCL as optional stuff.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.41 94/12/29 21:45:04 mike Exp Locker: mike $	#
d211 3
a213 2
# If this is not an SGI 4D, eliminate SGI-specific directories
if test "${MACHINE}" != "4d" -a "${MACHINE}" != "5d" -a "${MACHINE}" != "6d" -a "${MACHINE}" != "7d" -a "${MACHINE}" != "8d"
@


10.41
log
@Initial support for TCL
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.40 94/12/28 00:03:25 mike Exp Locker: mike $	#
d33 1
d452 1
a452 1
	for i in ${CDIRS}
@


10.40
log
@Beta4
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.39 94/12/20 22:30:19 mike Exp Locker: mike $	#
d199 2
d261 2
d381 12
d399 10
d423 1
@


10.39
log
@Release 4.3beta3.
Added EDPIX on 6d and 7d architectures.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.38 94/12/02 00:17:33 mike Exp Locker: mike $	#
d33 2
a34 1
RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=20-Dec-94	# Beta3
@


10.38
log
@4.3 beta2
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.37 94/11/19 04:44:28 mike Exp Locker: mike $	#
d33 2
a34 1
RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=1-Dec-94	# Beta2
d208 1
a208 1
if test "${MACHINE}" != "4d" -a "${MACHINE}" != "5d"
d403 1
a403 1
	if test `grep '#define[ 	]*NFS' Cakefile.defs|wc -l` -eq 0
@


10.37
log
@Beta release
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.36 94/11/15 00:21:23 mike Exp Locker: mike $	#
d33 2
a34 1
RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=19-Nov-94	# Beta
@


10.36
log
@Moved "off" down in the list
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.35 94/11/07 23:50:14 mike Exp Locker: mike $	#
d33 2
a34 1
RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=4-Nov-94	# Alpha6
@


10.35
log
@Fixed bug #43, now formats INSTALL.TXT as part of the "dist" target.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.34 94/11/07 23:21:45 mike Exp Locker: mike $	#
a165 1
	off \
d185 1
@


10.34
log
@Added html support
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.33 94/11/07 10:56:39 jra Exp Locker: mike $	#
d419 1
d433 5
@


10.33
log
@Added 'off' directory to BDIRS.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.32 94/11/05 11:04:44 mike Exp Locker: jra $	#
d142 3
a144 2
# Has no Cakefile, just copy it verbatim.  Only used in "dist" command.
CDIRS="cake cakeaux papers contributed pro-engineer"
d463 1
d466 1
a466 1
	/usr/gnu/bin/tar cfv - Copy* README doc papers \
@


10.32
log
@Alpha6
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.31 94/10/29 03:24:53 mike Exp Locker: mike $	#
d165 1
@


10.31
log
@Added JACK routines to package.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.30 94/10/24 20:54:58 mike Exp Locker: mike $	#
d33 2
a34 1
RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=20-Oct-94	# Alpha5
@


10.30
log
@Added improved TOP_FILES comment.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.29 94/10/20 02:45:53 mike Exp Locker: mike $	#
d169 1
@


10.29
log
@alpha5 
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.28 94/10/20 02:05:10 mike Exp Locker: mike $	#
d130 1
@


10.28
log
@Broke out core 4
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.27 94/10/19 15:17:41 mike Exp Locker: mike $	#
d33 2
a34 1
RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=18-Oct-94	# Alpha4
@


10.27
log
@Added show.sh
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.26 94/10/19 14:44:41 mike Exp Locker: mike $	#
d475 1
a475 1
	/usr/gnu/bin/tar -cvf - -X ${EXCLUDE} Copy* README [m-z]* zzzEND |\
d480 1
a480 1
	/usr/gnu/bin/tar cfv - Copy* README pix zzzEND |\
d483 1
a483 1
	echo "${FTP_ARCHIVE}-e.Z created (pix)"
d485 1
a485 1
	/usr/gnu/bin/tar cfv - Copy* README vfont zzzEND |\
d488 1
a488 1
	echo "${FTP_ARCHIVE}-f.Z created (vfont)"
d490 5
d496 3
a498 3
##		compress | crypt ${KEY} > ${FTP_ARCHIVE}-g.Z
##	chmod 444 ${FTP_ARCHIVE}-g.Z
##	echo "${FTP_ARCHIVE}-g.Z created (contrib)"
@


10.26
log
@Don't forget sharedliblink.sh
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.25 94/10/18 21:55:36 mike Exp Locker: mike $	#
d133 1
@


10.25
log
@Alpha4
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.24 94/10/12 00:05:55 mike Exp Locker: mike $	#
d128 1
d132 1
a132 1
		sharedlibvers.sh cadbug.sh \
@


10.24
log
@Cut Alpha3 release
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.23 94/10/02 20:34:18 mike Exp Locker: mike $	#
d32 3
a34 2
#RELEASE=4.4;	RCS_REVISION=11;	REL_DATE=Today
RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=11-Oct-94	# Alpha3
d463 1
a463 1
	/usr/gnu/bin/tar -cvf - -X ${EXCLUDE} [A-Z]* [a-l]* zzzEND |\
d468 1
a468 1
	/usr/gnu/bin/tar -cvf - -X ${EXCLUDE} Copy* README [m-z]* zzzEND |\
d473 1
a473 1
	/usr/gnu/bin/tar cfv - Copy* README pix zzzEND |\
d476 1
a476 1
	echo "${FTP_ARCHIVE}-d.Z created (pix)"
d478 1
a478 1
	/usr/gnu/bin/tar cfv - Copy* README vfont zzzEND |\
d481 1
a481 1
	echo "${FTP_ARCHIVE}-e.Z created (vfont)"
d483 1
a483 1
	/usr/gnu/bin/tar cfv - Copy* README contributed zzzEND |\
d486 6
a491 1
	echo "${FTP_ARCHIVE}-f.Z created (contrib)"
@


10.23
log
@Alpha+1
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.22 94/09/30 17:47:20 mike Exp $	#
d33 2
a34 1
RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=30-Sept-94	# Alpha+1
@


10.22
log
@FTP image location has changed.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.21 94/09/28 21:11:54 mike Exp Locker: mike $	#
d32 3
a34 1
RELEASE=4.3;	RCS_REVISION=10;	REL_DATE=Today
@


10.21
log
@Added cp -r (recursive copy) for CDIRS for pro-engineer directory.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.20 94/09/28 21:00:30 mike Exp Locker: mike $	#
d441 1
a441 1
	FTP_ARCHIVE=/usr/spool/ftp/brl-cad/cad${RELEASE}.tar
@


10.20
log
@Changed gutil to mk/
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.19 94/09/28 20:58:33 mike Exp Locker: mike $	#
d411 3
a413 2
		# Get everything except the RCS subdirs
		cp $i/[!R]* ${DISTDIR}/$i/.
@


10.19
log
@Added pro-engineer/ and gutil/.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.18 94/09/24 03:38:12 mike Exp Locker: mike $	#
d161 1
a161 1
	gutil \
@


10.18
log
@cadbug.sh Was not being installed in BINDIR.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.17 94/09/24 02:49:00 mike Exp Locker: mike $	#
d134 1
a134 1
CDIRS="cake cakeaux papers contributed"
d161 1
@


10.17
log
@Eliminated dmdfb
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.16 94/09/23 20:01:44 mike Exp Locker: mike $	#
d85 1
a85 1
	ranlib5.sh"
@


10.16
log
@Added cadbug.sh
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.15 94/09/23 14:35:32 stay Exp Locker: mike $	#
a447 1
	echo 'dmdfb/*' >> ${EXCLUDE}
d451 1
a451 1
	/usr/gnu/bin/tar cfv - Copy* README doc papers dmdfb \
@


10.15
log
@added anim directory for dist
@
text
@d17 1
a17 1
#  $Header: /n/wolf/m/cad/RCS/gen.sh,v 10.14 1994/09/22 14:14:08 jra Exp stay $	#
d127 1
a127 1
		sharedlibvers.sh \
@


10.14
log
@Added libredblack
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.13 94/09/22 02:25:58 mike Exp Locker: jra $	#
d177 1
@


10.13
log
@Added extra shell scripts.
Added PRODUCTION check.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.12 94/09/21 04:09:30 mike Exp Locker: mike $	#
d154 1
@


10.12
log
@Changed to take encryption key from STDIN.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.11 94/09/21 04:01:43 mike Exp Locker: mike $	#
d84 2
a85 1
NECESSARY_CMDS="cake cakesub cakeinclude machinetype.sh ranlib5.sh"
d127 1
d399 1
d401 2
d437 1
a437 1
	FTP_ARCHIVE=/usr/spool/ftp/tmp/cad${RELEASE}.tar
@


10.11
log
@Added Acknowledgements file
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.10 94/09/21 03:59:49 mike Exp Locker: mike $	#
d433 3
a435 1
	KEY=notreally		# Encryption key
@


10.10
log
@Eliminated libmalloc
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.9 94/09/02 00:44:57 mike Exp Locker: mike $	#
d123 1
a123 1
TOP_FILES="Copyright* README Cakefile* Makefile \
@


10.9
log
@Added xmged
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.8 94/08/29 12:01:16 jra Exp Locker: mike $	#
a138 1
	libmalloc \
a244 1
	(cd ${DIRPRE}libmalloc${DIRSUF};  cake -k)
@


10.8
log
@Changed iges-g directory to "iges".
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.7 94/08/10 20:44:45 mike Exp Locker: jra $	#
d174 1
@


10.7
log
@Properly recorded the 4.2 release.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.6 92/10/27 22:37:51 mike Exp Locker: mike $	#
d160 1
a160 1
	iges-g \
@


10.6
log
@Added pixinfo.sh to the TOP_FILES list.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.5 92/10/27 22:37:21 mike Exp Locker: mike $	#
d32 3
a34 2
RELEASE=4.2;	RCS_REVISION=10;	REL_DATE=Today
#RELEASE=4.1;	RCS_REVISION=10;	REL_DATE=17-March-92
@


10.5
log
@Lee added the "canon" directory
@
text
@d17 1
a17 1
#  $Header: /n/wolf/m/cad/RCS/gen.sh,v 10.4 92/03/17 22:27:57 mike Exp Locker: butler $	#
d125 1
a125 1
		cakeinclude.sh newbindir.sh"
@


10.4
log
@Back to development version
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.3 92/03/17 20:22:00 mike Exp Locker: mike $	#
d174 1
@


10.3
log
@BRL-CAD Release 4.1 (via errata sheet)
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.2 91/10/12 07:21:01 mike Exp Locker: mike $	#
d27 1
a27 1
NFS=0
d32 2
a33 2
#RELEASE=4.2;	RCS_REVISION=10;	REL_DATE=Today
RELEASE=4.1;	RCS_REVISION=10;	REL_DATE=17-March-92
@


10.2
log
@The actual key
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 10.2 91/10/12 07:20:37 mike Exp $	#
d27 1
a27 1
NFS=1
d32 3
a34 2
#RELEASE=4.1;	RCS_REVISION=10;	REL_DATE=Today
RELEASE=4.0;	RCS_REVISION=10;	REL_DATE=12-Oct-91
d131 1
a131 1
CDIRS="cake cakeaux papers contributed patch"
d164 1
d186 1
a186 1
if test "${MACHINE}" != "4d"
d432 1
a432 1
	KEY=atlonglast		# Encryption key
@


10.1
log
@Release_4.0
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.36 91/10/04 01:16:52 butler Exp Locker: mike $	#
d27 1
a27 1
NFS=0
d430 1
a430 1
	KEY=alphabeta		# Encryption key
@


9.36
log
@A release the Convex has a chance with.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.35 91/09/23 03:56:42 mike Exp Locker: butler $	#
d32 3
a34 2
#RELEASE=3.32;	RCS_REVISION=9;		REL_DATE=Today
RELEASE=3.31;	RCS_REVISION=9;		REL_DATE=5-oct-91	# Beta+18
@


9.35
log
@Release 3.30
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.34 91/09/23 02:43:35 mike Exp $	#
d27 1
a27 1
NFS=1
d32 3
a34 2
#RELEASE=3.31;	RCS_REVISION=9;		REL_DATE=Today
RELEASE=3.30;	RCS_REVISION=9;		REL_DATE=22-Sept-91	# Beta+17
@


9.34
log
@Includes jove
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.33 91/09/23 02:43:08 butler Exp $	#
d32 2
a33 1
RELEASE=3.30;	RCS_REVISION=9;		REL_DATE=Today
@


9.33
log
@3.29
@
text
@d17 1
a17 1
#  $Header: /n/wolf/m/cad/RCS/gen.sh,v 9.32 91/09/06 01:16:41 butler Exp $	#
d168 1
@


9.32
log
@Yet Another Beta Release
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.31 91/09/03 15:48:12 butler Exp $	#
d27 1
a27 1
NFS=0
d32 3
a34 2
#RELEASE=3.29;	RCS_REVISION=9;		REL_DATE=Today
RELEASE=3.28;	RCS_REVISION=9;		REL_DATE=6-Aug-91	# Beta+15
@


9.31
log
@new revisions
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.30 91/08/30 02:38:02 mike Exp $	#
d32 3
a34 2
#RELEASE=3.27;	RCS_REVISION=9;		REL_DATE=Today
RELEASE=3.27;	RCS_REVISION=9;		REL_DATE=31-Aug-91	# Beta+14
d435 2
a436 1
	/usr/gnu/bin/tar -cvf - -X ${EXCLUDE} Copy* README [a-l]* zzzEND |\
d439 1
a439 1
	echo "${FTP_ARCHIVE}-a.Z created"
d441 1
a441 1
	/usr/gnu/bin/tar -cvf - -X ${EXCLUDE} Copy* README [m-z]* zzzEND |\
d444 1
a444 1
	echo "${FTP_ARCHIVE}-b.Z created"
d446 1
a446 1
	/usr/gnu/bin/tar cfv - Copy* README pix zzzEND |\
d449 1
a449 1
	echo "${FTP_ARCHIVE}-c.Z created"
d451 1
a451 2
	/usr/gnu/bin/tar cfv - Copy* README doc papers dmdfb \
	    zzzEND |\
d454 1
a454 1
	echo "${FTP_ARCHIVE}-d.Z created"
d459 1
a459 1
	echo "${FTP_ARCHIVE}-e.Z created"
d464 1
a464 1
	echo "${FTP_ARCHIVE}-f.Z created"
@


9.30
log
@Split FTP files from 3 to 6 files.
Changed encryption strategy for less security and 3X better compression.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.29 91/08/30 01:56:08 mike Exp $	#
d27 1
a27 1
NFS=1
d33 2
a34 1
RELEASE=3.26;	RCS_REVISION=9;		REL_DATE=25-Aug-91	# Beta+13
@


9.29
log
@More test releases by Butler
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.28 91/08/12 14:30:18 butler Exp $	#
d423 1
d432 3
a434 2
	/usr/gnu/bin/tar -cvf - -X ${EXCLUDE} * |\
		crypt alphabeta | compress > ${FTP_ARCHIVE}-a.Z
d438 2
a439 2
	/usr/gnu/bin/tar cfv - Copy* README doc pix zzzEND |\
		crypt alphabeta | compress > ${FTP_ARCHIVE}-b.Z
d443 2
a444 3
	/usr/gnu/bin/tar cfv - Copy* README papers dmdfb \
	    vfont contributed zzzEND |\
		crypt alphabeta | compress > ${FTP_ARCHIVE}-c.Z
d447 17
@


9.28
log
@Release 3.23
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.27 91/07/27 02:33:55 mike Exp $	#
d27 1
a27 1
NFS=0
d32 5
a36 2
#RELEASE=3.24;	RCS_REVISION=9;		REL_DATE=Today
RELEASE=3.23;	RCS_REVISION=9;		REL_DATE=12-Aug-91	# Beta+10
@


9.27
log
@Did Beta+9, Release 3.22.
Fixed typo in making the FTP archives.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.26 91/07/25 06:38:31 butler Exp $	#
d27 1
a27 1
NFS=1
d32 3
a34 2
#RELEASE=3.23;	RCS_REVISION=9;		REL_DATE=Today
RELEASE=3.22;	RCS_REVISION=9;		REL_DATE=26-July-91	# Beta+9
@


9.26
log
@Since release 3.20 was determined to be "not entirely successful" moments
after it was cut, we moved immediately on to release 3.21
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.25 91/07/24 01:40:07 butler Exp $	#
d32 3
a34 2
#RELEASE=3.20;	RCS_REVISION=9;		REL_DATE=Today
RELEASE=3.21;	RCS_REVISION=9;		REL_DATE=25-July-91	# Beta+8
d419 9
a427 8
	rm -f /tmp/cad-exclude
	echo 'papers/*' >> /tmp/cad-exclude
	echo 'vfont/*' >> /tmp/cad-exclude
	echo 'contributed/*' >> /tmp/cad-exclude
	echo 'dmdfb/*' >> /tmp/cad-exclude
	echo 'doc/*' >> /tmp/cad-exclud
	echo 'pix/*' >> /tmp/cad-exclude
	/usr/gnu/bin/tar -cvf - -X /tmp/cad-exclude * |\
d442 1
@


9.25
log
@accidentally skipped 3.18 and went to 3.19
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.24 91/07/23 20:25:35 butler Exp $	#
d33 3
a35 1
RELEASE=3.19;	RCS_REVISION=9;		REL_DATE=24-July-91	# Beta+6
@


9.24
log
@New version
Added "wc" rule for counting the number of lines of source
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.23 91/07/19 04:36:39 butler Exp $	#
d32 3
a34 2
#RELEASE=3.18;	RCS_REVISION=9;		REL_DATE=Today
RELEASE=3.17;	RCS_REVISION=9;		REL_DATE=23-July-91	# Beta+5
@


9.23
log
@3.16
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.22 91/07/19 01:58:27 mike Exp $	#
d32 3
a34 2
#RELEASE=3.17;	RCS_REVISION=9;		REL_DATE=Today
RELEASE=3.16;	RCS_REVISION=9;		REL_DATE=19-July-91	# Beta+4
d328 9
@


9.22
log
@Fixed bug in "rmdir" rule
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.21 91/07/18 14:00:10 mike Exp $	#
d32 3
a34 2
#RELEASE=3.16;	RCS_REVISION=9;		REL_DATE=Today
RELEASE=3.15;	RCS_REVISION=9;		REL_DATE=17-Jul-91	# Beta+3
@


9.21
log
@Changed necessary command from cakeinclude.sh to cakeinclude
It is a program now.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.20 91/07/18 03:07:55 butler Exp $	#
d324 1
a324 1
		rm -fr ${dir}${DIRSUF}
@


9.20
log
@revision 3.15
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.19 91/07/18 00:24:20 mike Exp $	#
d66 1
a66 1
NECESSARY_CMDS="cake cakesub machinetype.sh cakeinclude.sh ranlib5.sh"
@


9.19
log
@Broke FTP archive into 3 pieces, and placed directly into spool area
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.18 91/07/16 03:11:44 mike Exp $	#
d32 3
a34 2
#RELEASE=3.15;	RCS_REVISION=9;		REL_DATE=Today
RELEASE=3.14;	RCS_REVISION=9;		REL_DATE=15-July-91	# Beta+2
@


9.18
log
@Added FTP archives
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.17 91/07/10 01:02:02 mike Exp $	#
d402 1
d411 3
a413 3
		crypt alphabeta | compress > ${ARCHIVE}-a.Z
	chmod 444 ${ARCHIVE}-a.Z
	echo "${ARCHIVE}-a.Z created"
d415 10
a424 5
	/usr/gnu/bin/tar cfv - Copy* README papers dmdfb doc \
	    pix vfont contributed zzzEND |\
		crypt alphabeta | compress > ${ARCHIVE}-b.Z
	chmod 444 ${ARCHIVE}-b.Z
	echo "${ARCHIVE}-b.Z created"
@


9.17
log
@Moved whetstone into "don't compile" list, because it's FORTRAN
compilation often does not work these days.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.16 91/07/09 03:23:53 mike Exp $	#
d32 3
a34 2
#RELEASE=3.14;	RCS_REVISION=9;		REL_DATE=Today
RELEASE=3.13;	RCS_REVISION=9;		REL_DATE=9-Jul-91	# Beta+1
d400 19
@


9.16
log
@Preparations for the distribution
of beta software
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.15 91/07/03 03:46:17 mike Exp $	#
d32 3
a34 2
#RELEASE=3.13;	RCS_REVISION=9;		REL_DATE=Today
RELEASE=3.12;	RCS_REVISION=9;		REL_DATE=8-Jul-91	# Beta
d109 1
a109 1
ADIRS="h doc pix vfont awf brlman"
d111 1
a111 1
# Has no Cakefile, just copy it verbatim
d153 1
a153 1
	whetstone dhrystone"
@


9.15
log
@Trial release 3.11
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.14 91/07/03 01:42:11 mike Exp $	#
d32 3
a34 2
#RELEASE=3.12;	RCS_REVISION=9;		REL_DATE=Today
RELEASE=3.11;	RCS_REVISION=9;		REL_DATE=2-Jul-91	# alpha+1
d140 1
@


9.14
log
@libspl is now libnurb
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.13 91/07/02 07:47:10 mike Exp $	#
d32 2
a33 1
RELEASE=3.11;	RCS_REVISION=9;		REL_DATE=Today
@


9.13
log
@Fixed "arch" rule for SYSV "ls" command.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.12 91/07/02 05:42:33 mike Exp $	#
d227 1
a227 1
	(cd ${DIRPRE}libspl${DIRSUF};  cake -k)
@


9.12
log
@Added ls-bin, made "ls" rule print source directories
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.11 91/07/02 03:36:25 mike Exp $	#
d32 2
a33 2
#RELEASE=3.11;	RCS_REVISION=9;		REL_DATE=Today
RELEASE=3.10;	RCS_REVISION=9;		REL_DATE=1-Jul-91	# alpha
d384 3
a386 1
	# $4 will be file size in bytes, pad to 200K byte boundary for SGI
d388 1
a388 1
	PADBYTES=`echo "204800 $4 204800 %-p" | dc`
@


9.11
log
@Ready for the alpha test: Release 3.10
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.10 91/03/05 03:13:08 mike Exp $	#
d254 1
d256 7
@


9.10
log
@Reorganized compilation order, because LIBWDB needs LIBRT,
and the converters need LIBWDB.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.9 91/01/28 15:48:34 butler Exp $	#
d32 2
a33 1
RELEASE=3.10;	RCS_REVISION=9;		REL_DATE=Today
d106 1
a106 1
ADIRS="h doc pix"
a124 1
	libtig \
d129 1
a129 1
	libspl librt \
d137 1
d144 1
d147 2
d160 6
d275 1
a275 1
inst-man|inst-dist|print|typeset|nroff)
@


9.9
log
@Added signal processing stuff
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.8 91/01/04 02:31:55 mike Exp $	#
d111 2
a117 2
	conv \
	db \
d129 4
a132 1
	libspl librt rt \
a211 2
	(cd ${DIRPRE}conv${DIRSUF}; cake -k)
	(cd ${DIRPRE}db${DIRSUF}; cake -k)
d219 2
@


9.8
log
@Internal release 3.8 has been cut
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.7 91/01/03 23:17:05 mike Exp $	#
d32 2
a33 1
RELEASE=3.9;	RCS_REVISION=9;		REL_DATE=Today
d128 1
d139 1
@


9.7
log
@Getting ready for a trial release
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.6 90/12/05 20:08:03 mike Exp $	#
d32 2
a33 2
#RELEASE=3.9;	RCS_REVISION=9;		REL_DATE=Today
RELEASE=3.8;	RCS_REVISION=9;		REL_DATE=3-Jan-91	# internal
@


9.6
log
@converters now need libwdb and libplot3 as prerequisites
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.5 90/11/26 21:30:40 mike Exp $	#
d27 1
a27 1
NFS=0
d32 2
a33 1
RELEASE=3.8;	RCS_REVISION=9;		REL_DATE=Today
d100 1
a100 1
		machinetype.sh gen.sh setup.sh \
@


9.5
log
@Fixed bug in handling of test of HAS_TCP.
@
text
@d17 1
a17 1
#  $Header: /m/cad/RCS/gen.sh,v 9.4 90/11/26 21:28:02 mike Exp $	#
d112 2
a121 1
	libplot3 \
a122 1
	libwdb \
d203 2
a211 1
	(cd ${DIRPRE}libplot3${DIRSUF};  cake -k)
@


9.4
log
@Some extra directories
@
text
@d17 1
a17 1
#  $Header: gen.sh,v 9.3 89/06/19 23:38:44 mike Locked $	#
d141 1
a141 1
if test HAS_TCP = 0
d149 1
a149 1
if test x$1 = x
d155 1
a155 1
if test x$NFS = x1
d176 1
a176 1
case ${TARGET} in
@


9.3
log
@Release 3.7
@
text
@d17 1
a17 1
#  $Header: gen.sh,v 9.2 89/05/25 00:48:51 mike Locked $	#
d32 2
a33 1
RELEASE=3.7;	RCS_REVISION=9;		REL_DATE=19-June-89
d117 1
d130 1
d137 1
d145 1
@


9.2
log
@Release 3.6 contains a fix to libpkg, for the Kermit procurement.
@
text
@d17 1
a17 1
#  $Header: gen.sh,v 9.1 89/05/19 05:43:34 mike Locked $	#
d32 2
a33 1
RELEASE=3.6;	RCS_REVISION=9;		REL_DATE=25-May-89
@


9.1
log
@Release_3.5
@
text
@d17 1
a17 1
#  $Header: gen.sh,v 8.5 89/05/19 05:40:40 phil Exp $		#
d32 2
a33 1
RELEASE=3.5;	RCS_REVISION=9;		REL_DATE=23-May-89
@


8.5
log
@Added "ls" target, some commenting changes.
@
text
@d17 1
a17 1
#  $Header: gen.sh,v 8.4 88/10/06 07:37:22 mike Locked $		#
@


8.4
log
@Really 3.0
@
text
@d17 1
a17 1
#  $Header: gen.sh,v 8.3 88/10/06 07:11:36 mike Locked $		#
d26 1
a26 1
# Set to 0 for non-NFS environment (default)
d32 6
a37 2
#RELEASE=3.1;	RCS_REVISION=8;		REL_DATE=dd-mmm-yy
RELEASE=3.0;	RCS_REVISION=8;		REL_DATE=06-Oct-88
d55 1
a55 1
NECESSARY_CMDS="cake cakesub machinetype.sh cakeinclude.sh"
d95 1
a95 1
		cray.sh cray-ar.sh \
d103 1
a103 1
CDIRS="cake cakeaux papers contributed"
d178 2
a179 1
	echo '	install		install all products'
d216 1
d229 6
d315 1
a315 1
	if test `grep "#define NFS" Cakefile.defs|wc -l` -eq 0
@


8.3
log
@Small improvements
really Release 3.0 now
@
text
@d17 1
a17 1
#  $Header: gen.sh,v 8.2 88/10/05 01:27:22 mike Locked $		#
d224 1
a224 1
install|uninstall)
@


8.2
log
@Normal BRL settings
@
text
@d17 1
a17 1
#  $Header: gen.sh,v 8.1 88/10/05 00:23:19 mike Locked $		#
d27 1
a27 1
NFS=1
d32 2
a33 2
RELEASE=3.1;	RCS_REVISION=8;		REL_DATE=dd-mmm-yy
#RELEASE=3.0;	RCS_REVISION=8;		REL_DATE=05-Oct-88
d90 1
a90 1
TOP_FILES="Copyright* README Cakefile* \
d167 17
d351 1
a351 1
	echo "$0: No code to make ${TARGET}"
@


8.1
log
@Release_3.0
@
text
@d17 1
a17 1
#  $Header: gen.sh,v 1.7 88/10/04 20:02:16 mike Locked $		#
d27 1
a27 1
NFS=0
d32 2
a33 1
RELEASE=3.0;	RCS_REVISION=8;		REL_DATE=05-Oct-88
@


1.7
log
@Bench directory has to be compiled now.
@
text
@d17 1
a17 1
#  $Header: gen.sh,v 1.6 88/10/01 07:59:18 mike Locked $		#
d27 1
a27 1
NFS=1
d32 8
a39 7
#RELEASE=2.10;	RCS_REVISION=8;		REL_DATE=xx-Sep-88	# internal
RELEASE=2.9;	RCS_REVISION=8;		REL_DATE=31-Sep-88	# internal
#RELEASE=2.8;	RCS_REVISION=8;		REL_DATE=21-Sep-88	# internal
#RELEASE=2.7;	RCS_REVISION=8;		REL_DATE=12-Sep-88	# internal
#RELEASE=2.6;	RCS_REVISION=8;		REL_DATE=09-Sep-88	# internal
#RELEASE=2.5;	RCS_REVISION=8;		REL_DATE=08-Sep-88	# internal
#RELEASE=2.4;	RCS_REVISION=8;		REL_DATE=10-Jun-88	# internal
d265 2
a266 1
	CI_ARGS='-f -r${RCS_REVISION} -sRel${RELEASE} -mRelease_${RELEASE}'
@


1.6
log
@Need machine-specific benchmark dirs now.
@
text
@d17 1
a17 1
#  $Header: gen.sh,v 1.5 88/09/21 07:05:16 mike Locked $		#
d166 3
a168 1
	sh $0 relink
d171 1
d237 1
a237 1
	if test ${HAS_SYMLINKS} = 1
@


1.5
log
@2.8 trial version
@
text
@d17 1
a17 1
#  $Header: gen.sh,v 1.4 88/09/21 01:19:03 mike Locked $		#
d32 3
a34 1
RELEASE=2.8;	RCS_REVISION=8;		REL_DATE=21-Sep-88	# internal
d94 1
a94 1
ADIRS="h doc pix bench"
d100 2
a101 1
BDIRS="libsysv \
@


1.4
log
@All kinds of general cleanups.
Added NFS flag.
@
text
@d17 1
a17 1
#  $Header: gen.sh,v 1.3 88/08/30 22:48:33 mike Locked $		#
d26 1
a26 1
# Set to 0 for non-NFS environment
d32 1
a32 1
RELEASE=2.8;	RCS_REVISION=8;		REL_DATE=20-Sep-88	# internal
d306 1
a306 1
	echo "End of BRL-CAD Release $RELEASE tape, `date`" > ${DISTDIR}/zzzzEND
d317 1
a317 1
	then 
@


1.3
log
@Added check of search path for CAKE program,
other automatic stuff
@
text
@d17 1
a17 1
#  $Header: gen.sh,v 1.2 88/05/06 05:57:02 mike Locked $		#
d26 16
d51 1
a51 1
				s/:\\.://g
a81 9
# Label number for this CAD Release,
# RCS main Revision number, and date.
RELEASE=2.5;	RCS_REVISION=8;		REL_DATE=dd-mmm-yy
#RELEASE=2.4;	RCS_REVISION=8;		REL_DATE=10-Jun-88	# internal
#RELEASE=2.3;	RCS_REVISION=7;		REL_DATE=02-Nov-87
#RELEASE=2.0;	RCS_REVISION=6;		REL_DATE=11-Jul-87
#RELEASE=1.24;	RCS_REVISION=5;		REL_DATE=11-Jun-87
#RELEASE=1.20;	RCS_REVISION=1;		REL_DATE=12-Feb-87

d86 4
a89 2
TOP_FILES="README Cakefile* \
		cray.sh cray-ar.sh mtype.sh"
d91 7
a97 3
# No compilation or tools needed, not machine specific
ADIRS="h doc papers cake cakeaux pix bench contributed"
# Machine specific directories
d111 1
a112 1
	liburt \
d114 1
d129 1
d138 11
d151 1
d155 1
d164 4
a167 4
	(cd libsysv.${MACHINE};  cake -k)
	(cd libmalloc.${MACHINE};  cake -k)
	(cd conv.${MACHINE}; cake -k)
	(cd db.${MACHINE}; cake -k)
d170 1
a170 1
		(cd libpkg.${MACHINE};  cake -k)  # needed for IF_REMOTE
d172 5
a176 5
	(cd libfb.${MACHINE};  cake -k)
	(cd libplot3.${MACHINE};  cake -k)
	(cd libspl.${MACHINE};  cake -k)
	(cd librt.${MACHINE};  cake -k)
	(cd rt.${MACHINE};  cake -k)
d188 2
a189 2
		echo -------------------------------- ${dir}.${MACHINE};
		( cd ${dir}.${MACHINE}; cake -k )
d194 2
a195 2
		echo -------------------------------- ${dir}.${MACHINE};
		( cd ${dir}.${MACHINE}; cake -k ${TARGET} )
d205 2
a206 2
		echo -------------------------------- ${dir}.${MACHINE};
		( cd ${dir}.${MACHINE}; cake -k ${TARGET} )
d226 6
a231 1
	if test ${UNIXTYPE} = BSD
d236 1
a236 1
		if test -d ${dir}.${MACHINE}
d238 1
a238 1
			rm -f ${dir}.${MACHINE}/Cakefile
d240 1
a240 1
			mkdir ${dir}.${MACHINE}
d242 1
a242 1
		(cd ${dir}.${MACHINE}; ln ${lnarg} ../${dir}/Cakefile .)
d248 1
a248 1
		rm -fr ${dir}.${MACHINE}
d277 28
a304 1
	cp Copyright* README Cakefile* *.sh ${DISTDIR}
d306 1
d310 1
a310 1
# Use as step 3 of making a distribution -- write the archive
d321 1
@


1.2
log
@Improved version, still for MAKE
@
text
@d17 1
a17 1
#  $Header: gen.sh,v 1.1 88/03/07 00:10:15 mike Locked $		#
d21 2
d26 36
a61 4
#  Local machine types to be dealt with on this machine.
#  Should just be string from mtype.sh unless this is an NFS or RFS server
MACHINES="sel"
MTYPE=`sh mtype.sh`
d63 2
a64 2
# Label number for this CAD Release
RELEASE=2.4
d66 8
a73 2
# RCS main Revision number
RCS_REVISION=8
a74 5
# Release 1.20 was Revision 1
# Release 1.24 was Revision 5
# Release 2.0 was Revision 6
# Release 2.3 was Revision 7

d79 1
a79 1
TOP_FILES="README Makefile Makefile.defs Makefile.rules \
d82 3
a84 8
# NOTE:  The following directories contain code which may not compile
# on all systems.  In that case, they should be removed from $DIRS:
#
#	libpkg		BSD or SGI networking, remove if SYSV
#	rfbd		BSD or SGI networking, remove if SYSV
#
ADIRS="h doc bench"	# No compilation or tools needed
PDIRS="pix"		# Do after BDIRS compilations done
d97 1
d99 1
d108 1
d111 7
d123 6
a128 1
echo; echo "Current Release = ${RELEASE}.  Making ${TARGET}"
d130 2
a134 1
	sh $0 depend
d136 13
a148 11
	cd libsysv.${MTYPE}; make depend; make -k
	cd libmalloc.${MTYPE}; make depend; make -k
	cd conv.${MTYPE}; make -k
	cd db.${MTYPE}; make -k
	cd pix.${MTYPE}; make -k
	cd libpkg.${MTYPE}; make depend; make -k	  # needed for IF_REMOTE, rm if SYSV
	cd libfb.${MTYPE}; make depend; make -k
	cd libplot3.${MTYPE}; make depend; make -k
	cd libspl.${MTYPE}; make depend; make -k
	cd librt.${MTYPE}; make depend; make -k
	cd rt.${MTYPE}; make depend; make -k
d158 1
a158 1
all|clean|noprod|clobber|lint)
d160 2
a161 12
		echo ---------- ${dir}.${MTYPE};
		( cd ${dir}.${MTYPE}; make -k \
			-f ../Makefile.${MTYPE} \
			-f Makefile.loc \
			-f ../Makefile.rules ${TARGET} )
	done
	for dir in ${PDIRS}; do
		echo ---------- ${dir};
		(cd ${dir}; make -k \
			-f ../Makefile.${MTYPE} \
			-f Makefile.loc \
			-f ../Makefile.rules ${TARGET} )
d164 6
d172 3
a174 6
	for dir in ${ADIRS} ${PDIRS}; do
		echo ---------- ${dir};
		(cd ${dir}; make -k \
			-f ../Makefile.${MTYPE} \
			-f Makefile.loc \
			-f ../Makefile.rules ${TARGET} )
d177 2
a178 5
		echo ---------- ${dir}.${MTYPE};
		(cd ${dir}.${MTYPE}; make -k \
			-f ../Makefile.${MTYPE} \
			-f Makefile.loc \
			-f ../Makefile.rules ${TARGET} )
d182 1
a182 2
#  depend	Re-build Makefile.loc dependencies (WILL need "make relink")
#  inst-man
d184 5
a188 8
depend|inst-man|inst-dist|print|typeset)
	for dir in ${ADIRS} ${PDIRS} ${BDIRS}; do
		echo ---------- ${dir};
		(cd $dir; make -k \
			-f ../Makefile.${MTYPE} \
			-f Makefile.loc \
			-f ../Makefile.rules ${TARGET} )

d191 11
a201 1
mkdir)
d203 7
a209 5
		for mach in ${MACHINES}; do
			mkdir ${dir}.${mach}
			ln Makefile-subd ${dir}.${mach}/Makefile
			ln ${dir}/Makefile.loc ${dir}.${mach}
		done
a211 9
relink)
	for dir in ${BDIRS}; do
		for mach in ${MACHINES}; do
			rm -f ${dir}.${mach}/Makefile ${dir}.${mach}/Makefile.loc
			ln Makefile-subd ${dir}.${mach}/Makefile
			ln ${dir}/Makefile.loc ${dir}.${mach}
		done
	done;;

d215 1
a215 3
		for mach in ${MACHINES}; do
			rm -r ${dir}.${mach}
		done
d225 1
d227 6
a232 6
	ci -u -f -r${RCS_REVISION} -sRel "-MRelease ${RELEASE}" ${TOP_FILES}
	for dir in ${ADIRS} ${BDIRS} ${PDIRS}; do
		echo ---------- $dir;
		(cd $dir; rm -f Makefile.bak; \
		rcs -l *.[cshf1-9] Makefile*; \
		ci -u -f -r${RCS_REVISION} -sRel "-MRelease ${RELEASE}" *.[cshf1-9] Makefile* )
a234 1
# Do a "make install" as step 1 of making a distribution.
d236 7
a242 1
# Use "make dist" as step 2 of making a distribution.
d244 2
a245 2
	cp Copyright* README Makefile* cray.sh cray-ar.sh MTYPE.sh ${DISTDIR}
	(cd bench; make clobber; make install)
d253 6
a258 5
	set -- `ls -l ${ARCHIVE}` ; \
		PADBYTES=`echo "204800 $4 204800 %-p" | dc` ; \
		if test ${PADBYTES} -lt 204800 ; then \
			gencolor -r${PADBYTES} 0 >> ${ARCHIVE} ; \
		fi
@


1.1
log
@Initial revision
@
text
@d17 1
a17 1
#  $Header: Makefile,v 7.2 87/12/11 17:22:11 mike Exp $		#
d88 2
a105 1
#  depend	Re-build Makefile.loc dependencies
d110 1
a110 1
all|depend|clean|noprod|clobber|lint)
d113 4
a116 1
		(cd ${dir}.${MTYPE}; make -k ${TARGET})
d120 4
a123 1
		(cd ${dir}; make -k ${TARGET})
d130 4
a133 1
		(cd ${dir}; make -k ${TARGET})
d137 4
a140 1
		(cd ${dir}.${MTYPE}; make -k ${TARGET})
d144 1
d147 1
a147 1
inst-man|inst-dist|print|typeset)
d150 5
a154 1
		(cd $dir; make -k ${TARGET})
d161 2
d166 9
d181 5
@
