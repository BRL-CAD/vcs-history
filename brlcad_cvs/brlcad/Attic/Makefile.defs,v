head	7.8;
access;
symbols
	ansi-20040405-merged:7.7
	premerge-autoconf:7.7
	ansi-20040316-freeze:7.7
	postmerge-20040315-windows:7.7
	premerge-20040315-windows:7.7
	windows-20040315-freeze:1.1.1.2
	autoconf-20031203:7.7
	autoconf-20031202:7.7
	phong-branch:7.7.0.10
	photonmap-branch:7.7.0.8
	rel-6-1-DP:7.7
	windows-branch:1.1.1
	rel-6-0-2:7.7
	ansi-branch:7.7.0.6
	rel-6-0-1-branch:7.7.0.4
	hartley-6-0-post:7.7
	hartley-6-0-pre:7.7
	rel-6-0-1:7.7
	rel-6-0:7.7
	rel-5-4:7.7
	offsite-5-3-pre:7.7
	rel-5-3:7.7
	rel-5-2:7.7
	rel-5-1-branch:7.7.0.2
	rel-5-1:7.7
	rel-5-0:7.7
	rel-5-0-beta:7.7
	rel-4-5:7.6
	ctj-4-5-post:7.6
	ctj-4-5-pre:7.6
	rel-4-4:7.6
	rel-4-0:7.6
	rel-3-5:7.6
	rel-3-0:7.6
	rel-2-3:7.1
	rel-2-0:6.1
	rel-1-24:5.1
	rel-1-20:1.1
	AUTOCONF:7.7.0.12;
locks; strict;


7.8
date	2004.03.18.18.15.13;	author erikg;	state dead;
branches;
next	7.7;

7.7
date	99.05.28.01.29.42;	author mike;	state Exp;
branches
	7.7.12.1;
next	7.6;

7.6
date	88.09.17.04.11.03;	author mike;	state Exp;
branches;
next	7.5;

7.5
date	88.01.27.01.11.48;	author mike;	state Exp;
branches;
next	7.4;

7.4
date	88.01.15.14.47.10;	author stay;	state Exp;
branches;
next	7.3;

7.3
date	88.01.15.11.14.07;	author stay;	state Exp;
branches;
next	7.2;

7.2
date	87.12.10.16.38.10;	author mike;	state Exp;
branches;
next	7.1;

7.1
date	87.11.02.23.22.06;	author mike;	state Rel;
branches;
next	6.2;

6.2
date	87.11.02.22.13.13;	author mike;	state Exp;
branches;
next	6.1;

6.1
date	87.07.11.07.47.54;	author mike;	state Rel;
branches;
next	5.2;

5.2
date	87.06.25.00.55.39;	author mike;	state Exp;
branches;
next	5.1;

5.1
date	87.06.24.21.46.49;	author mike;	state Rel;
branches;
next	1.2;

1.2
date	87.06.24.21.24.46;	author mike;	state Exp;
branches;
next	1.1;

1.1
date	87.02.12.21.49.43;	author mike;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.09.26.04.01.00;	author morrison;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2004.03.11.23.40.23;	author morrison;	state Exp;
branches;
next	;

7.7.12.1
date	2004.03.18.18.08.49;	author erikg;	state dead;
branches;
next	;


desc
@Definitions for 2nd level CAD Makefiles
@


7.8
log
@merge of AUTOCONF branch in to HEAD
@
text
@#################################################################
#								#
#			Makefile.defs				#
#								#
#  This Makefile contains definitions common to most of the	#
#  software packages contained in this distribution.		#
#  Combined with Makefile.rules and a directory-specific	#
#  Makefile.loc to create full MAKE input.			#
#								#
#  Each source directory contains a Makefile with these		#
#  contents:							#
#								#
#everything:							#
#	make $(MFLAGS) -$(MAKEFLAGS) \				#
#		-f ../Makefile.defs -f Makefile.loc \		#
#		-f ../Makefile.rules				#
#.DEFAULT:							#
#	make $(MFLAGS) -$(MAKEFLAGS) \				#
#		-f ../Makefile.defs -f Makefile.loc \		#
#		-f ../Makefile.rules $@@				#
#								#
#  so that the local rules and definitions for each directory	#
#  are combined with the common rules and definitions.		#
#								#
#  Author -							#
#	Michael John Muuss					#
#								#
#  Source -							#
#	SECAD/VLD Computing Consortium, Bldg 394		#
#	The U. S. Army Ballistic Research Laboratory		#
#	Aberdeen Proving Ground, Maryland  21005		#
#								#
#  Acknowledgements -						#
#	This Makefile draws heavily on Doug Gwyn's		#
#	VLD Standard Makefile, and Doug Kingston's		#
#	MMDF Global Makefile.					#
#								#
#  $Header: /cvs/brlcad/Makefile.defs,v 7.7 1999/05/28 01:29:42 mike Exp $		#
#								#
#################################################################

#################################################################
#								#
#  Operating System Definition and Compiler Flags		#
#								#
#  Either "BSD" or "SYSV" *MUST* be defined			#
#								#
#  Oddball compiler/loader directives should also go here	#
#  On parallel machines, if h/machine.h does not define		#
#  the PARALLEL flag, it should be done here.			#
#								#
#################################################################

#VAX#SYSTEM	= -DBSD
#SYSV#SYSTEM	= -DSYSV
#VLD#SYSTEM	= -DSYSV -DVLDSYSV
# Silicon Graphics, -Zf if Weitek FP chip installed
#SGI#SYSTEM	= -DSYSV -Zf
#SGI#SYSTEM	= -DSYSV
#ALLIANT#SYSTEM	= -DBSD -ce
#GOULD#SYSTEM	= -DBSD -m 8
#XMP#SYSTEM	= -DSYSV -DPARALLEL
#XMP2.1#SYSTEM	= -DSYSV -DPARALLEL -holevel_0
#CRAY2#SYSTEM	= -DSYSV -DPARALLEL -Dcray
# Sun3, select correct floating point flag, or -fswitch if unsure (slower)
#SUN3#SYSTEM	= -DBSD -f68881
#SUN3#SYSTEM	= -DBSD -ffpa
#SUN3#SYSTEM	= -DBSD -fswitch
#PYRAMID#SYSTEM	= -DBSD -Dvoid=int
#ULTRIX1#SYSTEM	= -DBSD -Dvoid=int

#################################################################
#								#
#  System-Version information, for special handling within one	#
#  type of $SYSTEM.						#
#								#
#  Currently meaningful settings are:				#
#								#
#	SGI34	SGI release 3.4 and below, with EXCELAN TCP.	#
#	SGI35	SGI release 3.5 and above, with real TCP.	#
#	UNICOS20	Cray UNICOS 2.0, with TCP		#
#	SUN3		SUN UNIX version 3.2 or above		#
#								#
#################################################################

#SGI#SYSVERS	= SGI34
#SGI#SYSVERS	= SGI35
#4D#SYSVERS	= 4D32
#XMP#SYSVERS	= UNICOS20
#CRAY2#SYSVERS	= UNICOS20
#SUN#SYSVERS	= SUN3

#################################################################
#								#
#  Definitions specific to one portion of the CAD distribution,	#
#  but collected here for ease of configuration			#
#								#
#################################################################

#################################################################
#								#
#		Configuration for libpkg			#
#								#
#################################################################

#SGI34#LIBPKG_CONFIG	= -I/usr/include/EXOS -DSGI_EXCELAN
#SGI35#LIBPKG_CONFIG	= -I/usr/include/bsd -DBSD
#4D32#LIBPKG_CONFIG	= -I/usr/include/bsd -DBSD
#XMP#LIBPKG_CONFIG	= -I/usr/win-include -DBSD -DSHORT_IDENT -DCRAY
#CRAY2#LIBPKG_CONFIG	= -I/usr/win-include -DBSD -DSHORT_IDENT -DCRAY

#################################################################
#								#
#		Configuration for remrt				#
#								#
#################################################################

#SGI34#REMRT_CONFIG	= -I/usr/include/EXOS -DSGI_EXCELAN
#SGI35#REMRT_CONFIG	= -I/usr/include/bsd -DBSD
#4D32#REMRT_CONFIG	= -I/usr/include/bsd -DBSD
#XMP#REMRT_CONFIG	= -I/usr/win-include -DBSD -DSHORT_IDENT -DCRAY
#CRAY2#REMRT_CONFIG	= -I/usr/win-include -DBSD -DSHORT_IDENT -DCRAY

#################################################################
#								#
#		Configuration for rfbd				#
#								#
#################################################################

#SGI35#RFBD_CONFIG	= -I/usr/include/bsd -DBSD
#4D32#RFBD_CONFIG	= -I/usr/include/bsd -DBSD

#################################################################
#								#
#		Configuration for libfb				#
#								#
#  Specify all OPTIONAL framebuffer interfaces to attach.	#
#  Select from:							#
#	if_remote	Network access to remote display	#
#	if_adage	Adage RDS-3000 ("Ikonas")		#
#	if_sgi		SGI IRIS display			#
#	if_ptty		AT&T 5620 w/special Moss layer		#
#	if_sun		SUNView interface			#
#	if_ug		Ultra Graphics device			#
#	if_rat		Raster Technology One/80 (24-bit RGB)	#
#	if_4d		SGI 4D/60T "clover" workstation
#								#
#  Edit all three LIBFB_* lines below similarly.		#
#  NOTES:							#
#  1)  When TCP exists and if_remote is desired, set		#
#	LIBFB_OBJS = if_remote.o pkg.o				#
#	to gain access to the PKG routines.			#
#								#
#  2)  For SGI release 3.4 and below, but not 3.5 and above:	#
#	LIBFB_OBJS = if_remote.o ../libpkg/pkg.o sgiselect.o	#
#								#
#  3)  For SGIs which have MC 68010 CPUs (not Turbos or		#
#	30xx machines), be certain to uncomment -DMC_68010,	#
#	because the default is a 68020				#
#								#
LIBFB_CFILES	= if_remote.c \
		  if_ptty.c
#VAX#		  if_adage.c
#SGI#		  if_sgi.c
#SUN#		  if_sun.c
#4D32#		  if_4d.c
LIBFB_OBJS	= if_remote.o pkg.o \
		  if_ptty.o
#VAX#		  if_adage.o
#SGI35#		  if_sgi.o
#SGI34#		  if_sgi.o sgiselect.o
#SUN#		  if_sun.o
#4D32#		  if_4d.o
LIBFB_CONFIG	= -DIF_REMOTE \
		  -DIF_PTTY
#VAX#		  -DIF_ADAGE
#SGI#		  -DIF_SGI	# -DMC_68010
#SUN#		  -DIF_SUN
#4D32#		  -DIF_4D
#USNA#		  -DIF_ADAGE -DGM256
#								#
#################################################################

#################################################################
#								#
#		Configuration for librt				#
#								#
# Select one of:						#
#	timer42		4.2 BSD, 4.3 BSD (Berkeley UNIX)	#
#	timerunix	Generic UNIX, System III, V, etc.	#
#	timer52brl	For BRL's System 5-under-4.n BSD	#
#	timerhep	Denelcor HEP				#
#	timercray	Cray-X/MP UNICOS			#
LIBRT_TIMER	= timer42
#SYSV#LIBRT_TIMER	= timerunix
#XMP#LIBRT_TIMER	= timercray
#								#
#################################################################

#################################################################
#								#
#		Configuration for RT				#
#								#
#	Mostly useful for specification of multi-processing	#
#	versions of libc, etc.					#
#								#
#XMP#RT_CONFIG	= -L/lib/multi -lu
#CRAY2#RT_CONFIG	= -lmt
#4D32#RT_CONFIG	= 	-lbsd
#								#
#################################################################

#################################################################
#								#
#		Configuration for mged				#
#								#
# If you wish MGED usage logging, add				#
#	-DLOGFILE=/file/name to MGED_CONFIG			#
#								#
# At present, MGED operates on these types of			#
# display hardware by default:					#
#	dm-plot		any UNIX-plot filter			#
#	dm-tek		Tektronix 4014 and family		#
#	dm-tek4109	Tektronix 4109				#
# and also supports these optional display devices:		#
#	dm-vg		Vector General 3300			#
#	dm-mg		Megatek 7250				#
#	dm-ir		SGI IRIS 2400,3030  (uses lib -lgl2)	#
#	dm-sun		SUN 3.2 Pixwin				#
#	dm-rat		Raster Tech One/180,380			#
#	dm-rat80	Raster Tech One/80			#
#	dm-ps		E&S Picture System 300			#
#	dm-4d		Silicon Graphics 4D/60T
#	dm-mer		Megatek Merlin 9200	[ Marginal ]	#
#	dm-sab		Saber w/GOPS		[ Marginal ]	#
#								#
#  Specify all OPTIONAL display managers to attach.		#
#								#
#VAX#MGED_CFILES	= dm-mg.c dm-vg.c
#VAX#MGED_OBJS		= dm-mg.o dm-vg.o
#VAX#MGED_CONFIG	= -DDM_MG -DDM_VG
#VAX#MGED_LIBES		=
#
#4D32#MGED_CFILES	= dm-4d.c
#4D32#MGED_OBJS		= dm-4d.o
#4D32#MGED_CONFIG	= -G 64 -DDM_4D
#4D32#MGED_LIBES	= -lbsd -lgl
#
#SGI#MGED_CFILES	= dm-ir.c
#SGI#MGED_OBJS		= dm-ir.o
#SGI#MGED_CONFIG	= -DDM_IR	# -DMC_68010
#SGIXNS#MGED_CONFIG	= -DDM_IR -DNONBLOCK	# -DMC_68010
#SGI35#MGED_LIBES	= -lbsd -lgl2
#SGI34#MGED_LIBES	= ../libfb/sgiselect.o -lgl2
#								#
#SUN#MGED_CFILES	= dm-sun.c
#SUN#MGED_OBJS	= dm-sun.o
#SUN#MGED_CONFIG	= -DDM_SUNPW
#SUN#MGED_LIBES	= -lsuntool -lsunwindow -lpixrect
#								#
#  Pick the right script for generating the version string:	#
#  Depends on differing behaviors of "echo" command		#
#								#
MGED_VERS	= newvers.sh
#SYSV#MGED_VERS	= newvers5.sh
#VLD#MGED_VERS	= newversVLD.sh
#								#
#################################################################

#################################################################
#								#
#  Paths for programs, libraries, etc				#
#  Defined here to provide "optimal managerial flexibility"	#
#								#
#  Note:  Don't add comments after a definition, 		#
#	the extra white space can ruin some of the expansions.	#
#								#
#################################################################

CC		= /bin/cc
#4D32#CC	= /usr/bin/cc
#VLD#CC		= /usr/5bin/cc

SHELL		= /bin/sh

MAKE		= /bin/make

# Makefiles to print
MAKEFILE	= ../Makefile.defs ./Makefile.loc ../Makefile.rules ./Makefile

# Program to get name of current system
GETHOST		= hostname
#SYSV#GETHOST	= uname -n
#4D32#GETHOST	= hostname

# If BSD42, use ranlib on archives.  For SYSV, set to "echo" (except SGI).
RANLIB		= ranlib
#SYSV#RANLIB	= echo
#VLD#RANLIB	= ranlib
#SGI#RANLIB	= ranlib
#4D32#RANLIB	= ar ts

# Place to install binary executable
BINDIR		= /usr/brlcad/bin
#VLD#BINDIR	= /vld/bin

# Place to install (and find) libraries
LIBDIR		= /usr/brlcad/lib
#VLD#LIBDIR	= /vld/lib

# Place to install daemons and other non-user-command type programs
ETCDIR		= /usr/brlcad/etc

# Suffix for archives.  Won't change for most UNIX machines, but...
ARCH_SUF	= a
#XMP#ARCH_SUF	= o

# For utilities that wish to USE our libraries, here are the popular ones:
LIBFB		= ../libfb.'`sh ../mtype.sh`'/libfb.${ARCH_SUF}
LIBRT		= ../librt.'`sh ../mtype.sh`'/librt.${ARCH_SUF}
LIBPLOT		= ../libplot3.'`sh ../mtype.sh`'/libplot3.${ARCH_SUF}
LIBRLE		= ../libutahrle.'`sh ../mtype.sh`'/libutahrle.${ARCH_SUF}
LIBPKG		= ../libpkg.'`sh ../mtype.sh`'/libpkg.${ARCH_SUF}
LIBWDB		= ../libwdb.'`sh ../mtype.sh`'/libwdb.${ARCH_SUF}
LIBSPL		= ../libspl.'`sh ../mtype.sh`'/libspl.${ARCH_SUF}
LIBTERMLIB	= -ltermlib
#XMP#LIBTERMLIB	= -lcurses
LIBTERMIO	= ../libtermio.'`sh ../mtype.sh`'/libtermio.${ARCH_SUF}
LIBCURSOR	= ../libcursor.'`sh ../mtype.sh`'/libcursor.${ARCH_SUF}
LIBSYSV		= ../libsysv.'`sh ../mtype.sh`'/libsysv.${ARCH_SUF}
#SYSV#LIBSYSV	=

# For strictly serial machines, the Princeton malloc() in libmalloc
# uses address space and physical memory more efficiently than the
# Berkeley/CalTech malloc(), but with the same performance advantage.
# It works well on VAXen and Goulds and SGIs.  Sadly, it does not work
# on the SUNs.
# For parallel machines, the vendor's malloc() typically needs to be
# used, to handle parallel stack frame expansion, etc.  This is
# significant on the Cray and HEP, and perhaps others.
LIBMALLOC	= ../libmalloc/libmalloc.${ARCH_SUF}
#SUN#LIBMALLOC	=	# Forced to use vendor malloc
#XMP#LIBMALLOC	=	# Forced to use vendor malloc
#CRAY2#LIBMALLOC	=	# Forced to use vendor malloc

# Directory within CAD Package for header files
INCDIR		= ../h

# Directory where users can find installed copies of header files.
INCLUDE_DIR	= /usr/include/brlcad
#VLD#INCLUDE_DIR	= /vld/include

# Directory for Manual pages, when ${MANSECTION} appended
MANDIR		= /usr/man/man
#SYSV#MANDIR	= /usr/man/u_man/man
#VLD#MANDIR	= /usr/5lib/man/local/man

# Permissions for files to be installed
BINPERM		= 775
MANPERM		= 664
LIBPERM		= 664
DIRPERM		= 775

# Compiler Flags
PROFILE		=
CFLAGS		= -O ${PROFILE} -I${INCDIR} ${SYSTEM} ${CONFIGDEFS}
#4D#CFLAGS	= -O2 ${PROFILE} -I${INCDIR} ${SYSTEM} ${CONFIGDEFS}

# Loader Flags.  Note that ${CC} is used to invoke the loader
LDFLAGS 	= ${SYSTEM} ${PROFILE}
#4D#LDFLAGS 	= -O2 ${SYSTEM} ${PROFILE}

# Lint Flags
LINT		= lint
LFLAGS		= -hbvxac ${SYSTEM} ${CONFIGDEFS}
#SYSV#LFLAGS	= ${SYSTEM} ${CONFIGDEFS}

# Name of the object module archiver, for use with the loader.
AR		= ar
#XMP#AR	= ../cray-ar.sh

# Regular libraries.  Everybody gets the math library;  most need it.
LIBES		= -lm

# Lint libraries
LLIBES		= -lm

# Program to install executables
INS		= cp

# Command string to typeset manual pages
# Usage is:   ${TYPESET_MAN1} *.${MANSECTION} ${TYPESET_MAN2}
#
TYPESET_MAN1	= tbl /usr/lib/tmac/tmac.an
TYPESET_MAN2	= | /usr/5lib/troff -Ti300 | /usr/5bin/dimp -t | \
		    qpr -q im231
#TYPESET_MAN1	= tbl /usr/lib/tmac/tmac.an 
#TYPESET_MAN2	= | /usr/5lib/troff -Ti10 | /usr/5bin/di10 -t | \
		    qpr -q im328-raw
#TYPESET_MAN1	= troff -man
#TYPESET_MAN2	= 

#################################################################
#								#
#  Definition of master source machine, and master distribution	#
#  directory.  Please don't change these values.		#
#  When the current host is == MASTERHOST, the "make install"	#
#  rules will also handle the distribution source management.	#
#  Even if you have lots of disk space, you don't want that	#
#  to happen.							#
#								#
#################################################################
MASTERHOST	= brl-vgr
DISTRIBUTION	= /m/dist

#################################################################
#								#
#  Variables that will be defined in xxx/Makefile.loc		#
#								#
#################################################################

# Full names of final products
PRODUCTS	= product

# Names of local headers that contribute to product
HEADERS 	=

# Names of C source files that contribute to product
CFILES		= cfiles.c

# Names of Shell files that contribute to product
SHFILES		=

# Section of manual to install pages in.
# All the manual pages in a given directory MUST be in the same section.
MANSECTION	= 99

# ASCII Test files:  input, and expected output
TFILES		=

# Any Configuration-specific definitions to pass to ${CC}, ie, -Dfoo=1
CONFIGDEFS	=

# Name of directory that holds the sources
SRCDIR		= xxx

# If special things (like ranlib) need doing after "make install",
# xxx/Makefile.loc should set AFTERINSTALL=${RANLIB}
AFTERINSTALL	= echo
#								#
#################################################################
@


7.7
log
@
Changed librle to libutahrle
@
text
@d38 1
a38 1
#  $Header: /c/CVS/brlcad/Makefile.defs,v 7.6 1988/09/17 04:11:03 mike Exp $		#
@


7.7.12.1
log
@merge from head
@
text
@d38 1
a38 1
#  $Header: /cvs/brlcad/Makefile.defs,v 7.7 1999/05/28 01:29:42 mike Exp $		#
@


7.6
log
@Attempts at multi-machine stuff
@
text
@d38 1
a38 1
#  $Header: Makefile.defs,v 7.5 88/01/27 01:11:48 mike Exp $		#
d322 1
a322 1
LIBRLE		= ../librle.'`sh ../mtype.sh`'/librle.${ARCH_SUF}
@


7.5
log
@Moved from /usr/brl/bin to /usr/brlcad/bin, sigh.
Howard strikes again.
@
text
@d38 1
a38 1
#  $Header: Makefile.defs,v 7.4 88/01/15 14:47:10 mike Locked $		#
d54 1
a54 1
SYSTEM		= -DBSD
d151 1
a151 1
#	LIBFB_OBJS = if_remote.o ../libpkg/pkg.o		#
a161 1
		  if_adage.c \
d163 1
d167 1
a167 2
LIBFB_OBJS	= if_remote.o ../libpkg/pkg.o \
		  if_adage.o \
d169 1
a174 1
		  -DIF_ADAGE \
d176 1
d239 4
a242 5
# The MG and VG drivers are only interesting on a VAX
MGED_CFILES	= dm-mg.c dm-vg.c
MGED_OBJS	= dm-mg.o dm-vg.o
MGED_CONFIG	= -DDM_MG -DDM_VG
MGED_LIBES	=
d250 1
a250 1
#SGI#MGED_OBJS	= dm-ir.o
a284 1
#VLD#SHELL	= /usr/5bin/sh
d298 1
a299 1
#SYSV#RANLIB	= echo
d319 7
a325 7
LIBFB		= ../libfb/libfb.${ARCH_SUF}
LIBRT		= ../librt/librt.${ARCH_SUF}
LIBPLOT		= ../libplot3/libplot3.${ARCH_SUF}
LIBRLE		= ../librle/librle.${ARCH_SUF}
LIBPKG		= ../libpkg/libpkg.${ARCH_SUF}
LIBWDB		= ../libwdb/libwdb.${ARCH_SUF}
LIBSPL		= ../libspl/libspl.${ARCH_SUF}
d328 3
a330 3
LIBTERMIO	= ../libtermio/libtermio.${ARCH_SUF}
LIBCURSOR	= ../libcursor/libcursor.${ARCH_SUF}
LIBSYSV		= ../libsysv/libsysv.${ARCH_SUF}
a393 1
# im117-raw is Chuck's office
d396 1
a396 1
		    qpr -q im217
@


7.4
log
@woops cleaned up some garbage which was left over.
@
text
@d38 1
a38 1
#  $Header: Makefile.defs,v 7.3 88/01/15 11:14:07 stay Locked $		#
d306 1
a306 1
BINDIR		= /usr/brl/bin
d310 1
a310 1
LIBDIR		= /usr/brl/lib
d312 3
@


7.3
log
@Added 4d support
@
text
@d38 1
a38 1
#  $Header: Makefile.defs,v 7.1 87/11/02 23:22:06 mike Rel $		#
a370 2

${SYSTEM} ${PROFILE}
@


7.2
log
@Added FC definition for SGI.  (Make on SGI does not have this builtin)
@
text
@d38 1
a38 1
#  $Header: Makefile.defs,v 7.1 87/11/02 23:22:06 mike Locked $		#
d88 1
d108 1
d120 1
d131 1
d146 1
d166 1
d173 1
d179 1
d209 1
d233 1
d245 5
d282 1
d296 1
d303 1
a362 3
# Compiler Paths
#SGI#FC		= f77

d366 1
d370 3
@


7.1
log
@Release 2.3
@
text
@d38 1
a38 1
#  $Header: Makefile.defs,v 6.2 87/11/02 22:13:13 mike Exp $		#
d344 3
@


6.2
log
@Added stuff
@
text
@d38 1
a38 1
#  $Header: Makefile.defs,v 6.1 87/07/11 07:47:54 mike Rel $		#
@


6.1
log
@Release 2.0
@
text
@d38 1
a38 1
#  $Header: Makefile.defs,v 5.2 87/06/25 00:55:39 mike Exp $		#
d49 2
d63 1
d139 3
a141 1
#	if_sun		SUNView interface
a197 2
#	On parallel machines, if h/machine.h does not define	#
#	the PARALLEL flag, it should be done here.		#
d221 2
a222 1
#	dm-rat		Raster Tech One/80			#
d305 1
a310 2
LIBMALLOC	= ../libmalloc/libmalloc.${ARCH_SUF}
#SUN#LIBMALLOC	=	# Forced to use SUN and Alliant malloc
d314 13
d376 1
a376 1
		    qpr -q im217-raw
@


5.2
log
@Neatness.
@
text
@d38 1
a38 1
#  $Header: Makefile.defs,v 5.1 87/06/24 21:46:49 mike Rel $		#
d60 2
a61 1
#CRAY#SYSTEM	= -DSYSV -DPARALLEL
d85 2
a86 1
#CRAY#SYSVERS	= UNICOS20
d104 2
a105 1
#CRAY#LIBPKG_CONFIG	= -I/usr/win-include -DBSD -DSHORT_IDENT -DCRAY
d115 2
a116 1
#CRAY#REMRT_CONFIG	= -I/usr/win-include -DBSD -DSHORT_IDENT -DCRAY
d180 1
a180 1
#	timercray	Cray-X/MP or Cray-2, UNICOS		#
d183 1
a183 1
#CRAY#LIBRT_TIMER	= timercray
d196 2
a197 1
#CRAY#RT_CONFIG	= -L/lib/multi -lu
d293 1
a293 1
#CRAY#ARCH_SUF	= o
d303 1
a303 1
#CRAY#LIBTERMLIB	= -lcurses
d307 1
a307 1
#SUN#LIBMALLOC	=	# Forced to use SUN's malloc
d343 1
a343 1
#CRAY#AR	= ../cray-ar.sh
@


5.1
log
@Release 1.24
@
text
@d38 1
a38 1
#  $Header: Makefile.defs,v 1.2 87/06/24 21:24:46 mike Exp $		#
a160 1
#USNA#		  -DIF_ADAGE -DGM256
d163 1
@


1.2
log
@Many additions to get to Release 1.23
@
text
@d38 1
a38 1
#  $Header: pkg.h,v 4.5 87/06/24 20:32:34 mike Exp $		#
@


1.1
log
@Release 1.20 -- First Formal Release
@
text
@a26 1
#	BRL/SECAD, August 1986					#
d38 2
d66 1
d78 1
d85 1
d106 10
d132 1
d151 1
d157 1
d161 1
d163 1
d176 1
a176 1
#	timercray	Cray-X/MP, COS or UNIX, Cray-2		#
d179 1
d185 13
d200 3
a205 2
#	dm-vg		Vector General 3300			#
#	dm-mg		Megatek 7250				#
d209 2
d212 1
a212 1
#	dm-sunpw	SUN 3.0 Pixwin (uses lib -lpr -lpw)	#
d220 6
d229 1
d233 2
a234 2
#SUN#MGED_CFILES	= dm-sunpw.c
#SUN#MGED_OBJS	= dm-sunpw.o
a262 2
GET		= /usr/5bin/get

d279 1
a280 1
BINDIR		= /usr/brl/bin
d283 1
a284 1
LIBDIR		= /usr/brl/lib
d286 1
d296 3
d301 2
d333 1
a333 1
LFLAGS		= -hbvxacL ${SYSTEM} ${CONFIGDEFS}
d336 1
d350 9
a358 4
TYPESET_MAN1	= /usr/5lib/troff -Ti300 /usr/lib/tmac/tmac.an 
TYPESET_MAN2	= | /usr/5bin/dimp -t | qpr -q im117-raw
#TYPESET_MAN1	= /usr/5lib/troff -Ti10 /usr/lib/tmac/tmac.an 
#TYPESET_MAN2	= | /usr/5bin/di10 -t | qpr -q im328-raw
d365 5
a369 1
#  directory.  Please don't change these values			#
d372 1
a373 1
MASTERHOST	= brl-vgr
@


1.1.1.1
log
@Import of initial port to Windows
@
text
@d1 353
a353 451
#################################################################
#								#
#			Makefile.defs				#
#								#
#  This Makefile contains definitions common to most of the	#
#  software packages contained in this distribution.		#
#  Combined with Makefile.rules and a directory-specific	#
#  Makefile.loc to create full MAKE input.			#
#								#
#  Each source directory contains a Makefile with these		#
#  contents:							#
#								#
#everything:							#
#	make $(MFLAGS) -$(MAKEFLAGS) \				#
#		-f ../Makefile.defs -f Makefile.loc \		#
#		-f ../Makefile.rules				#
#.DEFAULT:							#
#	make $(MFLAGS) -$(MAKEFLAGS) \				#
#		-f ../Makefile.defs -f Makefile.loc \		#
#		-f ../Makefile.rules $@@				#
#								#
#  so that the local rules and definitions for each directory	#
#  are combined with the common rules and definitions.		#
#								#
#  Author -							#
#	Michael John Muuss					#
#								#
#  Source -							#
#	SECAD/VLD Computing Consortium, Bldg 394		#
#	The U. S. Army Ballistic Research Laboratory		#
#	Aberdeen Proving Ground, Maryland  21005		#
#								#
#  Acknowledgements -						#
#	This Makefile draws heavily on Doug Gwyn's		#
#	VLD Standard Makefile, and Doug Kingston's		#
#	MMDF Global Makefile.					#
#								#
#  $Header: /c/CVS/brlcad/Makefile.defs,v 7.7 1999/05/28 01:29:42 mike Exp $		#
#								#
#################################################################

#################################################################
#								#
#  Operating System Definition and Compiler Flags		#
#								#
#  Either "BSD" or "SYSV" *MUST* be defined			#
#								#
#  Oddball compiler/loader directives should also go here	#
#  On parallel machines, if h/machine.h does not define		#
#  the PARALLEL flag, it should be done here.			#
#								#
#################################################################

#VAX#SYSTEM	= -DBSD
#SYSV#SYSTEM	= -DSYSV
#VLD#SYSTEM	= -DSYSV -DVLDSYSV
# Silicon Graphics, -Zf if Weitek FP chip installed
#SGI#SYSTEM	= -DSYSV -Zf
#SGI#SYSTEM	= -DSYSV
#ALLIANT#SYSTEM	= -DBSD -ce
#GOULD#SYSTEM	= -DBSD -m 8
#XMP#SYSTEM	= -DSYSV -DPARALLEL
#XMP2.1#SYSTEM	= -DSYSV -DPARALLEL -holevel_0
#CRAY2#SYSTEM	= -DSYSV -DPARALLEL -Dcray
# Sun3, select correct floating point flag, or -fswitch if unsure (slower)
#SUN3#SYSTEM	= -DBSD -f68881
#SUN3#SYSTEM	= -DBSD -ffpa
#SUN3#SYSTEM	= -DBSD -fswitch
#PYRAMID#SYSTEM	= -DBSD -Dvoid=int
#ULTRIX1#SYSTEM	= -DBSD -Dvoid=int

#################################################################
#								#
#  System-Version information, for special handling within one	#
#  type of $SYSTEM.						#
#								#
#  Currently meaningful settings are:				#
#								#
#	SGI34	SGI release 3.4 and below, with EXCELAN TCP.	#
#	SGI35	SGI release 3.5 and above, with real TCP.	#
#	UNICOS20	Cray UNICOS 2.0, with TCP		#
#	SUN3		SUN UNIX version 3.2 or above		#
#								#
#################################################################

#SGI#SYSVERS	= SGI34
#SGI#SYSVERS	= SGI35
#4D#SYSVERS	= 4D32
#XMP#SYSVERS	= UNICOS20
#CRAY2#SYSVERS	= UNICOS20
#SUN#SYSVERS	= SUN3

#################################################################
#								#
#  Definitions specific to one portion of the CAD distribution,	#
#  but collected here for ease of configuration			#
#								#
#################################################################

#################################################################
#								#
#		Configuration for libpkg			#
#								#
#################################################################

#SGI34#LIBPKG_CONFIG	= -I/usr/include/EXOS -DSGI_EXCELAN
#SGI35#LIBPKG_CONFIG	= -I/usr/include/bsd -DBSD
#4D32#LIBPKG_CONFIG	= -I/usr/include/bsd -DBSD
#XMP#LIBPKG_CONFIG	= -I/usr/win-include -DBSD -DSHORT_IDENT -DCRAY
#CRAY2#LIBPKG_CONFIG	= -I/usr/win-include -DBSD -DSHORT_IDENT -DCRAY

#################################################################
#								#
#		Configuration for remrt				#
#								#
#################################################################

#SGI34#REMRT_CONFIG	= -I/usr/include/EXOS -DSGI_EXCELAN
#SGI35#REMRT_CONFIG	= -I/usr/include/bsd -DBSD
#4D32#REMRT_CONFIG	= -I/usr/include/bsd -DBSD
#XMP#REMRT_CONFIG	= -I/usr/win-include -DBSD -DSHORT_IDENT -DCRAY
#CRAY2#REMRT_CONFIG	= -I/usr/win-include -DBSD -DSHORT_IDENT -DCRAY

#################################################################
#								#
#		Configuration for rfbd				#
#								#
#################################################################

#SGI35#RFBD_CONFIG	= -I/usr/include/bsd -DBSD
#4D32#RFBD_CONFIG	= -I/usr/include/bsd -DBSD

#################################################################
#								#
#		Configuration for libfb				#
#								#
#  Specify all OPTIONAL framebuffer interfaces to attach.	#
#  Select from:							#
#	if_remote	Network access to remote display	#
#	if_adage	Adage RDS-3000 ("Ikonas")		#
#	if_sgi		SGI IRIS display			#
#	if_ptty		AT&T 5620 w/special Moss layer		#
#	if_sun		SUNView interface			#
#	if_ug		Ultra Graphics device			#
#	if_rat		Raster Technology One/80 (24-bit RGB)	#
#	if_4d		SGI 4D/60T "clover" workstation
#								#
#  Edit all three LIBFB_* lines below similarly.		#
#  NOTES:							#
#  1)  When TCP exists and if_remote is desired, set		#
#	LIBFB_OBJS = if_remote.o pkg.o				#
#	to gain access to the PKG routines.			#
#								#
#  2)  For SGI release 3.4 and below, but not 3.5 and above:	#
#	LIBFB_OBJS = if_remote.o ../libpkg/pkg.o sgiselect.o	#
#								#
#  3)  For SGIs which have MC 68010 CPUs (not Turbos or		#
#	30xx machines), be certain to uncomment -DMC_68010,	#
#	because the default is a 68020				#
#								#
LIBFB_CFILES	= if_remote.c \
		  if_ptty.c
#VAX#		  if_adage.c
#SGI#		  if_sgi.c
#SUN#		  if_sun.c
#4D32#		  if_4d.c
LIBFB_OBJS	= if_remote.o pkg.o \
		  if_ptty.o
#VAX#		  if_adage.o
#SGI35#		  if_sgi.o
#SGI34#		  if_sgi.o sgiselect.o
#SUN#		  if_sun.o
#4D32#		  if_4d.o
LIBFB_CONFIG	= -DIF_REMOTE \
		  -DIF_PTTY
#VAX#		  -DIF_ADAGE
#SGI#		  -DIF_SGI	# -DMC_68010
#SUN#		  -DIF_SUN
#4D32#		  -DIF_4D
#USNA#		  -DIF_ADAGE -DGM256
#								#
#################################################################

#################################################################
#								#
#		Configuration for librt				#
#								#
# Select one of:						#
#	timer42		4.2 BSD, 4.3 BSD (Berkeley UNIX)	#
#	timerunix	Generic UNIX, System III, V, etc.	#
#	timer52brl	For BRL's System 5-under-4.n BSD	#
#	timerhep	Denelcor HEP				#
#	timercray	Cray-X/MP UNICOS			#
LIBRT_TIMER	= timer42
#SYSV#LIBRT_TIMER	= timerunix
#XMP#LIBRT_TIMER	= timercray
#								#
#################################################################

#################################################################
#								#
#		Configuration for RT				#
#								#
#	Mostly useful for specification of multi-processing	#
#	versions of libc, etc.					#
#								#
#XMP#RT_CONFIG	= -L/lib/multi -lu
#CRAY2#RT_CONFIG	= -lmt
#4D32#RT_CONFIG	= 	-lbsd
#								#
#################################################################

#################################################################
#								#
#		Configuration for mged				#
#								#
# If you wish MGED usage logging, add				#
#	-DLOGFILE=/file/name to MGED_CONFIG			#
#								#
# At present, MGED operates on these types of			#
# display hardware by default:					#
#	dm-plot		any UNIX-plot filter			#
#	dm-tek		Tektronix 4014 and family		#
#	dm-tek4109	Tektronix 4109				#
# and also supports these optional display devices:		#
#	dm-vg		Vector General 3300			#
#	dm-mg		Megatek 7250				#
#	dm-ir		SGI IRIS 2400,3030  (uses lib -lgl2)	#
#	dm-sun		SUN 3.2 Pixwin				#
#	dm-rat		Raster Tech One/180,380			#
#	dm-rat80	Raster Tech One/80			#
#	dm-ps		E&S Picture System 300			#
#	dm-4d		Silicon Graphics 4D/60T
#	dm-mer		Megatek Merlin 9200	[ Marginal ]	#
#	dm-sab		Saber w/GOPS		[ Marginal ]	#
#								#
#  Specify all OPTIONAL display managers to attach.		#
#								#
#VAX#MGED_CFILES	= dm-mg.c dm-vg.c
#VAX#MGED_OBJS		= dm-mg.o dm-vg.o
#VAX#MGED_CONFIG	= -DDM_MG -DDM_VG
#VAX#MGED_LIBES		=
#
#4D32#MGED_CFILES	= dm-4d.c
#4D32#MGED_OBJS		= dm-4d.o
#4D32#MGED_CONFIG	= -G 64 -DDM_4D
#4D32#MGED_LIBES	= -lbsd -lgl
#
#SGI#MGED_CFILES	= dm-ir.c
#SGI#MGED_OBJS		= dm-ir.o
#SGI#MGED_CONFIG	= -DDM_IR	# -DMC_68010
#SGIXNS#MGED_CONFIG	= -DDM_IR -DNONBLOCK	# -DMC_68010
#SGI35#MGED_LIBES	= -lbsd -lgl2
#SGI34#MGED_LIBES	= ../libfb/sgiselect.o -lgl2
#								#
#SUN#MGED_CFILES	= dm-sun.c
#SUN#MGED_OBJS	= dm-sun.o
#SUN#MGED_CONFIG	= -DDM_SUNPW
#SUN#MGED_LIBES	= -lsuntool -lsunwindow -lpixrect
#								#
#  Pick the right script for generating the version string:	#
#  Depends on differing behaviors of "echo" command		#
#								#
MGED_VERS	= newvers.sh
#SYSV#MGED_VERS	= newvers5.sh
#VLD#MGED_VERS	= newversVLD.sh
#								#
#################################################################

#################################################################
#								#
#  Paths for programs, libraries, etc				#
#  Defined here to provide "optimal managerial flexibility"	#
#								#
#  Note:  Don't add comments after a definition, 		#
#	the extra white space can ruin some of the expansions.	#
#								#
#################################################################

CC		= /bin/cc
#4D32#CC	= /usr/bin/cc
#VLD#CC		= /usr/5bin/cc

SHELL		= /bin/sh

MAKE		= /bin/make

# Makefiles to print
MAKEFILE	= ../Makefile.defs ./Makefile.loc ../Makefile.rules ./Makefile

# Program to get name of current system
GETHOST		= hostname
#SYSV#GETHOST	= uname -n
#4D32#GETHOST	= hostname

# If BSD42, use ranlib on archives.  For SYSV, set to "echo" (except SGI).
RANLIB		= ranlib
#SYSV#RANLIB	= echo
#VLD#RANLIB	= ranlib
#SGI#RANLIB	= ranlib
#4D32#RANLIB	= ar ts

# Place to install binary executable
BINDIR		= /usr/brlcad/bin
#VLD#BINDIR	= /vld/bin

# Place to install (and find) libraries
LIBDIR		= /usr/brlcad/lib
#VLD#LIBDIR	= /vld/lib

# Place to install daemons and other non-user-command type programs
ETCDIR		= /usr/brlcad/etc

# Suffix for archives.  Won't change for most UNIX machines, but...
ARCH_SUF	= a
#XMP#ARCH_SUF	= o

# For utilities that wish to USE our libraries, here are the popular ones:
LIBFB		= ../libfb.'`sh ../mtype.sh`'/libfb.${ARCH_SUF}
LIBRT		= ../librt.'`sh ../mtype.sh`'/librt.${ARCH_SUF}
LIBPLOT		= ../libplot3.'`sh ../mtype.sh`'/libplot3.${ARCH_SUF}
LIBRLE		= ../libutahrle.'`sh ../mtype.sh`'/libutahrle.${ARCH_SUF}
LIBPKG		= ../libpkg.'`sh ../mtype.sh`'/libpkg.${ARCH_SUF}
LIBWDB		= ../libwdb.'`sh ../mtype.sh`'/libwdb.${ARCH_SUF}
LIBSPL		= ../libspl.'`sh ../mtype.sh`'/libspl.${ARCH_SUF}
LIBTERMLIB	= -ltermlib
#XMP#LIBTERMLIB	= -lcurses
LIBTERMIO	= ../libtermio.'`sh ../mtype.sh`'/libtermio.${ARCH_SUF}
LIBCURSOR	= ../libcursor.'`sh ../mtype.sh`'/libcursor.${ARCH_SUF}
LIBSYSV		= ../libsysv.'`sh ../mtype.sh`'/libsysv.${ARCH_SUF}
#SYSV#LIBSYSV	=

# For strictly serial machines, the Princeton malloc() in libmalloc
# uses address space and physical memory more efficiently than the
# Berkeley/CalTech malloc(), but with the same performance advantage.
# It works well on VAXen and Goulds and SGIs.  Sadly, it does not work
# on the SUNs.
# For parallel machines, the vendor's malloc() typically needs to be
# used, to handle parallel stack frame expansion, etc.  This is
# significant on the Cray and HEP, and perhaps others.
LIBMALLOC	= ../libmalloc/libmalloc.${ARCH_SUF}
#SUN#LIBMALLOC	=	# Forced to use vendor malloc
#XMP#LIBMALLOC	=	# Forced to use vendor malloc
#CRAY2#LIBMALLOC	=	# Forced to use vendor malloc

# Directory within CAD Package for header files
INCDIR		= ../h

# Directory where users can find installed copies of header files.
INCLUDE_DIR	= /usr/include/brlcad
#VLD#INCLUDE_DIR	= /vld/include

# Directory for Manual pages, when ${MANSECTION} appended
MANDIR		= /usr/man/man
#SYSV#MANDIR	= /usr/man/u_man/man
#VLD#MANDIR	= /usr/5lib/man/local/man

# Permissions for files to be installed
BINPERM		= 775
MANPERM		= 664
LIBPERM		= 664
DIRPERM		= 775

# Compiler Flags
PROFILE		=
CFLAGS		= -O ${PROFILE} -I${INCDIR} ${SYSTEM} ${CONFIGDEFS}
#4D#CFLAGS	= -O2 ${PROFILE} -I${INCDIR} ${SYSTEM} ${CONFIGDEFS}

# Loader Flags.  Note that ${CC} is used to invoke the loader
LDFLAGS 	= ${SYSTEM} ${PROFILE}
#4D#LDFLAGS 	= -O2 ${SYSTEM} ${PROFILE}

# Lint Flags
LINT		= lint
LFLAGS		= -hbvxac ${SYSTEM} ${CONFIGDEFS}
#SYSV#LFLAGS	= ${SYSTEM} ${CONFIGDEFS}

# Name of the object module archiver, for use with the loader.
AR		= ar
#XMP#AR	= ../cray-ar.sh

# Regular libraries.  Everybody gets the math library;  most need it.
LIBES		= -lm

# Lint libraries
LLIBES		= -lm

# Program to install executables
INS		= cp

# Command string to typeset manual pages
# Usage is:   ${TYPESET_MAN1} *.${MANSECTION} ${TYPESET_MAN2}
#
TYPESET_MAN1	= tbl /usr/lib/tmac/tmac.an
TYPESET_MAN2	= | /usr/5lib/troff -Ti300 | /usr/5bin/dimp -t | \
		    qpr -q im231
#TYPESET_MAN1	= tbl /usr/lib/tmac/tmac.an 
#TYPESET_MAN2	= | /usr/5lib/troff -Ti10 | /usr/5bin/di10 -t | \
		    qpr -q im328-raw
#TYPESET_MAN1	= troff -man
#TYPESET_MAN2	= 

#################################################################
#								#
#  Definition of master source machine, and master distribution	#
#  directory.  Please don't change these values.		#
#  When the current host is == MASTERHOST, the "make install"	#
#  rules will also handle the distribution source management.	#
#  Even if you have lots of disk space, you don't want that	#
#  to happen.							#
#								#
#################################################################
MASTERHOST	= brl-vgr
DISTRIBUTION	= /m/dist

#################################################################
#								#
#  Variables that will be defined in xxx/Makefile.loc		#
#								#
#################################################################

# Full names of final products
PRODUCTS	= product

# Names of local headers that contribute to product
HEADERS 	=

# Names of C source files that contribute to product
CFILES		= cfiles.c

# Names of Shell files that contribute to product
SHFILES		=

# Section of manual to install pages in.
# All the manual pages in a given directory MUST be in the same section.
MANSECTION	= 99

# ASCII Test files:  input, and expected output
TFILES		=

# Any Configuration-specific definitions to pass to ${CC}, ie, -Dfoo=1
CONFIGDEFS	=

# Name of directory that holds the sources
SRCDIR		= xxx

# If special things (like ranlib) need doing after "make install",
# xxx/Makefile.loc should set AFTERINSTALL=${RANLIB}
AFTERINSTALL	= echo
#								#
#################################################################
@


1.1.1.2
log
@sync to HEAD...
@
text
@d1 451
a451 451
#################################################################
#								#
#			Makefile.defs				#
#								#
#  This Makefile contains definitions common to most of the	#
#  software packages contained in this distribution.		#
#  Combined with Makefile.rules and a directory-specific	#
#  Makefile.loc to create full MAKE input.			#
#								#
#  Each source directory contains a Makefile with these		#
#  contents:							#
#								#
#everything:							#
#	make $(MFLAGS) -$(MAKEFLAGS) \				#
#		-f ../Makefile.defs -f Makefile.loc \		#
#		-f ../Makefile.rules				#
#.DEFAULT:							#
#	make $(MFLAGS) -$(MAKEFLAGS) \				#
#		-f ../Makefile.defs -f Makefile.loc \		#
#		-f ../Makefile.rules $@@				#
#								#
#  so that the local rules and definitions for each directory	#
#  are combined with the common rules and definitions.		#
#								#
#  Author -							#
#	Michael John Muuss					#
#								#
#  Source -							#
#	SECAD/VLD Computing Consortium, Bldg 394		#
#	The U. S. Army Ballistic Research Laboratory		#
#	Aberdeen Proving Ground, Maryland  21005		#
#								#
#  Acknowledgements -						#
#	This Makefile draws heavily on Doug Gwyn's		#
#	VLD Standard Makefile, and Doug Kingston's		#
#	MMDF Global Makefile.					#
#								#
#  $Header: /c/CVS/brlcad/Makefile.defs,v 7.7 1999/05/28 01:29:42 mike Exp $		#
#								#
#################################################################

#################################################################
#								#
#  Operating System Definition and Compiler Flags		#
#								#
#  Either "BSD" or "SYSV" *MUST* be defined			#
#								#
#  Oddball compiler/loader directives should also go here	#
#  On parallel machines, if h/machine.h does not define		#
#  the PARALLEL flag, it should be done here.			#
#								#
#################################################################

#VAX#SYSTEM	= -DBSD
#SYSV#SYSTEM	= -DSYSV
#VLD#SYSTEM	= -DSYSV -DVLDSYSV
# Silicon Graphics, -Zf if Weitek FP chip installed
#SGI#SYSTEM	= -DSYSV -Zf
#SGI#SYSTEM	= -DSYSV
#ALLIANT#SYSTEM	= -DBSD -ce
#GOULD#SYSTEM	= -DBSD -m 8
#XMP#SYSTEM	= -DSYSV -DPARALLEL
#XMP2.1#SYSTEM	= -DSYSV -DPARALLEL -holevel_0
#CRAY2#SYSTEM	= -DSYSV -DPARALLEL -Dcray
# Sun3, select correct floating point flag, or -fswitch if unsure (slower)
#SUN3#SYSTEM	= -DBSD -f68881
#SUN3#SYSTEM	= -DBSD -ffpa
#SUN3#SYSTEM	= -DBSD -fswitch
#PYRAMID#SYSTEM	= -DBSD -Dvoid=int
#ULTRIX1#SYSTEM	= -DBSD -Dvoid=int

#################################################################
#								#
#  System-Version information, for special handling within one	#
#  type of $SYSTEM.						#
#								#
#  Currently meaningful settings are:				#
#								#
#	SGI34	SGI release 3.4 and below, with EXCELAN TCP.	#
#	SGI35	SGI release 3.5 and above, with real TCP.	#
#	UNICOS20	Cray UNICOS 2.0, with TCP		#
#	SUN3		SUN UNIX version 3.2 or above		#
#								#
#################################################################

#SGI#SYSVERS	= SGI34
#SGI#SYSVERS	= SGI35
#4D#SYSVERS	= 4D32
#XMP#SYSVERS	= UNICOS20
#CRAY2#SYSVERS	= UNICOS20
#SUN#SYSVERS	= SUN3

#################################################################
#								#
#  Definitions specific to one portion of the CAD distribution,	#
#  but collected here for ease of configuration			#
#								#
#################################################################

#################################################################
#								#
#		Configuration for libpkg			#
#								#
#################################################################

#SGI34#LIBPKG_CONFIG	= -I/usr/include/EXOS -DSGI_EXCELAN
#SGI35#LIBPKG_CONFIG	= -I/usr/include/bsd -DBSD
#4D32#LIBPKG_CONFIG	= -I/usr/include/bsd -DBSD
#XMP#LIBPKG_CONFIG	= -I/usr/win-include -DBSD -DSHORT_IDENT -DCRAY
#CRAY2#LIBPKG_CONFIG	= -I/usr/win-include -DBSD -DSHORT_IDENT -DCRAY

#################################################################
#								#
#		Configuration for remrt				#
#								#
#################################################################

#SGI34#REMRT_CONFIG	= -I/usr/include/EXOS -DSGI_EXCELAN
#SGI35#REMRT_CONFIG	= -I/usr/include/bsd -DBSD
#4D32#REMRT_CONFIG	= -I/usr/include/bsd -DBSD
#XMP#REMRT_CONFIG	= -I/usr/win-include -DBSD -DSHORT_IDENT -DCRAY
#CRAY2#REMRT_CONFIG	= -I/usr/win-include -DBSD -DSHORT_IDENT -DCRAY

#################################################################
#								#
#		Configuration for rfbd				#
#								#
#################################################################

#SGI35#RFBD_CONFIG	= -I/usr/include/bsd -DBSD
#4D32#RFBD_CONFIG	= -I/usr/include/bsd -DBSD

#################################################################
#								#
#		Configuration for libfb				#
#								#
#  Specify all OPTIONAL framebuffer interfaces to attach.	#
#  Select from:							#
#	if_remote	Network access to remote display	#
#	if_adage	Adage RDS-3000 ("Ikonas")		#
#	if_sgi		SGI IRIS display			#
#	if_ptty		AT&T 5620 w/special Moss layer		#
#	if_sun		SUNView interface			#
#	if_ug		Ultra Graphics device			#
#	if_rat		Raster Technology One/80 (24-bit RGB)	#
#	if_4d		SGI 4D/60T "clover" workstation
#								#
#  Edit all three LIBFB_* lines below similarly.		#
#  NOTES:							#
#  1)  When TCP exists and if_remote is desired, set		#
#	LIBFB_OBJS = if_remote.o pkg.o				#
#	to gain access to the PKG routines.			#
#								#
#  2)  For SGI release 3.4 and below, but not 3.5 and above:	#
#	LIBFB_OBJS = if_remote.o ../libpkg/pkg.o sgiselect.o	#
#								#
#  3)  For SGIs which have MC 68010 CPUs (not Turbos or		#
#	30xx machines), be certain to uncomment -DMC_68010,	#
#	because the default is a 68020				#
#								#
LIBFB_CFILES	= if_remote.c \
		  if_ptty.c
#VAX#		  if_adage.c
#SGI#		  if_sgi.c
#SUN#		  if_sun.c
#4D32#		  if_4d.c
LIBFB_OBJS	= if_remote.o pkg.o \
		  if_ptty.o
#VAX#		  if_adage.o
#SGI35#		  if_sgi.o
#SGI34#		  if_sgi.o sgiselect.o
#SUN#		  if_sun.o
#4D32#		  if_4d.o
LIBFB_CONFIG	= -DIF_REMOTE \
		  -DIF_PTTY
#VAX#		  -DIF_ADAGE
#SGI#		  -DIF_SGI	# -DMC_68010
#SUN#		  -DIF_SUN
#4D32#		  -DIF_4D
#USNA#		  -DIF_ADAGE -DGM256
#								#
#################################################################

#################################################################
#								#
#		Configuration for librt				#
#								#
# Select one of:						#
#	timer42		4.2 BSD, 4.3 BSD (Berkeley UNIX)	#
#	timerunix	Generic UNIX, System III, V, etc.	#
#	timer52brl	For BRL's System 5-under-4.n BSD	#
#	timerhep	Denelcor HEP				#
#	timercray	Cray-X/MP UNICOS			#
LIBRT_TIMER	= timer42
#SYSV#LIBRT_TIMER	= timerunix
#XMP#LIBRT_TIMER	= timercray
#								#
#################################################################

#################################################################
#								#
#		Configuration for RT				#
#								#
#	Mostly useful for specification of multi-processing	#
#	versions of libc, etc.					#
#								#
#XMP#RT_CONFIG	= -L/lib/multi -lu
#CRAY2#RT_CONFIG	= -lmt
#4D32#RT_CONFIG	= 	-lbsd
#								#
#################################################################

#################################################################
#								#
#		Configuration for mged				#
#								#
# If you wish MGED usage logging, add				#
#	-DLOGFILE=/file/name to MGED_CONFIG			#
#								#
# At present, MGED operates on these types of			#
# display hardware by default:					#
#	dm-plot		any UNIX-plot filter			#
#	dm-tek		Tektronix 4014 and family		#
#	dm-tek4109	Tektronix 4109				#
# and also supports these optional display devices:		#
#	dm-vg		Vector General 3300			#
#	dm-mg		Megatek 7250				#
#	dm-ir		SGI IRIS 2400,3030  (uses lib -lgl2)	#
#	dm-sun		SUN 3.2 Pixwin				#
#	dm-rat		Raster Tech One/180,380			#
#	dm-rat80	Raster Tech One/80			#
#	dm-ps		E&S Picture System 300			#
#	dm-4d		Silicon Graphics 4D/60T
#	dm-mer		Megatek Merlin 9200	[ Marginal ]	#
#	dm-sab		Saber w/GOPS		[ Marginal ]	#
#								#
#  Specify all OPTIONAL display managers to attach.		#
#								#
#VAX#MGED_CFILES	= dm-mg.c dm-vg.c
#VAX#MGED_OBJS		= dm-mg.o dm-vg.o
#VAX#MGED_CONFIG	= -DDM_MG -DDM_VG
#VAX#MGED_LIBES		=
#
#4D32#MGED_CFILES	= dm-4d.c
#4D32#MGED_OBJS		= dm-4d.o
#4D32#MGED_CONFIG	= -G 64 -DDM_4D
#4D32#MGED_LIBES	= -lbsd -lgl
#
#SGI#MGED_CFILES	= dm-ir.c
#SGI#MGED_OBJS		= dm-ir.o
#SGI#MGED_CONFIG	= -DDM_IR	# -DMC_68010
#SGIXNS#MGED_CONFIG	= -DDM_IR -DNONBLOCK	# -DMC_68010
#SGI35#MGED_LIBES	= -lbsd -lgl2
#SGI34#MGED_LIBES	= ../libfb/sgiselect.o -lgl2
#								#
#SUN#MGED_CFILES	= dm-sun.c
#SUN#MGED_OBJS	= dm-sun.o
#SUN#MGED_CONFIG	= -DDM_SUNPW
#SUN#MGED_LIBES	= -lsuntool -lsunwindow -lpixrect
#								#
#  Pick the right script for generating the version string:	#
#  Depends on differing behaviors of "echo" command		#
#								#
MGED_VERS	= newvers.sh
#SYSV#MGED_VERS	= newvers5.sh
#VLD#MGED_VERS	= newversVLD.sh
#								#
#################################################################

#################################################################
#								#
#  Paths for programs, libraries, etc				#
#  Defined here to provide "optimal managerial flexibility"	#
#								#
#  Note:  Don't add comments after a definition, 		#
#	the extra white space can ruin some of the expansions.	#
#								#
#################################################################

CC		= /bin/cc
#4D32#CC	= /usr/bin/cc
#VLD#CC		= /usr/5bin/cc

SHELL		= /bin/sh

MAKE		= /bin/make

# Makefiles to print
MAKEFILE	= ../Makefile.defs ./Makefile.loc ../Makefile.rules ./Makefile

# Program to get name of current system
GETHOST		= hostname
#SYSV#GETHOST	= uname -n
#4D32#GETHOST	= hostname

# If BSD42, use ranlib on archives.  For SYSV, set to "echo" (except SGI).
RANLIB		= ranlib
#SYSV#RANLIB	= echo
#VLD#RANLIB	= ranlib
#SGI#RANLIB	= ranlib
#4D32#RANLIB	= ar ts

# Place to install binary executable
BINDIR		= /usr/brlcad/bin
#VLD#BINDIR	= /vld/bin

# Place to install (and find) libraries
LIBDIR		= /usr/brlcad/lib
#VLD#LIBDIR	= /vld/lib

# Place to install daemons and other non-user-command type programs
ETCDIR		= /usr/brlcad/etc

# Suffix for archives.  Won't change for most UNIX machines, but...
ARCH_SUF	= a
#XMP#ARCH_SUF	= o

# For utilities that wish to USE our libraries, here are the popular ones:
LIBFB		= ../libfb.'`sh ../mtype.sh`'/libfb.${ARCH_SUF}
LIBRT		= ../librt.'`sh ../mtype.sh`'/librt.${ARCH_SUF}
LIBPLOT		= ../libplot3.'`sh ../mtype.sh`'/libplot3.${ARCH_SUF}
LIBRLE		= ../libutahrle.'`sh ../mtype.sh`'/libutahrle.${ARCH_SUF}
LIBPKG		= ../libpkg.'`sh ../mtype.sh`'/libpkg.${ARCH_SUF}
LIBWDB		= ../libwdb.'`sh ../mtype.sh`'/libwdb.${ARCH_SUF}
LIBSPL		= ../libspl.'`sh ../mtype.sh`'/libspl.${ARCH_SUF}
LIBTERMLIB	= -ltermlib
#XMP#LIBTERMLIB	= -lcurses
LIBTERMIO	= ../libtermio.'`sh ../mtype.sh`'/libtermio.${ARCH_SUF}
LIBCURSOR	= ../libcursor.'`sh ../mtype.sh`'/libcursor.${ARCH_SUF}
LIBSYSV		= ../libsysv.'`sh ../mtype.sh`'/libsysv.${ARCH_SUF}
#SYSV#LIBSYSV	=

# For strictly serial machines, the Princeton malloc() in libmalloc
# uses address space and physical memory more efficiently than the
# Berkeley/CalTech malloc(), but with the same performance advantage.
# It works well on VAXen and Goulds and SGIs.  Sadly, it does not work
# on the SUNs.
# For parallel machines, the vendor's malloc() typically needs to be
# used, to handle parallel stack frame expansion, etc.  This is
# significant on the Cray and HEP, and perhaps others.
LIBMALLOC	= ../libmalloc/libmalloc.${ARCH_SUF}
#SUN#LIBMALLOC	=	# Forced to use vendor malloc
#XMP#LIBMALLOC	=	# Forced to use vendor malloc
#CRAY2#LIBMALLOC	=	# Forced to use vendor malloc

# Directory within CAD Package for header files
INCDIR		= ../h

# Directory where users can find installed copies of header files.
INCLUDE_DIR	= /usr/include/brlcad
#VLD#INCLUDE_DIR	= /vld/include

# Directory for Manual pages, when ${MANSECTION} appended
MANDIR		= /usr/man/man
#SYSV#MANDIR	= /usr/man/u_man/man
#VLD#MANDIR	= /usr/5lib/man/local/man

# Permissions for files to be installed
BINPERM		= 775
MANPERM		= 664
LIBPERM		= 664
DIRPERM		= 775

# Compiler Flags
PROFILE		=
CFLAGS		= -O ${PROFILE} -I${INCDIR} ${SYSTEM} ${CONFIGDEFS}
#4D#CFLAGS	= -O2 ${PROFILE} -I${INCDIR} ${SYSTEM} ${CONFIGDEFS}

# Loader Flags.  Note that ${CC} is used to invoke the loader
LDFLAGS 	= ${SYSTEM} ${PROFILE}
#4D#LDFLAGS 	= -O2 ${SYSTEM} ${PROFILE}

# Lint Flags
LINT		= lint
LFLAGS		= -hbvxac ${SYSTEM} ${CONFIGDEFS}
#SYSV#LFLAGS	= ${SYSTEM} ${CONFIGDEFS}

# Name of the object module archiver, for use with the loader.
AR		= ar
#XMP#AR	= ../cray-ar.sh

# Regular libraries.  Everybody gets the math library;  most need it.
LIBES		= -lm

# Lint libraries
LLIBES		= -lm

# Program to install executables
INS		= cp

# Command string to typeset manual pages
# Usage is:   ${TYPESET_MAN1} *.${MANSECTION} ${TYPESET_MAN2}
#
TYPESET_MAN1	= tbl /usr/lib/tmac/tmac.an
TYPESET_MAN2	= | /usr/5lib/troff -Ti300 | /usr/5bin/dimp -t | \
		    qpr -q im231
#TYPESET_MAN1	= tbl /usr/lib/tmac/tmac.an 
#TYPESET_MAN2	= | /usr/5lib/troff -Ti10 | /usr/5bin/di10 -t | \
		    qpr -q im328-raw
#TYPESET_MAN1	= troff -man
#TYPESET_MAN2	= 

#################################################################
#								#
#  Definition of master source machine, and master distribution	#
#  directory.  Please don't change these values.		#
#  When the current host is == MASTERHOST, the "make install"	#
#  rules will also handle the distribution source management.	#
#  Even if you have lots of disk space, you don't want that	#
#  to happen.							#
#								#
#################################################################
MASTERHOST	= brl-vgr
DISTRIBUTION	= /m/dist

#################################################################
#								#
#  Variables that will be defined in xxx/Makefile.loc		#
#								#
#################################################################

# Full names of final products
PRODUCTS	= product

# Names of local headers that contribute to product
HEADERS 	=

# Names of C source files that contribute to product
CFILES		= cfiles.c

# Names of Shell files that contribute to product
SHFILES		=

# Section of manual to install pages in.
# All the manual pages in a given directory MUST be in the same section.
MANSECTION	= 99

# ASCII Test files:  input, and expected output
TFILES		=

# Any Configuration-specific definitions to pass to ${CC}, ie, -Dfoo=1
CONFIGDEFS	=

# Name of directory that holds the sources
SRCDIR		= xxx

# If special things (like ranlib) need doing after "make install",
# xxx/Makefile.loc should set AFTERINSTALL=${RANLIB}
AFTERINSTALL	= echo
#								#
#################################################################
@


