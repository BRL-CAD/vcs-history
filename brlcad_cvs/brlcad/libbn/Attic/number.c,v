head	11.8;
access;
symbols
	ansi-20040405-merged:11.5.2.1
	postmerge-20040405-ansi:11.6
	premerge-20040404-ansi:11.5
	postmerge-autoconf:11.5
	autoconf-freeze:11.5
	premerge-autoconf:11.5
	ansi-20040316-freeze:11.5.2.1
	postmerge-20040315-windows:11.5
	premerge-20040315-windows:11.5
	windows-20040315-freeze:11.5
	autoconf-20031203:11.5
	autoconf-20031202:11.5
	autoconf-branch:11.5.0.10
	phong-branch:11.5.0.8
	photonmap-branch:11.5.0.6
	rel-6-1-DP:11.5
	windows-branch:11.5.0.4
	rel-6-0-2:11.3
	ansi-branch:11.5.0.2
	rel-6-0-1-branch:11.3.0.2
	hartley-6-0-post:11.4
	hartley-6-0-pre:11.3
	rel-6-0-1:11.3
	rel-6-0:11.3
	rel-5-4:11.2
	offsite-5-3-pre:11.3
	rel-5-3:11.2
	rel-5-2:11.2
	rel-5-1-branch:11.2.0.2
	rel-5-1:11.2
	rel-5-0:11.2
	rel-5-0-beta:11.2
	rel-4-5:11.1
	ctj-4-5-post:11.1
	ctj-4-5-pre:11.1
	rel-4-4:11.1
	rel-4-0:10.1
	rel-3-5:9.1
	rel-3-0:8.1
	rel-2-3:7.1
	rel-2-0:6.1
	rel-1-24:5.1
	rel-1-20:1.1;
locks; strict;
comment	@ * @;


11.8
date	2004.05.21.18.06.22;	author morrison;	state dead;
branches;
next	11.7;

11.7
date	2004.05.10.15.30.43;	author erikg;	state Exp;
branches;
next	11.6;

11.6
date	2004.04.05.07.46.41;	author morrison;	state Exp;
branches;
next	11.5;

11.5
date	2002.08.20.17.07.36;	author jra;	state Exp;
branches
	11.5.2.1;
next	11.4;

11.4
date	2002.08.15.20.54.48;	author hartley;	state Exp;
branches;
next	11.3;

11.3
date	2000.07.11.23.30.39;	author cjohnson;	state Exp;
branches;
next	11.2;

11.2
date	98.04.07.15.43.24;	author bparker;	state Exp;
branches;
next	11.1;

11.1
date	95.01.04.09.51.17;	author mike;	state Rel4_4;
branches;
next	10.3;

10.3
date	94.12.19.15.56.28;	author jra;	state Exp;
branches;
next	10.2;

10.2
date	94.08.12.19.18.41;	author gdurf;	state Exp;
branches;
next	10.1;

10.1
date	91.10.12.06.36.37;	author mike;	state Rel4_0;
branches;
next	9.4;

9.4
date	91.07.02.01.14.56;	author mike;	state Exp;
branches;
next	9.3;

9.3
date	91.05.31.11.26.03;	author mike;	state Exp;
branches;
next	9.2;

9.2
date	90.11.25.11.42.27;	author cjohnson;	state Exp;
branches;
next	9.1;

9.1
date	89.05.19.05.49.48;	author mike;	state Rel3_5;
branches;
next	8.1;

8.1
date	88.10.05.00.28.44;	author mike;	state Rel3_0;
branches;
next	7.4;

7.4
date	88.05.13.22.39.50;	author mike;	state Exp;
branches;
next	7.3;

7.3
date	88.02.08.23.41.38;	author mike;	state Exp;
branches;
next	7.2;

7.2
date	88.02.04.21.51.48;	author mike;	state Exp;
branches;
next	7.1;

7.1
date	87.11.02.23.28.43;	author mike;	state Rel;
branches;
next	6.1;

6.1
date	87.07.11.07.53.11;	author mike;	state Rel;
branches;
next	5.1;

5.1
date	87.06.24.21.53.17;	author mike;	state Rel;
branches;
next	1.1;

1.1
date	87.01.12.18.59.12;	author mike;	state Exp;
branches;
next	;

11.5.2.1
date	2002.09.19.18.01.09;	author morrison;	state Exp;
branches;
next	;


desc
@uni-tig pack
write out a float
@


11.8
log
@moved to src/
@
text
@/*
 *			T P _ N U M B E R
 *
 *	This routine is used to convert a floating point number into
 * a string of ASCII characters, and then call tp_symbol().
 *
 *  Author -
 *	Mike Muuss
 *	August 01, 1978
 *  
 *  Source -
 *	SECAD/VLD Computing Consortium, Bldg 394
 *	The U. S. Army Ballistic Research Laboratory
 *	Aberdeen Proving Ground, Maryland  21005-5066
 *  
 *  Distribution Status -
 *	Public Domain, Distribution Unlimitied.
 */
#ifndef lint
static const char RCSid[] = "@@(#)$Header: /n/xoff/cvs/brlcad/libbn/number.c,v 11.7 2004/05/10 15:30:43 erikg Exp $ (BRL)";
#endif

#ifdef HAVE_CONFIG_H
# include "config.h"
#endif



#include <stdio.h>
#include "machine.h"
#include "vmath.h"
#include "plot3.h"

void
tp_2number(FILE *fp, double input, int x, int y, int cscale, double theta, int digits)
    	    
      	      		/* number to be plotted */
   	  		/* first char position */
   	  
   	       		/* char scale */
      	      		/* degrees ccw from X-axis */
   	       		/* # digits wide */
{
	char	fmt[32];
	char	buf[32];

	if( digits < 1 )
		digits = 1;
#if 0
	sprintf( fmt, "%%%dg", digits, digits );
#else
	sprintf( fmt, "%%%dg", digits );
#endif
	sprintf( buf, fmt, input );
	tp_2symbol( fp, buf, (double)x, (double)y, (double)cscale, theta );
}

void
PL_FORTRAN(f2numb, F2NUMB)( fp, input, x, y, cscale, theta, digits )
FILE	**fp;
float	*input;
int	*x;
int	*y;
float	*cscale;
float	*theta;
int     *digits;
{
	tp_2number( *fp, *input, *x, *y, *cscale, *theta, *digits);
}
@


11.7
log
@change conf.h to a wrapped config.h
@
text
@d20 1
a20 1
static const char RCSid[] = "@@(#)$Header: /cvs/brlcad/libbn/number.c,v 11.6 2004/04/05 07:46:41 morrison Exp $ (BRL)";
@


11.6
log
@merge of ansi-6-0-branch into HEAD
@
text
@d20 1
a20 1
static const char RCSid[] = "@@(#)$Header$ (BRL)";
d23 5
a27 1
#include "conf.h"
@


11.5
log
@Restoration of entire source tree to Pre-Hartley state
@
text
@d20 1
a20 1
static const char RCSid[] = "@@(#)$Header: /c/CVS/brlcad/libbn/number.c,v 11.3 2000/07/11 23:30:39 cjohnson Exp $ (BRL)";
d31 8
a38 8
tp_2number( fp, input, x, y, cscale, theta, digits )
FILE	*fp;
double	input;		/* number to be plotted */
int	x;		/* first char position */
int	y;
int	cscale;		/* char scale */
double	theta;		/* degrees ccw from X-axis */
int	digits;		/* # digits wide */
@


11.5.2.1
log
@Initial ANSIfication
@
text
@d20 1
a20 1
static const char RCSid[] = "@@(#)$Header: /c/CVS/brlcad/libbn/number.c,v 11.5 2002/08/20 17:07:36 jra Exp $ (BRL)";
d31 8
a38 8
tp_2number(FILE *fp, double input, int x, int y, int cscale, double theta, int digits)
    	    
      	      		/* number to be plotted */
   	  		/* first char position */
   	  
   	       		/* char scale */
      	      		/* degrees ccw from X-axis */
   	       		/* # digits wide */
@


11.4
log
@Converted from K&R to ANSI C - RFH
@
text
@d31 8
a38 8
tp_2number(FILE *fp, double input, int x, int y, int cscale, double theta, int digits)
    	    
      	      		/* number to be plotted */
   	  		/* first char position */
   	  
   	       		/* char scale */
      	      		/* degrees ccw from X-axis */
   	       		/* # digits wide */
@


11.3
log
@LINT picking.  Missing includes and static const for RCSids
@
text
@d20 1
a20 1
static const char RCSid[] = "@@(#)$Header: /c/CVS/brlcad/libbn/number.c,v 11.2 1998/04/07 15:43:24 bparker Exp $ (BRL)";
d31 8
a38 8
tp_2number( fp, input, x, y, cscale, theta, digits )
FILE	*fp;
double	input;		/* number to be plotted */
int	x;		/* first char position */
int	y;
int	cscale;		/* char scale */
double	theta;		/* degrees ccw from X-axis */
int	digits;		/* # digits wide */
@


11.2
log
@fixed typo
@
text
@d20 1
a20 1
static char RCSid[] = "@@(#)$Header: /m/cad/libbn/RCS/number.c,v 11.1 1995/01/04 09:51:17 mike Rel4_4 bparker $ (BRL)";
@


11.1
log
@Release_4.4
@
text
@d20 1
a20 1
static char RCSid[] = "@@(#)$Header: /m/cad/libplot3/RCS/number.c,v 10.3 94/12/19 15:56:28 jra Exp $ (BRL)";
d45 1
d47 3
@


10.3
log
@fixed call to tp_2symbol to satisfy CRAY.
@
text
@d20 1
a20 1
static char RCSid[] = "@@(#)$Header: /n/wolf/m/cad/libplot3/RCS/number.c,v 10.2 94/08/12 19:18:41 gdurf Exp Locker: jra $ (BRL)";
@


10.2
log
@Added include of conf.h
@
text
@d20 1
a20 1
static char RCSid[] = "@@(#)$Header: /m/cad/libplot3/RCS/number.c,v 10.1 1991/10/12 06:36:37 mike Rel4_0 gdurf $ (BRL)";
d47 1
a47 1
	tp_2symbol( fp, buf, x, y, cscale, theta );
@


10.1
log
@Release_4.0
@
text
@d20 1
a20 1
static char RCSid[] = "@@(#)$Header: /m/cad/libplot3/RCS/number.c,v 9.4 91/07/02 01:14:56 mike Exp $ (BRL)";
d22 2
@


9.4
log
@TIG-Pack is now part of libplot3
@
text
@d20 1
a20 1
static char RCSid[] = "@@(#)$Header: /m/cad/libplot3/RCS/number.c,v 9.3 91/05/31 11:26:03 mike Exp $ (BRL)";
@


9.3
log
@ANSI prototypes
@
text
@d20 1
a20 1
static char RCSid[] = "@@(#)$Header: /m/cad/libtig/RCS/number.c,v 9.2 90/11/25 11:42:27 cjohnson Exp $ (BRL)";
a26 1
#include "./tig.h"
@


9.2
log
@Change the fortran routines to use the F macro from
libplot3/fortran.c to generate subroutine names. (case and trailing 
underscore)
@
text
@d20 1
a20 1
static char RCSid[] = "@@(#)$Header: /m/cad/libtig/RCS/number.c,v 9.1 89/05/19 05:49:48 mike Rel3_5 $ (BRL)";
d24 3
d33 2
a34 1
int	x, y;		/* first char position */
d50 1
a50 1
F(f2numb, F2NUMB)( fp, input, x, y, cscale, theta, digits )
d53 2
a54 1
int	*x, *y;
@


9.1
log
@Release_3.5
@
text
@d20 1
a20 1
static char RCSid[] = "@@(#)$Header: number.c,v 8.1 88/10/05 00:28:44 mike Rel3_0 $ (BRL)";
d24 1
d46 1
a46 1
F2NUMB( fp, input, x, y, cscale, theta, digits )
@


8.1
log
@Release_3.0
@
text
@d20 1
a20 1
static char RCSid[] = "@@(#)$Header: number.c,v 7.4 88/05/13 22:39:50 mike Exp $ (BRL)";
@


7.4
log
@lint fix
@
text
@d20 1
a20 1
static char RCSid[] = "@@(#)$Header: number.c,v 7.3 88/02/08 23:41:38 mike Locked $ (BRL)";
@


7.3
log
@Latest round of cleanups and name changes.
@
text
@d20 1
a20 1
static char RCSid[] = "@@(#)$Header$ (BRL)";
d25 1
d44 1
@


7.2
log
@Beginning of new version for floating point.
@
text
@d4 2
d7 11
a17 6
 *	Terminal Independant Graphics Display Package
 *		Mike Muuss  August 01, 1978
 *
 *	This routine is used to convert a floating point number into
 * a string of ASCII characters, and then call SYMBOL(TIG) to plot
 * the number with the specified parameters  onto the output plot.
d19 4
a23 1
#include <math.h>
d25 1
a25 1
tp_number( fp, input, x, y, cscale, theta, digits )
d40 1
a40 1
	tp_symbol( fp, buf, x, y, cscale, theta );
d43 2
a44 6

/*
 *	FORTRAN-IV Interface
 */
fnumber( fp, input, x, y, cscale, theta, digits )
FILE	*fp;
d51 1
a51 1
	tp_number(fp, *input, *x, *y, *cscale, *theta, *digits);
@


7.1
log
@Release 2.3
@
text
@d28 1
a28 1
	sprintf( fmt, "%%%d.%dg", digits, digits );
@


6.1
log
@Release 2.0
@
text
@@


5.1
log
@Release 1.24
@
text
@@


1.1
log
@Initial revision
@
text
@@
