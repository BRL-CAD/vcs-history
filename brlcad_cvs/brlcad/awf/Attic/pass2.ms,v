head	1.2;
access;
symbols
	ansi-20040405-merged:1.1
	postmerge-20040405-ansi:1.1
	premerge-20040404-ansi:1.1
	postmerge-autoconf:1.1
	autoconf-freeze:1.1
	premerge-autoconf:1.1
	ansi-20040316-freeze:1.1
	postmerge-20040315-windows:1.1
	premerge-20040315-windows:1.1
	windows-20040315-freeze:1.1
	autoconf-20031203:1.1
	autoconf-20031202:1.1
	autoconf-branch:1.1.0.14
	phong-branch:1.1.0.12
	photonmap-branch:1.1.0.10
	rel-6-1-DP:1.1
	windows-branch:1.1.0.8
	rel-6-0-2:1.1
	ansi-branch:1.1.0.6
	rel-6-0-1-branch:1.1.0.4
	hartley-6-0-post:1.1
	hartley-6-0-pre:1.1
	rel-6-0-1:1.1
	rel-6-0:1.1
	rel-5-4:1.1
	offsite-5-3-pre:1.1
	rel-5-3:1.1
	rel-5-2:1.1
	rel-5-1-branch:1.1.0.2
	rel-5-1:1.1
	rel-5-0:1.1
	rel-5-0-beta:1.1
	rel-4-5:1.1
	ctj-4-5-post:1.1
	ctj-4-5-pre:1.1
	rel-4-4:1.1
	rel-4-0:1.1;
locks; strict;
comment	@\" @;


1.2
date	2004.05.24.04.17.25;	author morrison;	state dead;
branches;
next	1.1;

1.1
date	91.06.23.01.59.41;	author mike;	state Exp;
branches;
next	;


desc
@Part of AWF, by Henry Spencer
@


1.2
log
@moved to src/other/awf/
@
text
@/^\.\^b/ {			# initialization
	nhnos[1] = 0
	next
}
/^[^.]/ {			# text line -- reached only for input traps
	if (afternext == ",tP")
		print dobreak, "toindent"
	afternext = ""
	next
}
/^\.nH/ {			# fooling around for numbered headings
	no = 1
	if (NF > 1)
		no = $2
	if (no == 0) {
		nhnos[1] = 0
		no = 1
	}
	nhnos[no]++
	for (n in nhnos)
		if (n > no)
			nhnos[n] = 0
	s = ""
	for (n = 1; n <= no; n++)
		s = s nhnos[n] "."
	strings["Nh"] = s		# result in string for macro to grab
	next
}
/^\.ds/ {			# to catch special strings
	if ($3 !~ /^"/)
		v = $3
	else
		v = substr($0, index($0, "\"")+1)
	if ($2 ~ /^[LCR][HF]$/)
		print nobreak, $2, v
	# fallthrough to normal .ds processing in macro-independent stuff
}
/^\.\^e/ {			# finalization
	next
}
@


1.1
log
@Initial revision
@
text
@@

