head	11.4;
access;
symbols
	ansi-20040405-merged:11.3
	postmerge-20040405-ansi:11.3
	premerge-20040404-ansi:11.3
	postmerge-autoconf:11.3
	autoconf-freeze:11.3
	premerge-autoconf:11.3
	ansi-20040316-freeze:11.3
	postmerge-20040315-windows:11.3
	premerge-20040315-windows:11.3
	windows-20040315-freeze:11.3
	autoconf-20031203:11.3
	autoconf-20031202:11.3
	autoconf-branch:11.3.0.14
	phong-branch:11.3.0.12
	photonmap-branch:11.3.0.10
	rel-6-1-DP:11.3
	windows-branch:11.3.0.8
	rel-6-0-2:11.3
	ansi-branch:11.3.0.6
	rel-6-0-1-branch:11.3.0.4
	hartley-6-0-post:11.3
	hartley-6-0-pre:11.3
	rel-6-0-1:11.3
	rel-6-0:11.3
	rel-5-4:11.3
	offsite-5-3-pre:11.3
	rel-5-3:11.3
	rel-5-2:11.3
	rel-5-1-branch:11.3.0.2
	rel-5-1:11.3
	rel-5-0:11.3
	rel-5-0-beta:11.3
	rel-4-5:11.3
	ctj-4-5-post:11.3
	ctj-4-5-pre:11.3
	rel-4-4:11.1
	rel-4-0:10.1
	rel-3-5:2.1
	rel-3-0:2.1
	rel-2-3:2.1
	rel-2-0:2.1
	rel-1-24:2.1
	rel-1-20:2.0
	rel-1-10:2.0
	rt-2:2.0;
locks; strict;
comment	@ * @;


11.4
date	2004.05.21.17.48.34;	author morrison;	state dead;
branches;
next	11.3;

11.3
date	97.01.03.17.42.17;	author jra;	state Exp;
branches;
next	11.2;

11.2
date	95.06.21.03.45.48;	author gwyn;	state Exp;
branches;
next	11.1;

11.1
date	95.01.04.10.35.25;	author mike;	state Rel4_4;
branches;
next	10.1;

10.1
date	91.10.12.06.54.06;	author mike;	state Rel4_0;
branches;
next	2.7;

2.7
date	91.10.01.02.09.43;	author mike;	state Exp;
branches;
next	2.6;

2.6
date	91.09.30.02.20.05;	author mike;	state Exp;
branches;
next	2.5;

2.5
date	91.08.30.21.58.20;	author mike;	state Exp;
branches;
next	2.4;

2.4
date	91.08.30.19.27.58;	author mike;	state Exp;
branches;
next	2.3;

2.3
date	91.08.30.19.14.42;	author mike;	state Exp;
branches;
next	2.2;

2.2
date	91.08.30.17.49.17;	author mike;	state Exp;
branches;
next	2.1;

2.1
date	87.04.14.20.03.48;	author dpk;	state BRL;
branches;
next	2.0;

2.0
date	84.12.26.16.48.04;	author dpk;	state Exp;
branches;
next	;


desc
@System dependent module
Tailors jove for a particular systems conventions.
@


11.4
log
@moved to src/other/jove/
@
text
@/*
 *		J O V E _ T U N E . C
 */

#include	"./jove.h"

#if ! HAS_TEMPNAM
char	TempFile[]	= "/usr/tmp/jovetXXXXXX";
			/* Where mktemp should put the temp file */

char	ProcTmp[]	= "/usr/tmp/jovepXXXXXX";
			/* Where jove should put process temp files */
#endif

char	BinShell[]	= "/bin/sh";	/* /bin/sh (preferably) or /bin/csh */
					/* getenv("SHELL") will overide */
/* Following paths are edited during the "make" process to create tune.c from jove_tune.c: */
char	Describe[]	= "LibDir/describe.com";
char	Findcom[]	= "BinDir/findcom";
char	Joverc[]	= "LibDir/joverc";
			/* Where to search for the describe command */
int	Dfltmode	= 0644;

#ifdef pdp11
char	cerrfmt[] = "\\([^:]*\\):\\([0-9][0-9]*\\):";
	/* Very old pdp11 C error scanf format string for errors of the form
	 * filename:linenum: error message
	 */
#else
# ifdef CRAY
	/* Cray has their own stupid error format */
char	cerrfmt[] = " \\* [FW] \\* :\\([^:]*\\): \\([0-9][0-9]*\\):";
	/* C error scanf format string for errors of the form
	 * sp * sp [FW] sp * sp :filename: sp linenum:sp error message.
	 */
# else
#    if	(defined(__sgi) && defined(__mips))
char	cerrfmt[] = "[^:]*: [^:]*: \\([^:]*\\), line \\([0-9][0-9]*\\):";
	/* SGI has a new format, too.
	 * accom: Error: filename, line linenum: error message.
	 *         ^___ or "Warning ###" here
	 */
#    else
char	cerrfmt[] = "\"\\([^:]*\\)\", line \\([0-9][0-9]*\\):";
	/* C error scanf format string for errors of the form
	 * "filename", line linenum: error message.
	 * used on all SYSV and all modern BSD systems.
	 */
#    endif
# endif
#endif

char	lerrfmt[] = "\"\\([^:]*\\)\", line \\([0-9][0-9]*\\):";
	/* Lint error for errors of the form
	 * "filename", line linenum: error message.
	 */
@


11.3
log
@Mods for Irix 6.2
@
text
@@


11.2
log
@Eliminated blank line at EOF.
String literals are now arrays rather than pointers.
ProcTmp now points into /usr/tmp; was /tmp.
TempFilePrefix was unused.
Configure $(LIBDIR) paths during make, to produce tune.c which is compiled.
@
text
@d19 1
a19 1
char	Findcom[]	= "LibDir/findcom";
@


11.1
log
@Release_4.4
@
text
@d5 4
a8 2
char	*TempFilePrefix	= "jovet";	/* for tempnam */
char	*TempFile	= "/usr/tmp/jovetXXXXXX";
d11 1
a11 1
char	*ProcTmp	= "/tmp/jovepXXXXXX";
d13 1
d15 1
a15 1
char	*BinShell	= "/bin/sh";	/* /bin/sh or /bin/csh */
d17 4
a20 3
char	*Describe	= "/usr/brl/lib/jove/describe.com";
char	*Findcom	= "/usr/brl/lib/jove/findcom";
char	*Joverc		= "/usr/brl/lib/jove/joverc";
d25 1
a25 1
char	*cerrfmt = "\\([^:]*\\):\\([0-9][0-9]*\\):";
d32 1
a32 1
char	*cerrfmt = " \\* [FW] \\* :\\([^:]*\\): \\([0-9][0-9]*\\):";
d38 1
a38 1
char	*cerrfmt = "[^:]*: [^:]*: \\([^:]*\\), line \\([0-9][0-9]*\\):";
d44 1
a44 1
char	*cerrfmt = "\"\\([^:]*\\)\", line \\([0-9][0-9]*\\):";
d53 1
a53 1
char	*lerrfmt = "\"\\([^:]*\\)\", line \\([0-9][0-9]*\\):";
a56 1

@


10.1
log
@Release_4.0
@
text
@@


2.7
log
@Finally nailed down the dasterdly SGI error message format.
@
text
@@


2.6
log
@SGI has their own error message format, too.
@
text
@d34 1
a34 1
char	*cerrfmt = "[^:]*: Error: \\([^:]*\\), line \\([0-9][0-9]*\\):";
d37 1
@


2.5
log
@Always support mktemp and tempnam both, with configured strings, anyways..
@
text
@d33 6
d44 1
@


2.4
log
@More work on C compiler error parsing.
Now modern BSD systems will work well, too.
@
text
@d5 1
a5 3
#ifdef SYS5_SGI
char	*TempFile	= "jovetXXXXXX";
#else
d7 2
a8 1
#endif			/* Where jove should put the temp file */
d11 1
@


2.3
log
@Modified to successfully parse C compiler errors, even on more modern
compilers, and on the oddball CRAYs.
@
text
@d20 1
a20 1
#ifdef BSD
d22 1
a22 1
	/* C error scanf format string for errors of the form
d35 2
a36 1
	 * "filename", line linenum: error message., used on SYSV.
@


2.2
log
@Paul Stay mods for ANSI C
@
text
@d20 1
d25 14
@


2.1
log
@Changed default mode to 644.
@
text
@d5 5
a9 2
char	*TempFile	= "/tmp/jovetXXXXXX";
			/* Where jove should put the temp file */
@


2.0
log
@System as distributed to Berkeley 26 Dec 84
@
text
@d15 1
a15 1
int	Dfltmode	= 0666;
@
