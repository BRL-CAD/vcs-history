head	14.25;
access;
symbols
	rel-7-10-4:14.24
	STABLE:14.24.0.2
	stable-branch:14.3
	rel-7-10-2:14.21
	rel-7-10-0:14.14
	rel-7-8-4:14.12
	rel-7-8-2:14.12
	rel-7-8-0:14.12
	trimnurbs-branch:14.12.0.2
	help:14.12
	temp_tag:14.11
	bobWinPort-20051223-freeze:14.10
	postmerge-20051223-bobWinPort:14.11
	premerge-20051223-bobWinPort:14.11
	rel-7-6-6:14.11
	rel-7-6-4:14.10
	rel-7-6-2:14.10
	rel-7-6-branch:14.10.0.4
	rel-7-6-0:14.10
	rel-7-4-2:14.7.2.1
	rel-7-4-branch:14.7.0.2
	bobWinPort:14.10.0.2
	rel-7-4-0:14.7
	rel-7-2-6:14.6
	rel-7-2-4:14.3
	rel-7-2-2:14.3
	rel-7-2-0:14.1
	rel-7-0-4:14.1
	rel-7-0-2:14.1
	rel-7-0-1:14.1
	opensource-post:14.1
	opensource-pre:1.3
	rel-7-0-branch:1.3.0.2
	rel-7-0:1.3
	postmerge-20040405-ansi:1.2
	premerge-20040404-ansi:1.2
	postmerge-autoconf:1.2
	AUTOCONF:1.1.0.2;
locks; strict;
comment	@# @;


14.25
date	2007.10.02.23.52.18;	author brlcad;	state Exp;
branches;
next	14.24;

14.24
date	2007.08.28.21.00.56;	author erikgreenwald;	state Exp;
branches;
next	14.23;

14.23
date	2007.08.28.20.43.14;	author erikgreenwald;	state Exp;
branches;
next	14.22;

14.22
date	2007.08.28.15.56.42;	author erikgreenwald;	state Exp;
branches;
next	14.21;

14.21
date	2007.06.27.10.10.21;	author brlcad;	state Exp;
branches;
next	14.20;

14.20
date	2007.05.26.20.26.03;	author brlcad;	state Exp;
branches;
next	14.19;

14.19
date	2007.05.26.14.28.49;	author brlcad;	state Exp;
branches;
next	14.18;

14.18
date	2007.05.20.19.31.11;	author brlcad;	state Exp;
branches;
next	14.17;

14.17
date	2007.05.19.02.27.57;	author brlcad;	state Exp;
branches;
next	14.16;

14.16
date	2007.05.19.01.45.40;	author brlcad;	state Exp;
branches;
next	14.15;

14.15
date	2007.05.19.01.43.22;	author brlcad;	state Exp;
branches;
next	14.14;

14.14
date	2007.02.14.09.32.55;	author brlcad;	state Exp;
branches;
next	14.13;

14.13
date	2007.01.27.01.41.28;	author brlcad;	state Exp;
branches;
next	14.12;

14.12
date	2006.02.27.04.29.25;	author brlcad;	state Exp;
branches;
next	14.11;

14.11
date	2005.12.07.22.30.48;	author brlcad;	state Exp;
branches;
next	14.10;

14.10
date	2005.07.27.20.37.22;	author erikgreenwald;	state Exp;
branches;
next	14.9;

14.9
date	2005.07.16.21.32.25;	author brlcad;	state Exp;
branches;
next	14.8;

14.8
date	2005.07.16.21.05.12;	author brlcad;	state Exp;
branches;
next	14.7;

14.7
date	2005.06.24.23.51.05;	author brlcad;	state Exp;
branches
	14.7.2.1;
next	14.6;

14.6
date	2005.06.01.20.48.28;	author brlcad;	state Exp;
branches;
next	14.5;

14.5
date	2005.06.01.20.23.00;	author brlcad;	state Exp;
branches;
next	14.4;

14.4
date	2005.06.01.19.48.59;	author brlcad;	state Exp;
branches;
next	14.3;

14.3
date	2005.03.29.04.05.45;	author brlcad;	state Exp;
branches;
next	14.2;

14.2
date	2005.03.29.04.02.21;	author brlcad;	state Exp;
branches;
next	14.1;

14.1
date	2004.11.16.19.42.08;	author morrison;	state Exp;
branches;
next	1.3;

1.3
date	2004.05.13.18.28.01;	author morrison;	state Exp;
branches;
next	1.2;

1.2
date	2004.03.18.18.32.15;	author erikg;	state Exp;
branches;
next	1.1;

1.1
date	2003.12.29.15.45.18;	author erikg;	state dead;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2003.12.29.15.45.18;	author erikg;	state Exp;
branches;
next	1.1.2.2;

1.1.2.2
date	2004.03.18.15.37.16;	author morrison;	state dead;
branches;
next	;

14.7.2.1
date	2005.08.16.21.03.44;	author brlcad;	state Exp;
branches;
next	;


desc
@@


14.25
log
@set the LD_LIBRARY_PATH and DYLD_LIBRARY_PATH so that we can find tcl/tk prior to installation
@
text
@# $Id: Makefile.am,v 14.24 2007/08/28 21:00:56 erikgreenwald Exp $

.PHONY : clean clobber run bench

bin_PROGRAMS = pixcmp
pixcmp_SOURCES = pixcmp.c

dist_bin_SCRIPTS = \
	benchmark

man_MANS = \
	benchmark.1 \
	pixcmp.1

EXTRA_DIST = \
	$(man_MANS) \
	${dist_bin_SCRIPTS} \
	lgt.sh \
	run.sh \
	try.sh \
	viewdiff.sh

benchmark: run.sh
	cp $(top_srcdir)/bench/run.sh benchmark

run: all
	@@if test -r ${srcdir}/run.sh ; then \
		LD_LIBRARY_PATH=$(top_builddir)/src/other/tcl/unix:$(top_builddir)/src/other/tk/unix:$$LD_LIBRARY_PATH \
		DYLD_LIBRARY_PATH=$(top_builddir)/src/other/tcl/unix:$(top_buildir)/src/other/tk/unix:$$DYLD_LIBRARY_PATH \
		${SH} ${srcdir}/run.sh ; \
	fi
	@@$(ECHO) "---"
	@@$(ECHO) "Run 'make clean' in the bench directory to delete the log"
	@@$(ECHO) "and image files generated during the benchmark analysis."
	@@$(ECHO)

bench: run

clean:
	@@${SH} ${srcdir}/run.sh clean

clobber:
	@@${SH} ${srcdir}/run.sh clobber

CLEANFILES = \
	benchmark

DEPS=src/rt db

include $(top_srcdir)/misc/Makefile.defs
@


14.24
log
@DEPS updates
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.23 2007/08/28 20:43:14 erikgreenwald Exp $
d27 5
a31 1
	@@${SH} ${srcdir}/run.sh
@


14.23
log
@DEPS updates
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.22 2007/08/28 15:56:42 erikgreenwald Exp $
d44 1
a44 1
DEPS=src/rt src/conv db
@


14.22
log
@fix for "out of dir" builds
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.21 2007/06/27 10:10:21 brlcad Exp $
d44 2
@


14.21
log
@make clean can clean up after benchmark runs too now.  encourage clean instead of clobber so that the run files are kept.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.20 2007/05/26 20:26:03 brlcad Exp $
d27 1
a27 1
	@@${SH} run.sh
d36 1
a36 1
	@@${SH} run.sh clean
d39 1
a39 1
	@@${SH} run.sh clobber
@


14.20
log
@build system no longer needs to know or care -- delegate cleanup to the benchmark tool directly
@
text
@d1 3
a3 1
# $Id: Makefile.am,v 14.19 2007/05/26 14:28:49 brlcad Exp $
a7 3
clobber:
	@@${SH} run.sh clobber

a25 2
.PHONY : clobber run bench

d29 2
a30 2
	@@$(ECHO) "Run 'make clobber' to delete the log and image files generated"
	@@$(ECHO) "during the benchmark analysis."
d35 6
@


14.19
log
@delegate benchmark rules down to the bench dir so they're only in one place (and so files aren't generated in the top-level), mirroring what regress does.  inform the user when benchmark completes about the clobber rule.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.18 2007/05/20 19:31:11 brlcad Exp $
d7 1
a7 7
	@@$(ECHO) "About to wipe out all pictures and binary files in this directory"
	@@$(ECHO) "Send SIGINT (type ^C) within 5 seconds to abort"
	@@sleep 5
	@@for i in moss world star bldg391 m35 sphflake ; do \
		echo rm -f $$i.log $$i.pix $$i.log.[0-9]* $$i.pix.[0-9]* ;\
		rm -f $$i.log $$i.pix $$i.log.[0-9]* $$i.pix.[0-9]* ;\
	done
d34 1
@


14.18
log
@even more specific, to be sure we only delete benchmark files by iterating over each test.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.17 2007/05/19 02:27:57 brlcad Exp $
d36 4
a39 1
	${SH} run.sh
@


14.17
log
@be even more specific on clobber file patterns
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.16 2007/05/19 01:45:40 brlcad Exp $
d10 4
a13 2
	rm -f *.log.[0-9]* *.pix.[0-9]*	# old versions
	rm -f *.log *.pix	# last try
@


14.16
log
@tick tock, 5 secs, boom.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.15 2007/05/19 01:43:22 brlcad Exp $
d10 1
a10 1
	rm -f *.log.* *.pix.*	# old versions
@


14.15
log
@clobber is phony
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.14 2007/02/14 09:32:55 brlcad Exp $
d8 2
a9 2
	@@$(ECHO) "Send SIGINT (type ^C) within 3 seconds to abort"
	@@sleep 3
@


14.14
log
@include the new pixcmp.1 manual page
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.13 2007/01/27 01:41:28 brlcad Exp $
d31 1
a31 1
.PHONY : run bench
@


14.13
log
@ws. lots and lots of ws.  see sh/ws.sh for details (cases 'abcdeg').
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.12 2006/02/27 04:29:25 brlcad Exp $
d17 2
a18 1
	benchmark.1
@


14.12
log
@install and provide the new benchmark manpage
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.11 2005/12/07 22:30:48 brlcad Exp $
a40 1

@


14.11
log
@perf.sh is gone, absorbed into 'benchmark'
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.10 2005/07/27 20:37:22 erikgreenwald Exp $
d16 3
d20 1
@


14.10
log
@fix for "out of dir" builds
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.9 2005/07/16 21:32:25 brlcad Exp $
d14 1
a14 2
	benchmark \
	perf.sh
@


14.9
log
@rename recheck.sh to viewdiff.sh and rewrite it in the process, decoupling it from machinetype.sh and improving the tool checks in the process
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.8 2005/07/16 21:05:12 brlcad Exp $
d25 1
a25 1
	cp run.sh benchmark
@


14.8
log
@the pretty.sh script is now moved from 'bench' to 'pix' dir and renamed to cube.rt
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.7 2005/06/24 23:51:05 brlcad Exp $
a19 1
	recheck.sh \
d21 2
a22 1
	try.sh
@


14.7
log
@add Makefile.defs as an include, still testing
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.6 2005/06/01 20:48:28 brlcad Exp $
a19 1
	pretty.sh \
@


14.7.2.1
log
@merge in changes through Aug10 for 7.4.2 release
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.10 2005/07/27 20:37:22 erikgreenwald Exp $
d20 2
d23 1
a23 2
	try.sh \
	viewdiff.sh
d26 1
a26 1
	cp $(top_srcdir)/bench/run.sh benchmark
@


14.6
log
@newline
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.5 2005/06/01 20:23:00 brlcad Exp $
d37 3
@


14.5
log
@remove the benchmark script on a make clean
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.4 2005/06/01 19:48:59 brlcad Exp $
d36 1
a36 1
	benchmark@


14.4
log
@include the run.sh and perf.sh script as part of the standard install, calling run.sh 'benchmark' for installation purposes
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.3 2005/03/29 04:05:45 brlcad Exp $
d34 3
@


14.3
log
@might as well say 'type' instead of 'typ.' ..
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.2 2005/03/29 04:02:21 brlcad Exp $
d13 4
d18 1
a19 1
	perf.sh \
d25 4
a28 1
.PHONY : benchmark bench
d30 1
a30 1
benchmark: all
d33 1
a33 1
bench: benchmark
@


14.2
log
@separate the extra_dist to one per line, make the benchmark targets explict phonies
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.1 2004/11/16 19:42:08 morrison Exp $
d8 1
a8 1
	@@$(ECHO) "Send SIGINT (typ. ^C) within 3 seconds to abort"
@


14.1
log
@dawn of a new revision.  it shall be numbered 14 to match release 7.  begin the convergence by adding emacs/vi local variable footer blocks to encourage consistent formatting.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.3 2004/05/13 18:28:01 morrison Exp $
d7 2
a8 2
	@@echo "About to wipe out all pictures and binary files in this directory"
	@@echo "Send SIGINT (typ. ^C) within 3 seconds to abort"
d13 9
a21 1
EXTRA_DIST = lgt.sh perf.sh pretty.sh recheck.sh run.sh try.sh
d24 1
a24 1
	sh run.sh
@


1.3
log
@allow running benchmark directly from here
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.2 2004/03/18 18:32:15 erikg Exp $
@


1.2
log
@autoconf merge
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.1.2.1 2003/12/29 15:45:18 erikg Exp $
d14 5
@


1.1
log
@file Makefile.am was initially added on branch AUTOCONF.
@
text
@d1 13
@


1.1.2.1
log
@new automake files
@
text
@a0 13
# $Id$

bin_PROGRAMS = pixcmp
pixcmp_SOURCES = pixcmp.c

clobber:
	@@echo "About to wipe out all pictures and binary files in this directory"
	@@echo "Send SIGINT (typ. ^C) within 3 seconds to abort"
	@@sleep 3
	rm -f *.log.* *.pix.*	# old versions
	rm -f *.log *.pix	# last try

EXTRA_DIST = lgt.sh perf.sh pretty.sh recheck.sh run.sh try.sh
@


1.1.2.2
log
@testing
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.1.2.1 2003/12/29 15:45:18 erikg Exp $
@


