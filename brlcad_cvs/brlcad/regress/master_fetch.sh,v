head	1.6;
access;
symbols
	rel-7-10-4:1.5
	STABLE:1.5.0.2
	rel-7-10-2:1.5
	rel-7-10-0:1.5
	rel-7-8-4:1.4
	rel-7-8-2:1.4
	rel-7-8-0:1.4
	trimnurbs-branch:1.4.0.2
	help:1.4
	temp_tag:1.4
	postmerge-20051223-bobWinPort:1.4
	premerge-20051223-bobWinPort:1.4
	rel-7-6-6:1.4
	rel-7-6-branch:1.3.0.2
	rel-7-6-4:1.3;
locks; strict;
comment	@# @;


1.6
date	2007.10.22.04.36.20;	author brlcad;	state Exp;
branches;
next	1.5;

1.5
date	2007.01.27.00.31.38;	author brlcad;	state Exp;
branches;
next	1.4;

1.4
date	2005.12.18.00.29.04;	author brlcad;	state Exp;
branches;
next	1.3;

1.3
date	2005.10.23.04.44.27;	author brlcad;	state Exp;
branches
	1.3.2.1;
next	1.2;

1.2
date	2005.09.12.16.57.53;	author lbutler;	state Exp;
branches;
next	1.1;

1.1
date	2005.09.12.14.53.12;	author lbutler;	state Exp;
branches;
next	;

1.3.2.1
date	2005.10.23.04.44.27;	author brlcad;	state dead;
branches;
next	1.3.2.2;

1.3.2.2
date	2005.11.13.13.46.10;	author brlcad;	state Exp;
branches;
next	;


desc
@@


1.6
log
@more consistent echo output
@
text
@#!/bin/sh

#
# If the user specified a working directory, we cd into it.
#
if [ $# = 1 ] ; then
    if [ -d $1 ] ; then
	cd $1
    else
	echo "$1 is not a directory"
    fi
fi

export MYNAME=`hostname | awk -F '.' '{print $1}'`
export START_TIME=`date "+%y%m%d%H%M"`
export LOG_FILE=`pwd`/${MYNAME}_fetch_${START_TIME}.log

# Delete any leftovers
rm -rf $HOSTS brlcad

# Fetch a clean copy of the repository
echo "fetching archive" > $LOG_FILE 2>&1
CVS_RSH=ssh
export CVS_RSH


# cvs -z3 -d:pserver:anonymous@@cvs.sourceforge.net:/cvsroot/brlcad co -P brlcad >> $LOG_FILE 2>&1

cvs -z3 -d:ext:lbutler@@cvs.sourceforge.net:/cvsroot/brlcad co -P brlcad


if [ ! -d brlcad ] ; then
    echo "unable to extract source from CVS repository"
    exit 1
fi

#
# prepare the build
#
/bin/sh brlcad/regress/master_prep.sh
@


1.5
log
@ws, test two
@
text
@d10 1
a10 1
	/bin/echo $1 is not a directory
d22 1
a22 1
/bin/echo fetching archive > $LOG_FILE 2>&1
d33 1
a33 1
    /bin/echo "unable to extract source from CVS repository"
@


1.4
log
@negative numbers are not valid exit codes.  they're 8 bit unsigned values, so just exit 1 instead to indicate the error.
@
text
@a40 1

@


1.3
log
@trailing ws
@
text
@d34 1
a34 1
    exit -1
@


1.3.2.1
log
@file master_fetch.sh was added on branch rel-7-6-branch on 2005-11-13 13:46:10 +0000
@
text
@d1 41
@


1.3.2.2
log
@merge changes from HEAD aka rel-7-6-4 to the rel-7-6-branch just in case someone peeks a gander or tries to continue/build the branch
@
text
@a0 41
#!/bin/sh

#
# If the user specified a working directory, we cd into it.
#
if [ $# = 1 ] ; then
    if [ -d $1 ] ; then
	cd $1
    else
	/bin/echo $1 is not a directory
    fi
fi

export MYNAME=`hostname | awk -F '.' '{print $1}'`
export START_TIME=`date "+%y%m%d%H%M"`
export LOG_FILE=`pwd`/${MYNAME}_fetch_${START_TIME}.log

# Delete any leftovers
rm -rf $HOSTS brlcad

# Fetch a clean copy of the repository
/bin/echo fetching archive > $LOG_FILE 2>&1
CVS_RSH=ssh
export CVS_RSH


# cvs -z3 -d:pserver:anonymous@@cvs.sourceforge.net:/cvsroot/brlcad co -P brlcad >> $LOG_FILE 2>&1

cvs -z3 -d:ext:lbutler@@cvs.sourceforge.net:/cvsroot/brlcad co -P brlcad


if [ ! -d brlcad ] ; then
    /bin/echo "unable to extract source from CVS repository"
    exit -1
fi

#
# prepare the build
#
/bin/sh brlcad/regress/master_prep.sh

@


1.2
log
@Now getting the latest and greatest by doing a developer fetch instead of anonymous fetch
@
text
@d29 1
a29 1
cvs -z3 -d:ext:lbutler@@cvs.sourceforge.net:/cvsroot/brlcad co -P brlcad 
@


1.1
log
@Scripts to support new architecture for nightly regression tests
@
text
@d25 6
a30 1
cvs  -z3 -d:ext:lbutler@@cvs.sf.net:/cvsroot/brlcad co -P brlcad >> $LOG_FILE 2>&1
a41 4
#
# This overwrites this script.
#
cp brlcad/regress/master_fetch.sh ./@

