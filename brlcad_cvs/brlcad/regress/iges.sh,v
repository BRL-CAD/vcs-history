head	14.11;
access;
symbols
	rel-7-10-4:14.9
	STABLE:14.9.0.2
	stable-branch:14.2
	rel-7-10-2:14.9
	rel-7-10-0:14.8
	rel-7-8-4:14.8
	rel-7-8-2:14.8
	rel-7-8-0:14.6
	trimnurbs-branch:14.6.0.2
	help:14.6
	temp_tag:14.6
	bobWinPort-20051223-freeze:14.2
	postmerge-20051223-bobWinPort:14.6
	premerge-20051223-bobWinPort:14.6
	rel-7-6-6:14.6
	rel-7-6-4:14.5
	rel-7-6-2:14.4
	rel-7-6-branch:14.4.0.2
	rel-7-6-0:14.4
	rel-7-4-2:14.2
	rel-7-4-branch:14.2.0.4
	bobWinPort:14.2.0.2
	rel-7-4-0:14.2
	rel-7-2-6:14.2
	rel-7-2-4:14.2
	rel-7-2-2:14.2
	rel-7-2-0:14.2;
locks; strict;
comment	@# @;


14.11
date	2007.10.22.04.36.20;	author brlcad;	state Exp;
branches;
next	14.10;

14.10
date	2007.10.14.05.31.15;	author brlcad;	state Exp;
branches;
next	14.9;

14.9
date	2007.06.03.06.32.53;	author brlcad;	state Exp;
branches;
next	14.8;

14.8
date	2006.04.20.21.45.09;	author lbutler;	state Exp;
branches;
next	14.7;

14.7
date	2006.04.20.15.19.53;	author lbutler;	state Exp;
branches;
next	14.6;

14.6
date	2005.11.15.03.22.27;	author brlcad;	state Exp;
branches;
next	14.5;

14.5
date	2005.10.23.04.44.27;	author brlcad;	state Exp;
branches;
next	14.4;

14.4
date	2005.08.25.18.40.45;	author lbutler;	state Exp;
branches
	14.4.2.1;
next	14.3;

14.3
date	2005.08.25.04.18.31;	author lbutler;	state Exp;
branches;
next	14.2;

14.2
date	2005.02.17.23.45.43;	author lbutler;	state Exp;
branches;
next	14.1;

14.1
date	2005.02.17.22.31.56;	author lbutler;	state Exp;
branches;
next	;

14.4.2.1
date	2005.11.13.13.46.10;	author brlcad;	state Exp;
branches;
next	;


desc
@@


14.11
log
@more consistent echo output
@
text
@#!/bin/sh

LD_LIBRARY_PATH=../src/other/tcl/unix:../src/other/tk/unix:$$LD_LIBRARY_PATH
DYLD_LIBRARY_PATH=../src/other/tcl/unix:../src/other/tk/unix:$$DYLD_LIBRARY_PATH
export LD_LIBRARY_PATH DYLD_LIBRARY_PATH

rm -f iges.log iges.g iges_file.iges iges_stdout_new.g iges_new.g iges_stdout.iges iges_file.iges

STATUS=0

../src/mged/mged -c 2> iges.log <<EOF
opendb iges.g y

units mm
size 1000
make box.s arb8
facetize -n box.nmg box.s
kill box.s
q
EOF

../src/conv/iges/g-iges -o iges_file.iges iges.g box.nmg 2>> iges.log> /dev/null
../src/conv/iges/g-iges iges.g box.nmg > iges_stdout.iges 2>> iges.log

../src/conv/iges/iges-g -o iges_new.g -p iges_file.iges 2>> iges.log

if [ $? != 0 ] ; then
    echo g-iges/iges-g FAILED
    STATUS=-1
else
    echo g-iges/iges-g completed successfully
fi


../src/conv/iges/iges-g -o iges_stdout_new.g -p iges_stdout.iges 2>> iges.log

if [ $? != 0 ] ; then
    echo g-iges/iges-g FAILED
    STATUS=-1
else
    echo g-iges/iges-g completed successfully
fi


if [ X$STATUS = X0 ] ; then
    echo "-> iges.sh succeeded"
else
    echo "-> iges.sh FAILED"
fi

exit $STATUS

# Local Variables:
# mode: sh
# tab-width: 8
# sh-indentation: 4
# sh-basic-offset: 4
# indent-tabs-mode: t
# End:
# ex: shiftwidth=4 tabstop=8
@


14.10
log
@emphasize the result if it's a failure
@
text
@d28 1
a28 1
    /bin/echo g-iges/iges-g FAILED
d31 1
a31 1
    /bin/echo g-iges/iges-g completed successfully
d38 1
a38 1
    /bin/echo g-iges/iges-g FAILED
d41 1
a41 1
    /bin/echo g-iges/iges-g completed successfully
d46 1
a46 1
    /bin/echo '-> iges.sh succeeded'
d48 1
a48 1
    /bin/echo '-> iges.sh FAILED'
@


14.9
log
@set the ld_library_path so the binaries invoked by the test can find the tcl/tk libraries.
@
text
@d48 1
a48 1
    /bin/echo '-> iges.sh failed'
d51 1
d53 8
a60 1
exit $STATUS
@


14.8
log
@Fixed various sh/csh syntax errrors.
@
text
@d3 3
a5 1
set +
@


14.7
log
@Updates to make it easier to check the status of a regression test.  Each test
now reports its notion of whether it succeeded or failed.
@
text
@d43 1
a43 1
if [ $STATUS == 0 ] ; then
d47 1
a47 1
endif
@


14.6
log
@fix path to iges, now in conv subdir
@
text
@d42 8
@


14.5
log
@trailing ws
@
text
@d20 2
a21 2
../src/iges/g-iges -o iges_file.iges iges.g box.nmg 2>> iges.log> /dev/null
../src/iges/g-iges iges.g box.nmg > iges_stdout.iges 2>> iges.log
d23 1
a23 1
../src/iges/iges-g -o iges_new.g -p iges_file.iges 2>> iges.log
d33 1
a33 1
../src/iges/iges-g -o iges_stdout_new.g -p iges_stdout.iges 2>> iges.log
@


14.4
log
@Getting the nightly tests to work.
Making the scripts report an exit code when things go wrong.
@
text
@d3 1
a3 1
set + 
d21 1
a21 1
../src/iges/g-iges iges.g box.nmg > iges_stdout.iges 2>> iges.log 
@


14.4.2.1
log
@merge changes from HEAD aka rel-7-6-4 to the rel-7-6-branch just in case someone peeks a gander or tries to continue/build the branch
@
text
@d3 1
a3 1
set +
d21 1
a21 1
../src/iges/g-iges iges.g box.nmg > iges_stdout.iges 2>> iges.log
@


14.3
log
@updates so that regression tests run against build tree, not install dir.
Can now be run from build dir other than in source tree.
@
text
@d7 2
d27 1
d37 1
d41 2
@


14.2
log
@caused iges-g and g-iges massive verbosity to go to
a file instead of the console.
@
text
@a4 3
BIN=$1/bin
export BIN

d7 1
a7 1
$BIN/mged -c 2> iges.log <<EOF
d18 2
a19 2
$BIN/g-iges -o iges_file.iges iges.g box.nmg 2>> iges.log> /dev/null
$BIN/g-iges iges.g box.nmg > iges_stdout.iges 2>> iges.log 
d21 1
a21 1
$BIN/iges-g -o iges_new.g -p iges_file.iges 2>> iges.log
d30 1
a30 1
$BIN/iges-g -o iges_stdout_new.g -p iges_stdout.iges 2>> iges.log
@


14.1
log
@Test the g-iges and iges-g operations
@
text
@d8 1
a8 1
rm -f iges.g iges_file.iges iges_stdout_new.g iges_new.g iges_stdout.iges iges_file.iges
d10 1
a10 1
$BIN/mged -c <<EOF
d21 2
a22 2
g-iges -o iges_file.iges iges.g box.nmg
g-iges iges.g box.nmg > iges_stdout.iges
d24 1
a24 1
iges-g -o iges_new.g -p iges_file.iges
d33 1
a33 1
iges-g -o iges_stdout_new.g -p iges_stdout.iges
@

