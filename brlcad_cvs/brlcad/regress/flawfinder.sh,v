head	14.3;
access;
symbols;
locks; strict;
comment	@# @;


14.3
date	2007.12.22.19.36.39;	author brlcad;	state Exp;
branches;
next	14.2;

14.2
date	2007.10.22.04.36.20;	author brlcad;	state Exp;
branches;
next	14.1;

14.1
date	2007.10.14.05.27.24;	author brlcad;	state Exp;
branches;
next	;


desc
@@


14.3
log
@ignore false positives, finished reviewing all of level four issues too but keep it at five for regression testing
@
text
@#!/bin/sh

TOPSRC="$1"
if test "x$TOPSRC" = "x" ; then
    TOPSRC="."
fi
if test ! -f "$TOPSRC/misc/flawfinder" ; then
    echo "Unable to find flawfinder in misc directory, aborting"
    exit 1
fi

rm -f flawfinder.log

echo running flawfinder...

${TOPSRC}/misc/flawfinder --followdotdir --minlevel=5 --singleline --neverignore --falsepositive --quiet ${TOPSRC}/src/[^o]* > flawfinder.log 2>&1

NUMBER_WRONG=0
if test "x`grep \"No hits found.\" flawfinder.log`" = "x" ; then
    NUMBER_WRONG="`grep \"Hits = \" flawfinder.log | awk '{print $3}'`"
fi

if test "x$NUMBER_WRONG" = "x0" ; then
    echo "-> flawfinder.sh succeeded"
else
    if test -f flawfinder.log ; then
	cat flawfinder.log
    fi
    echo "-> flawfinder.sh FAILED"
fi

exit $NUMBER_WRONG

# Local Variables:
# mode: sh
# tab-width: 8
# sh-indentation: 4
# sh-basic-offset: 4
# indent-tabs-mode: t
# End:
# ex: shiftwidth=4 tabstop=8
@


14.2
log
@more consistent echo output
@
text
@d16 1
a16 1
${TOPSRC}/misc/flawfinder --followdotdir --minlevel=5 --singleline --neverignore --quiet ${TOPSRC}/src/[^o]* > flawfinder.log 2>&1
@


14.1
log
@add flawfinder to the regression suite (currently set to level 5 as there are too many unresolved at level 4) to keep an eye on new issues being introduced
@
text
@d8 1
a8 1
    /bin/echo "Unable to find flawfinder in misc directory, aborting"
d14 1
a14 1
/bin/echo running flawfinder...
d24 1
a24 1
    /bin/echo '-> flawfinder.sh succeeded'
d27 1
a27 1
	/bin/cat flawfinder.log
d29 1
a29 1
    /bin/echo '-> flawfinder.sh FAILED'
@

