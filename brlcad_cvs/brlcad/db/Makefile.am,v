head	14.15;
access;
symbols
	rel-7-10-4:14.12
	STABLE:14.12.0.2
	stable-branch:14.2
	rel-7-10-2:14.11
	rel-7-10-0:14.9
	rel-7-8-4:14.8
	rel-7-8-2:14.8
	rel-7-8-0:14.7
	trimnurbs-branch:14.7.0.8
	help:14.7
	temp_tag:14.7
	bobWinPort-20051223-freeze:14.7
	postmerge-20051223-bobWinPort:14.7
	premerge-20051223-bobWinPort:14.7
	rel-7-6-6:14.7
	rel-7-6-4:14.7
	rel-7-6-2:14.7
	rel-7-6-branch:14.7.0.6
	rel-7-6-0:14.7
	rel-7-4-2:14.7
	rel-7-4-branch:14.7.0.4
	bobWinPort:14.7.0.2
	rel-7-4-0:14.7
	rel-7-2-6:14.4
	rel-7-2-4:14.2
	rel-7-2-2:14.2
	rel-7-2-0:14.2
	rel-7-0-4:14.2
	rel-7-0-2:14.1
	rel-7-0-1:14.1
	opensource-post:14.1
	opensource-pre:11.15
	rel-7-0-branch:11.15.0.2
	rel-7-0:11.15
	postmerge-20040405-ansi:11.2
	premerge-20040404-ansi:11.2
	postmerge-autoconf:11.1
	autoconf-freeze:1.1.2.1
	autoconf-branch:1.1.0.2;
locks; strict;
comment	@# @;


14.15
date	2007.11.20.19.18.43;	author brlcad;	state Exp;
branches;
next	14.14;

14.14
date	2007.11.20.06.05.33;	author brlcad;	state Exp;
branches;
next	14.13;

14.13
date	2007.10.03.19.35.55;	author brlcad;	state Exp;
branches;
next	14.12;

14.12
date	2007.08.28.21.00.56;	author erikgreenwald;	state Exp;
branches;
next	14.11;

14.11
date	2007.06.15.21.22.00;	author brlcad;	state Exp;
branches;
next	14.10;

14.10
date	2007.05.21.04.32.31;	author brlcad;	state Exp;
branches;
next	14.9;

14.9
date	2007.01.27.01.41.28;	author brlcad;	state Exp;
branches;
next	14.8;

14.8
date	2006.04.29.03.00.33;	author brlcad;	state Exp;
branches;
next	14.7;

14.7
date	2005.07.07.06.04.09;	author brlcad;	state Exp;
branches;
next	14.6;

14.6
date	2005.06.24.23.49.18;	author brlcad;	state Exp;
branches;
next	14.5;

14.5
date	2005.06.12.22.19.05;	author brlcad;	state Exp;
branches;
next	14.4;

14.4
date	2005.06.03.01.04.14;	author brlcad;	state Exp;
branches;
next	14.3;

14.3
date	2005.06.01.19.40.06;	author brlcad;	state Exp;
branches;
next	14.2;

14.2
date	2005.01.25.06.26.46;	author brlcad;	state Exp;
branches;
next	14.1;

14.1
date	2004.11.16.19.42.08;	author morrison;	state Exp;
branches;
next	11.15;

11.15
date	2004.10.14.23.24.56;	author morrison;	state Exp;
branches;
next	11.14;

11.14
date	2004.10.07.04.58.02;	author morrison;	state Exp;
branches;
next	11.13;

11.13
date	2004.10.06.14.31.05;	author morrison;	state Exp;
branches;
next	11.12;

11.12
date	2004.09.24.14.51.28;	author morrison;	state Exp;
branches;
next	11.11;

11.11
date	2004.09.09.14.21.42;	author erikg;	state Exp;
branches;
next	11.10;

11.10
date	2004.09.02.20.08.05;	author morrison;	state Exp;
branches;
next	11.9;

11.9
date	2004.09.02.17.27.40;	author erikg;	state Exp;
branches;
next	11.8;

11.8
date	2004.09.02.13.19.57;	author morrison;	state Exp;
branches;
next	11.7;

11.7
date	2004.05.27.19.59.00;	author erikg;	state Exp;
branches;
next	11.6;

11.6
date	2004.05.24.19.49.58;	author morrison;	state Exp;
branches;
next	11.5;

11.5
date	2004.05.24.18.32.28;	author morrison;	state Exp;
branches;
next	11.4;

11.4
date	2004.05.13.18.05.03;	author morrison;	state Exp;
branches;
next	11.3;

11.3
date	2004.04.05.14.50.03;	author morrison;	state Exp;
branches;
next	11.2;

11.2
date	2004.04.01.15.45.20;	author erikg;	state Exp;
branches;
next	11.1;

11.1
date	2004.03.18.18.15.14;	author erikg;	state Exp;
branches;
next	1.1;

1.1
date	2004.03.16.13.09.58;	author erikg;	state dead;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2004.03.16.13.09.58;	author erikg;	state Exp;
branches;
next	;


desc
@@


14.15
log
@need terra.dsp in the dist
@
text
@# $Id: Makefile.am,v 14.14 2007/11/20 06:05:33 brlcad Exp $

SUBDIRS = include

A2G=$(top_builddir)/src/conv/asc2g
G2A=$(top_builddir)/src/conv/g2asc

# the shell script test -e fu is to cope with gmake vs irix make weirdness...
# gmake seems to prefix the src with the appropriate srcdir automagically...
# the library path is set since libtool won't do it for us for non libtool libs
.asc.g:
	@@if test -x $(A2G) ; then \
		echo $(A2G) $< $@@ ; \
		LD_LIBRARY_PATH=$(top_builddir)/src/other/tcl/unix:$(top_builddir)/src/other/tk/unix:$$LD_LIBRARY_PATH \
		DYLD_LIBRARY_PATH=$(top_builddir)/src/other/tcl/unix:$(top_buildir)/src/other/tk/unix:$$DYLD_LIBRARY_PATH \
		$(A2G) `if test -e $< ; then echo $< ; else echo $(top_srcdir)/db/$< ; fi` $@@ ; \
	else \
		echo "$(A2G) does not exist" ; \
	fi

BENCHMARK_MODELS = \
	bldg391.asc \
	m35.asc \
	moss.asc \
	sphflake.asc \
	star.asc \
	world.asc

MODELS = \
	$(BENCHMARK_MODELS) \
	axis.asc \
	boolean-ops.asc \
	castle.asc \
	cornell.asc \
	cray.asc \
	crod.asc \
	cube.asc \
	demo.asc \
	galileo.asc \
	havoc.asc \
	kman.asc \
	ktank.asc \
	lgt-test.asc \
	operators.asc \
	pic.asc \
	prim.asc \
	tank_car.asc \
	terra.asc \
	toyjeep.asc \
	truck.asc \
	wave.asc \
	woodsman.asc \
	xmp.asc

EXTRA_DIST = \
	${MODELS} \
	db.php \
	terra.dsp

dbdir = $(BRLCAD_DATA)/db

if INSTALL_MODELS
db_DATA = \
	${MODELS:asc=g} \
	terra.dsp
BUILT_SOURCES = ${MODELS:asc=g}

else !INSTALL_MODELS
db_DATA = ${BENCHMARK_MODELS:asc=g}
BUILT_SOURCES = ${BENCHMARK_MODELS:asc=g}

endif
# end INSTALL_MODELS


MOSTLYCLEANFILES = ${MODELS:asc=g}

DEPS=src/conv

include $(top_srcdir)/misc/Makefile.defs
@


14.14
log
@install the terra.dsp file since it's needed by terra.g; adds missing file to dist
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.13 2007/10/03 19:35:55 brlcad Exp $
d57 2
a58 1
	db.php
@


14.13
log
@remove the MAINTAINERCLEAN rules, they're never really used regardless of the debate over whether the Makefile.in files belong there or not
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.12 2007/08/28 21:00:56 erikgreenwald Exp $
d62 3
a64 1
db_DATA = ${MODELS:asc=g}
@


14.12
log
@DEPS updates
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.11 2007/06/15 21:22:00 brlcad Exp $
a74 2
MAINTAINERCLEANFILES = Makefile.in

@


14.11
log
@add operators.asc which is an example of CSG operators in action, inspired from a similar image from Waterloo's cs488 course on interactive ray-tracing of CSG
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.10 2007/05/21 04:32:31 brlcad Exp $
d77 2
@


14.10
log
@since tcl/tk are being compiled dynamic now instead of static and because they're not libtool libraries, libtool fails to find their uninstalled .so/.dylib files in src/other, and the wrapper script over binaries fails to search the provided -L paths.  so here we manually set LD/DYLD_LIBRARY_PATH before attempting to invoke the (uninstalled) binary during the compilation process.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.9 2007/01/27 01:41:28 brlcad Exp $
d44 1
@


14.9
log
@ws. lots and lots of ws.  see sh/ws.sh for details (cases 'abcdeg').
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.8 2006/04/29 03:00:33 brlcad Exp $
d8 1
a8 1
# the shell script fu is to cope with gmake vs irix make weirdness...
d10 1
d14 2
@


14.8
log
@add an toy barbie (tm) jeep (tm) modeled in 2005 over the course of a day by a group of students attending a BRL-CAD (tm) training course at SURVICE
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.7 2005/07/07 06:04:09 brlcad Exp $
a73 1

@


14.7
log
@s/BRLCAD_DATA_DIR/BRLCAD_DATA/
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.6 2005/06/24 23:49:18 brlcad Exp $
d45 1
@


14.6
log
@add Makefile.defs as an include
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.5 2005/06/12 22:19:05 brlcad Exp $
d54 1
a54 1
dbdir = $(BRLCAD_DATA_DIR)/db
@


14.5
log
@install all of the data in subdirs under BRLCAD_DATA_DIR now, making the install one step closer to playing more politely with the packaging operating systems.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.4 2005/06/03 01:04:14 brlcad Exp $
d71 3
@


14.4
log
@add a --enable-models-install option with aliases for conditionally installing the example geometry models.  benchmark geometry are still converted/installed as they are required for the installed benchmark tool
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.3 2005/06/01 19:40:06 brlcad Exp $
d54 1
a54 1
dbdir = $(datadir)/brlcad/db
@


14.3
log
@include the geometry databases in the standard install at last (the benchmark suite it now installed)
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.2 2005/01/25 06:26:46 brlcad Exp $
d18 8
d27 1
a28 1
	bldg391.asc \
a40 2
	m35.asc \
	moss.asc \
a42 2
	sphflake.asc \
	star.asc \
a47 1
	world.asc \
d55 2
d58 8
a66 1
BUILT_SOURCES = ${MODELS:asc=g}
@


14.2
log
@do not create empty .g databases when asc2g isn't available -- breaks doing a make dist
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.1 2004/11/16 19:42:08 morrison Exp $
d51 3
a53 1
EXTRA_DATA = ${MODELS:asc=g}
@


14.1
log
@dawn of a new revision.  it shall be numbered 14 to match release 7.  begin the convergence by adding emacs/vi local variable footer blocks to encourage consistent formatting.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 11.15 2004/10/14 23:24:56 morrison Exp $
d15 1
a15 1
		echo "$(A2G) does not exist" ; touch $@@ ; \
a47 1
	${MODELS:asc=g} \
@


11.15
log
@oops, not .am -- we need that
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 11.14 2004/10/07 04:58:02 morrison Exp $
@


11.14
log
@get rid of the all rule and only generate the .g's once
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 11.13 2004/10/06 14:31:05 morrison Exp $
d57 1
a57 1
MAINTAINERCLEANFILES = Makefile.am@


11.13
log
@Major restructuring and fixes so that 'make distcheck' should now work and actually be close to correct.  i.e. the resultant generated tarball should contain contents similar to a CVS export.  This helps it generate a proper distribution and build, install, and uninstall cleanly off of that distribution.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 11.12 2004/09/24 14:51:28 morrison Exp $
d11 6
a16 1
	if test -x $(A2G) ; then $(A2G) `if test -e $< ; then echo $< ; else echo $(top_srcdir)/db/$< ; fi` $@@ ; else echo "$(A2G) does not exist, no action taken" ; touch $@@ ; fi
d48 1
a48 1
	${DISTCLEANFILES} \
d55 1
a55 3
all-local: ${MODELS:asc=g}

DISTCLEANFILES = ${MODELS:asc=g}
@


11.12
log
@help make distcheck get a whole lot farther ..
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 11.11 2004/09/09 14:21:42 erikg Exp $
d10 2
a11 1
.asc.g: ; $(A2G) `if test -e $< ; then echo $< ; else echo $(top_srcdir)/db/$< ; fi` $@@
a41 2
DISTCLEANFILES = ${MODELS:asc=g}

d47 6
a52 1
all: ${MODELS:asc=g}
d54 1
a54 24
install-data-hook: ${MODELS:asc=g}
	@@$(NORMAL_INSTALL)
	$(mkinstalldirs) $(DESTDIR)$(pkgdatadir)
	@@list='${MODELS:asc=g}'; for p in $$list; do \
	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
	  f="`echo $$p | sed -e 's|^.*/||'`"; \
	  echo " $(INSTALL_DATA) $$d$$p $(DESTDIR)$(pkgdatadir)/$$f"; \
	  $(INSTALL_DATA) $$d$$p $(DESTDIR)$(pkgdatadir)/$$f; \
	done
																					    
uninstall:
	@@$(NORMAL_UNINSTALL)
	@@list='${MODELS:asc=g}'; for p in $$list; do \
	  f="`echo $$p | sed -e 's|^.*/||'`"; \
	  echo " rm -f $(DESTDIR)$(pkgdatadir)/$$f"; \
	  rm -f $(DESTDIR)$(pkgdatadir)/$$f; \
	done

clean:
	@@list='${MODELS:asc=g}'; for p in $$list; do \
	  f="`echo $$p | sed -e 's|^.*/||'`"; \
	  echo " rm -f $(builddir)/db/$$f"; \
	  rm -f $(builddir)/db/$$f; \
	done
@


11.11
log
@fix to cope with sgi make vs gnu make weirdness...
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 11.10 2004/09/02 20:08:05 morrison Exp $
d41 2
d44 1
a47 2
MAINTAINERCLEANFILES = Makefile.in

d71 2
a72 2
	  echo " rm -f $$f"; \
	  rm -f $$f; \
@


11.10
log
@duplicate?
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 11.9 2004/09/02 17:27:40 erikg Exp $
d8 3
a10 1
.asc.g: ; $(A2G) $(builddir)$< $@@
@


11.9
log
@dsp? whu? this shoudl be asc...
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 11.8 2004/09/02 13:19:57 morrison Exp $
a31 1
	terra.asc \
@


11.8
log
@delete the databases on a make clean
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 11.7 2004/05/27 19:59:00 erikg Exp $
d33 1
a33 1
	terra.dsp \
@


11.7
log
@conv dir has moved into src
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 11.6 2004/05/24 19:49:58 morrison Exp $
d66 6
@


11.6
log
@clean up after the .in
@
text
@d1 1
a1 1
# $Id$
d5 2
a6 2
A2G=$(top_builddir)/conv/asc2g
G2A=$(top_builddir)/conv/g2asc
a44 1

@


11.5
log
@go into include dir for dist
@
text
@d44 3
@


11.4
log
@run asc2g during compilation (necessary for benchmarks) not just installation
@
text
@d1 3
a3 1
# $Id: Makefile.am,v 11.3 2004/04/05 14:50:03 morrison Exp $
@


11.3
log
@one entry per line, and M-x sort-lines
@
text
@d1 1
a1 1
# $Id$
a2 1
	 
a5 2
#SUFFIXES: .g .asc

a7 2
UH = Makefile.dist db.php

d38 5
a42 1
EXTRA_DIST = ${UH} ${MODELS}
@


11.2
log
@generate g files on install, to avoid lib issue...
@
text
@d12 30
a41 1
MODELS = axis.asc bldg391.asc boolean-ops.asc castle.asc cornell.asc cray.asc crod.asc cube.asc demo.asc galileo.asc havoc.asc kman.asc ktank.asc lgt-test.asc m35.asc moss.asc pic.asc prim.asc sphflake.asc star.asc tank_car.asc terra.asc terra.dsp truck.asc wave.asc woodsman.asc world.asc xmp.asc
@


11.1
log
@merge of AUTOCONF branch in to HEAD
@
text
@d3 3
a5 3
         
A2G=../conv/asc2g
G2A=../conv/g2asc
d9 1
a9 1
.asc.g: ; $(A2G) $< $@@
d14 19
a32 1
pkgdata_DATA = ${MODELS:asc=g}
a33 1
EXTRA_DIST = ${UH} ${MODELS}
@


1.1
log
@file Makefile.am was initially added on branch AUTOCONF.
@
text
@d1 16
@


1.1.2.1
log
@build g files, include db dir and asc files in dist...
@
text
@a0 16
# $Id$

         
A2G=../conv/asc2g
G2A=../conv/g2asc

#SUFFIXES: .g .asc

.asc.g: ; $(A2G) $< $@@

UH = Makefile.dist db.php
MODELS = axis.asc bldg391.asc boolean-ops.asc castle.asc cornell.asc cray.asc crod.asc cube.asc demo.asc galileo.asc havoc.asc kman.asc ktank.asc lgt-test.asc m35.asc moss.asc pic.asc prim.asc sphflake.asc star.asc tank_car.asc terra.asc terra.dsp truck.asc wave.asc woodsman.asc world.asc xmp.asc

pkgdata_DATA = ${MODELS:asc=g}

EXTRA_DIST = ${UH} ${MODELS}
@

