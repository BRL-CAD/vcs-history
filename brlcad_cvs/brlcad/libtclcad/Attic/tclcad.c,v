head	1.9;
access;
symbols
	ansi-20040405-merged:1.6.2.1
	postmerge-20040405-ansi:1.7
	premerge-20040404-ansi:1.6
	postmerge-autoconf:1.6
	autoconf-freeze:1.6
	premerge-autoconf:1.6
	ansi-20040316-freeze:1.6.2.1
	postmerge-20040315-windows:1.6
	premerge-20040315-windows:1.6
	windows-20040315-freeze:1.6
	autoconf-20031203:1.6
	autoconf-20031202:1.6
	autoconf-branch:1.6.0.10
	phong-branch:1.6.0.8
	photonmap-branch:1.6.0.6
	rel-6-1-DP:1.6
	windows-branch:1.6.0.4
	rel-6-0-2:1.4
	ansi-branch:1.6.0.2
	rel-6-0-1-branch:1.4.0.4
	hartley-6-0-post:1.5
	hartley-6-0-pre:1.4
	rel-6-0-1:1.4
	rel-6-0:1.4
	rel-5-4:1.4
	offsite-5-3-pre:1.4
	rel-5-3:1.4
	rel-5-2:1.4
	rel-5-1-branch:1.4.0.2
	rel-5-1:1.4
	rel-5-0:1.4
	rel-5-0-beta:1.4
	rel-4-5:1.3
	ctj-4-5-post:1.2
	ctj-4-5-pre:1.2;
locks; strict;
comment	@ * @;


1.9
date	2004.05.21.18.07.37;	author morrison;	state dead;
branches;
next	1.8;

1.8
date	2004.05.10.15.30.47;	author erikg;	state Exp;
branches;
next	1.7;

1.7
date	2004.04.05.07.41.18;	author morrison;	state Exp;
branches;
next	1.6;

1.6
date	2002.08.20.17.08.17;	author jra;	state Exp;
branches
	1.6.2.1;
next	1.5;

1.5
date	2002.08.15.20.55.28;	author hartley;	state Exp;
branches;
next	1.4;

1.4
date	99.01.21.03.15.04;	author mike;	state Exp;
branches;
next	1.3;

1.3
date	97.09.16.13.22.20;	author jra;	state Exp;
branches;
next	1.2;

1.2
date	96.12.31.18.08.45;	author jra;	state Exp;
branches;
next	1.1;

1.1
date	96.12.13.13.54.31;	author jra;	state Exp;
branches;
next	;

1.6.2.1
date	2002.09.19.18.01.55;	author morrison;	state Exp;
branches;
next	;


desc
@Initialization routines for the BRL-CAD/Tcl links.
@


1.9
log
@moved to src/
@
text
@/*
 *            T C L C A D . C
 *
 * Initialization routines for the BRL-CAD/Tcl links.
 *
 * Author --
 *    Glenn Durfee
 *
 * Army copyright foo
 */

#ifdef HAVE_CONFIG_H
# include "config.h"
#endif



#include <stdio.h>
#include <stdlib.h>

#include "tcl.h"
#include "tk.h"

extern Tk_PhotoImageFormat tkImgFmtPIX;

int
tclcad_tk_setup(Tcl_Interp *interp)
{
    /* Note:  pix_common_file_size  is now bn_common_file_size */

    Tk_CreatePhotoImageFormat(&tkImgFmtPIX);

    return TCL_OK;
}
@


1.8
log
@change conf.h to a wrapped config.h
@
text
@@


1.7
log
@merge of ansi-6-0-branch into HEAD
@
text
@d12 5
a16 1
#include "conf.h"
@


1.6
log
@Restoration of entire source tree to Pre-Hartley state
@
text
@d23 1
a23 2
tclcad_tk_setup(interp)
Tcl_Interp *interp;
@


1.6.2.1
log
@Initial ANSIfication
@
text
@d23 2
a24 1
tclcad_tk_setup(Tcl_Interp *interp)
@


1.5
log
@Converted from K&R to ANSI C - RFH
@
text
@d23 2
a24 1
tclcad_tk_setup(Tcl_Interp *interp)
@


1.4
log
@pix_common_file_size  is now bn_common_file_size
@
text
@d23 1
a23 2
tclcad_tk_setup(interp)
Tcl_Interp *interp;
@


1.3
log
@removed reference to non-existent tclcad.h
@
text
@d23 1
a23 2
cmd_pix_common_file_size(clientData, interp, argc, argv)
ClientData clientData;
a24 2
int argc;
char **argv;
d26 1
a26 7
    int width, height;
    
    if (argc != 2) {
	Tcl_AppendResult(interp, "wrong # args: should be \"", argv[0],
			 " fileName\"", NULL);
	return TCL_ERROR;
    }
a27 18
    if (bn_common_file_size(&width, &height, argv[1], 3) > 0) {
	sprintf(interp->result, "%d %d", width, height);
	return TCL_OK;
    }

#if 0
    Tcl_AppendResult(interp, "cannot determine dimensions of ", argv[1], NULL);
    return TCL_ERROR;
#else
    Tcl_SetResult(interp, "0 0", TCL_STATIC);
    return TCL_OK;
#endif
}

int
TclCad_Init(interp)
Tcl_Interp *interp;
{
a29 4
    (void)Tcl_CreateCommand(interp, "pix_common_file_size",
			    cmd_pix_common_file_size, (ClientData)NULL,
			    (Tcl_CmdDeleteProc *)NULL);

a31 4
    
    
    
    
@


1.2
log
@changed pix_common_file_size to bn_common_file_size.
@
text
@a18 1
#include "tclcad.h"
@


1.1
log
@Initial revision
@
text
@d38 1
a38 1
    if (pix_common_file_size(&width, &height, argv[1], 3) > 0) {
@
