head	1.5;
access;
symbols
	postmerge-20040405-ansi:1.4
	premerge-20040404-ansi:1.4
	postmerge-autoconf:1.4
	premerge-autoconf:1.4
	postmerge-20040315-windows:1.4
	premerge-20040315-windows:1.4
	windows-20040315-freeze:1.4.2.1
	autoconf-20031203:1.2
	autoconf-20031202:1.2
	phong-branch:1.2.0.4
	photonmap-branch:1.2.0.2
	windows-branch:1.4.0.2
	AUTOCONF:1.2.0.6;
locks; strict;
comment	@# @;


1.5
date	2004.05.03.13.22.15;	author erikg;	state dead;
branches;
next	1.4;

1.4
date	2004.03.10.00.44.09;	author morrison;	state Exp;
branches
	1.4.2.1;
next	1.3;

1.3
date	2004.03.10.00.15.43;	author morrison;	state Exp;
branches;
next	1.2;

1.2
date	2003.03.13.20.45.32;	author jra;	state Exp;
branches
	1.2.6.1;
next	1.1;

1.1
date	2003.03.13.13.20.07;	author jra;	state Exp;
branches;
next	;

1.2.6.1
date	2004.03.15.14.06.14;	author erikg;	state Exp;
branches;
next	1.2.6.2;

1.2.6.2
date	2004.03.18.18.10.26;	author erikg;	state dead;
branches;
next	;

1.4.2.1
date	2004.03.12.09.57.12;	author morrison;	state Exp;
branches;
next	;


desc
@@


1.5
log
@no more cake
@
text
@/*
 *			iwidgets/Cakefile
 */
#define SRCDIR	iwidgets4.0.1
#define	SRCSUFF	.c
#define MANSECTION	3

#include "../Cakefile.defs"

#define IWIDGET_OPTS	--prefix=BASEDIR --with-tcl=[[pwd]]/LIBTCL_DIR --with-tk=[[pwd]]/LIBTK_DIR \
			--with-itcl=[[pwd]]/../libitcl  \
			--cache-file cache.MTYPE

/* Rule to see if cake is running with -s flag */
#define MINUS_S	[[echo CAKEFLAGS | tr '\040' '\012' | sed -n -e /-s/p ]]

all&: Makefile.MTYPE cache.MTYPE
	echo cakeflags=CAKEFLAGS
	echo make MINUS_S -f Makefile.MTYPE CAKEFLAGS all
	make MINUS_S -f Makefile.MTYPE CAKEFLAGS all

Makefile.MTYPE cache.MTYPE:		if not exist Makefile.MTYPE or not exist cache.MTYPE
	( INSTALL=[[pwd]]/../SRCDIR/config/install-sh ; \
		 export INSTALL; \
		 echo ../SRCDIR/configure IWIDGET_OPTS; \
		 ../SRCDIR/configure IWIDGET_OPTS; \
		mv Makefile Makefile.MTYPE)

clean&:	Makefile.MTYPE
	make -f Makefile.MTYPE clean

noprod&: Makefile.MTYPE
	make -f Makefile.MTYPE clean

clobber&:
	rm -f *.MTYPE config.log config.status *.tcl

install&: Makefile.MTYPE
	make -f Makefile.MTYPE install

install-nobak&: Makefile.MTYPE
	make -f Makefile.MTYPE install

test&: Makefile.MTYPE
	make -f Makefile.MTYPE test

@


1.4
log
@point to the new libitcl dir
@
text
@@


1.4.2.1
log
@merge from HEAD
@
text
@@


1.3
log
@itcl dir renamed to match new location
@
text
@d11 1
a11 1
			--with-itcl=[[pwd]]/LIBITCL_DIR  \
@


1.2
log
@"clobber" no longer requires a makefile
@
text
@d11 1
a11 1
			--with-itcl=[[pwd]]/../libitcl''ITCL_VERS \
@


1.2.6.1
log
@merge from head
@
text
@d11 1
a11 1
			--with-itcl=[[pwd]]/../libitcl  \
@


1.2.6.2
log
@merge from head
@
text
@@


1.1
log
@Initial installation of Iwidgets 4.0.1
@
text
@d35 1
a35 2
clobber&: Makefile.MTYPE
	make -f Makefile.MTYPE clean
@

