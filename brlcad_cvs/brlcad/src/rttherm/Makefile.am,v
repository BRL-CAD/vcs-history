head	14.20;
access;
symbols
	rel-7-10-4:14.18
	STABLE:14.18.0.2
	stable-branch:14.5
	rel-7-10-2:14.17
	rel-7-10-0:14.16
	rel-7-8-4:14.8
	rel-7-8-2:14.7
	rel-7-8-0:14.7
	trimnurbs-branch:14.7.0.2
	help:14.7
	temp_tag:14.7
	bobWinPort-20051223-freeze:14.6
	postmerge-20051223-bobWinPort:14.7
	premerge-20051223-bobWinPort:14.7
	rel-7-6-6:14.7
	rel-7-6-4:14.7
	rel-7-6-2:14.6
	rel-7-6-branch:14.6.0.6
	rel-7-6-0:14.6
	rel-7-4-2:14.6
	rel-7-4-branch:14.6.0.4
	bobWinPort:14.6.0.2
	rel-7-4-0:14.6
	rel-7-2-6:14.5
	rel-7-2-4:14.5
	rel-7-2-2:14.5
	rel-7-2-0:14.1
	rel-7-0-4:14.1
	rel-7-0-2:14.1
	rel-7-0-1:14.1
	opensource-post:14.1
	opensource-pre:1.11
	rel-7-0-branch:1.10.0.2
	rel-7-0:1.10;
locks; strict;
comment	@# @;


14.20
date	2007.11.19.21.44.42;	author brlcad;	state Exp;
branches;
next	14.19;

14.19
date	2007.10.03.19.36.28;	author brlcad;	state Exp;
branches;
next	14.18;

14.18
date	2007.09.07.19.54.19;	author erikgreenwald;	state Exp;
branches;
next	14.17;

14.17
date	2007.04.17.01.42.39;	author brlcad;	state Exp;
branches;
next	14.16;

14.16
date	2007.04.03.02.47.08;	author brlcad;	state Exp;
branches;
next	14.15;

14.15
date	2007.03.08.15.26.10;	author erikgreenwald;	state Exp;
branches;
next	14.14;

14.14
date	2007.03.08.07.05.35;	author brlcad;	state Exp;
branches;
next	14.13;

14.13
date	2007.03.06.14.45.29;	author erikgreenwald;	state Exp;
branches;
next	14.12;

14.12
date	2007.02.20.09.17.12;	author brlcad;	state Exp;
branches;
next	14.11;

14.11
date	2007.02.03.20.06.54;	author brlcad;	state Exp;
branches;
next	14.10;

14.10
date	2007.02.03.10.34.15;	author brlcad;	state Exp;
branches;
next	14.9;

14.9
date	2007.01.19.18.28.05;	author brlcad;	state Exp;
branches;
next	14.8;

14.8
date	2006.08.01.16.02.58;	author brlcad;	state Exp;
branches;
next	14.7;

14.7
date	2005.10.27.14.55.39;	author brlcad;	state Exp;
branches;
next	14.6;

14.6
date	2005.06.25.00.10.52;	author brlcad;	state Exp;
branches
	14.6.6.1;
next	14.5;

14.5
date	2005.03.31.14.02.52;	author brlcad;	state Exp;
branches;
next	14.4;

14.4
date	2005.03.30.07.10.34;	author brlcad;	state Exp;
branches;
next	14.3;

14.3
date	2005.03.28.21.42.11;	author brlcad;	state Exp;
branches;
next	14.2;

14.2
date	2005.03.28.16.47.39;	author brlcad;	state Exp;
branches;
next	14.1;

14.1
date	2004.11.16.19.42.31;	author morrison;	state Exp;
branches;
next	1.11;

1.11
date	2004.11.10.01.03.36;	author morrison;	state Exp;
branches;
next	1.10;

1.10
date	2004.10.07.10.53.52;	author morrison;	state Exp;
branches;
next	1.9;

1.9
date	2004.10.06.14.31.40;	author morrison;	state Exp;
branches;
next	1.8;

1.8
date	2004.09.27.15.06.56;	author erikg;	state Exp;
branches;
next	1.7;

1.7
date	2004.09.26.08.34.42;	author morrison;	state Exp;
branches;
next	1.6;

1.6
date	2004.09.25.22.55.58;	author morrison;	state Exp;
branches;
next	1.5;

1.5
date	2004.09.24.14.51.29;	author morrison;	state Exp;
branches;
next	1.4;

1.4
date	2004.08.25.18.06.00;	author erikg;	state Exp;
branches;
next	1.3;

1.3
date	2004.08.25.16.22.15;	author erikg;	state Exp;
branches;
next	1.2;

1.2
date	2004.08.02.06.47.21;	author morrison;	state Exp;
branches;
next	1.1;

1.1
date	2004.05.24.19.00.40;	author morrison;	state Exp;
branches;
next	;

14.6.6.1
date	2005.11.13.13.46.19;	author brlcad;	state Exp;
branches;
next	;


desc
@@


14.20
log
@re-enable pixtest compilation since it's now updated but don't install it.
@
text
@# $Id: Makefile.am,v 14.19 2007/10/03 19:36:28 brlcad Exp $

# pixtest removed, looks like an outdated sample_application
bin_PROGRAMS = \
	rttherm \
	ssamp-bw \
	ssampview

noinst_PROGRAMS = pixtest

AM_CPPFLAGS = ${TCL_CPPFLAGS}

dist_bin_SCRIPTS = ssampview.tcl

man_MANS = \
	rttherm.1 \
	ssamp-bw.1

rttherm_SOURCES = \
	spectrum.c \
	viewtherm.c

# have to link static due to librttherm.a, the aix linker, and duplicate symbols in optical/multispectral
rttherm_LDFLAGS = -static
rttherm_CFLAGS = -DRT_MULTISPECTRAL
rttherm_LDADD = \
	$(top_builddir)/src/rt/librttherm.a \
	${MULTISPECTRAL} \
	${OPTICAL} \
	${FB}

ssampview_SOURCES = \
	spectrum.c \
	ssampview.c

ssampview_CFLAGS = \
	${X_CFLAGS} \
	${TK_CPPFLAGS}
ssampview_LDADD = \
	${OPTICAL} \
	${FB} \
	${TK}

ssamp_bw_SOURCES = ssamp-bw.c
ssamp_bw_LDADD = ${OPTICAL}

# pixtest removed, looks like an outdated sample_application
pixtest_SOURCES = \
	pixtest.c \
	spectrum.c
pixtest_LDADD = \
	${MULTISPECTRAL} \
	${OPTICAL}

EXTRA_DIST = \
	$(man_MANS) \
	std_day_1km.dat \
	test.sh

include $(top_srcdir)/misc/Makefile.defs

FAST_OBJECTS = \
	$(rttherm_OBJECTS) \
	$(ssamp_bw_OBJECTS) \
	$(ssampview_OBJECTS) \
	$(bin_PROGRAMS)
@


14.19
log
@remove the MAINTAINERCLEAN rules, they're never really used regardless of the debate over whether the Makefile.in files belong there or not
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.18 2007/09/07 19:54:19 erikgreenwald Exp $
d9 2
d48 6
a53 3
#pixtest_SOURCES = \
#	pixtest.c \
#	spectrum.c
@


14.18
log
@add link dependancy information to shared libraries and reduce redundancy
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.17 2007/04/17 01:42:39 brlcad Exp $
a54 2
MAINTAINERCLEANFILES = Makefile.in

@


14.17
log
@convert over from using vers.sh and the global to using the new brlcad_version() interface to extract the version information
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.16 2007/04/03 02:47:08 brlcad Exp $
d26 3
a28 9
	${MULTISPECTRAL} ${MULTISPECTRAL_LIBS} \
	${OPTICAL} ${OPTICAL_LIBS} \
	${PKG} ${PKG_LIBS} \
	${RT} ${RT_LIBS} \
	${FB} ${FB_LIBS} \
	${SYSV} ${SYSV_LIBS} \
	${BN} ${BN_LIBS} \
	${BU} ${BU_LIBS} \
	${TCL} 
d38 6
a43 19
	${OPTICAL} ${OPTICAL_LIBS} \
	${FB} ${FB_LIBS} \
	${RT} ${RT_LIBS} \
	${BN} ${BN_LIBS} \
	${BU} ${BU_LIBS} \
	${PKG} ${PKG_LIBS} \
	${SYSV} ${SYSV_LIBS} \
	${TK} \
	${TCL}


ssamp_bw_SOURCES = \
	ssamp-bw.c
ssamp_bw_LDADD = \
	${OPTICAL} ${OPTICAL_LIBS} \
	${RT} ${RT_LIBS} \
	${BN} ${BN_LIBS} \
	${BU} ${BU_LIBS} \
	${SYSV} ${SYSV_LIBS}
@


14.16
log
@restructure library linkages so that brl-cad libraries no longer list their dependencies as a LIBADD.  dependencies are moved into configure.ac and provided via _LIBS variables so that they are specified at link time.  this supports hybrid static library compilation as well as other more varied mixture configurations.  use the new _LIBS variables throughout.  probably want to re-combine them later into a single symbol name per library but this will suffice for now.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.15 2007/03/08 15:26:10 erikgreenwald Exp $
a16 4
BUILT_SOURCES = vers.c
vers.c: $(ALLSRCS)
	@@SH@@ $(top_srcdir)/sh/vers.sh version "Thermal Multi-Spectral RT" > $@@

a18 1
	vers.c \
a69 1
	$(BUILT_SOURCES) \
a73 2
CLEANFILES = $(BUILT_SOURCES)
DISTCLEANFILES = version
@


14.15
log
@missing libs from the "whoosh"
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.14 2007/03/08 07:05:35 brlcad Exp $
d27 1
a27 1
rttherm_LDFLAGS = -static ${EXCEPTIONS}
d31 8
a38 8
	${MULTISPECTRAL} \
	${OPTICAL} \
	${PKG} \
	${RT} \
	${FB} \
	${SYSV} \
	${BN} \
	${BU} \
d49 7
a55 7
	${OPTICAL} \
	${FB} \
	${RT} \
	${BN} \
	${BU} \
	${PKG} \
	${SYSV} \
d63 5
a67 5
	${OPTICAL} \
	${RT} \
	${BN} \
	${BU} \
	${SYSV}
@


14.14
log
@whoosh! push BU, BN, and RT (and maybe one or two others) out of library LIBADD declarations down to application LDADD linkage.  this means that there might be issues to solve again towards being able to generate fully contained/resolved libraries (e.g. frameworks), but solves the current problem of linking against static tcl/tk libraries portably.  duplicate symbols become a problem at link time (bu, bn, and rt all use tcl).  pushing the link specification all the way down to the binary (so far) makes everyone happy.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.13 2007/03/06 14:45:29 erikgreenwald Exp $
d33 2
d37 2
a38 1
	${PKG} \
@


14.13
log
@include SYSV where needed (cygwin)
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.12 2007/02/20 09:17:12 brlcad Exp $
d35 1
d46 1
d49 3
a51 1
	${OPTICAL} \
d53 1
a53 1
	$(TK) \
d60 3
a63 2
	${BN} \
	${OPTICAL} \
@


14.12
log
@add missing dependency on Tcl
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.11 2007/02/03 20:06:54 brlcad Exp $
d34 2
a35 1
	${TCL}
d48 1
d58 2
a59 1
	${OPTICAL}
@


14.11
log
@last one, remove the tk headers from our include/ directory.  use the TK_CPPFLAGS automake variable instead, pointing to the headers in src/other/libtk/generic/ dir
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.10 2007/02/03 10:34:15 brlcad Exp $
d33 2
a34 1
	${FB}
@


14.10
log
@*yawn* remove one of the big two remaining public header sets from our include/ directory.  remove tcl headers from include/ and utilize the TCL_CPPFLAGS so compilation pulls headers from within src/other/libtcl instead.  since bu.h and raytrace.h include tcl foo, this implicates a change across almost the entire build to add the new CPPFLAGS.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.9 2007/01/19 18:28:05 brlcad Exp $
d39 3
a41 1
ssampview_CFLAGS = @@X_CFLAGS@@
@


14.9
log
@use the EXCEPTIONS value as a LDFLAG so that we get -fexceptions here when compiling with the gcc compiler and using the new openNURBS library.  unclear why we only get the __Unwind_Resume symbol error on only rttherm and not any other binaries.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.8 2006/08/01 16:02:58 brlcad Exp $
d9 2
@


14.8
log
@update the usage of LIBRT from configure to be RT instead so that it is consistent with the other BU, BN, WDB etc library defines, using the LIB prefix mostly on third party or external libraries instead.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.7 2005/10/27 14:55:39 brlcad Exp $
d25 1
a25 1
rttherm_LDFLAGS = -static
@


14.7
log
@have to link static due to librttherm.a, the aix linker, and duplicate symbols in optical/multispectral
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.6 2005/06/25 00:10:52 brlcad Exp $
d40 1
a40 1
	${LIBRT} \
@


14.6
log
@include misc/Makefile.defs and an initial FAST_OBJECTS list so that the products in this directory may be compiled AND linked in parallel
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.5 2005/03/31 14:02:52 brlcad Exp $
d24 2
@


14.6.6.1
log
@merge changes from HEAD aka rel-7-6-4 to the rel-7-6-branch just in case someone peeks a gander or tries to continue/build the branch
@
text
@d1 1
a1 1
# $Id$
a23 2
# have to link static due to librttherm.a, the aix linker, and duplicate symbols in optical/multispectral
rttherm_LDFLAGS = -static
@


14.5
log
@score one for irix, tcl lib must come after the tk lib to resolve the tcl symbols in libtk ..
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.4 2005/03/30 07:10:34 brlcad Exp $
d65 8
@


14.4
log
@get rid of the stale files and make lib dependant upon liboptical (for AmbientIntensity, rdebug, background and maybe a couple other globals).
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.3 2005/03/28 21:42:11 brlcad Exp $
d40 2
a41 2
	${TCL} \
	$(TK)
@


14.3
log
@rttherm needs fb, ssamp-bw needs bu and bn
@
text
@d1 1
a1 5
# $Id: Makefile.am,v 14.2 2005/03/28 16:47:39 brlcad Exp $

common_files = \
	ssampview.c \
	viewtherm.c
d48 2
a49 1
	${BN}
@


14.2
log
@make HAVE_SYS_ERRLIST_DECL go away.  there's a better way to check for it, so fix when solaris returns to the rotation (where it'll probably be a problem).  windows gets _sys_errlist from stdlib.h so make sure that's included too.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.1 2004/11/16 19:42:31 morrison Exp $
d32 2
a33 1
	${OPTICAL}
d50 3
@


14.1
log
@dawn of a new revision.  it shall be numbered 14 to match release 7.  begin the convergence by adding emacs/vi local variable footer blocks to encourage consistent formatting.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.11 2004/11/10 01:03:36 morrison Exp $
a14 2
LDADD = ${LIBRT} ${FB} ${OPTICAL} ${TCL}

d29 4
a32 1
rttherm_LDADD = $(top_builddir)/src/rt/librttherm.a $(MULTISPECTRAL) $(LDADD) 
d40 6
a45 2
	$(TK) \
	$(LDADD)
@


1.11
log
@delete the version files when someone does a make clean (but still don't delete the stub counter file until a make distclean).  the version may have been updated in configure.ac
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.10 2004/10/07 10:53:52 morrison Exp $
@


1.10
log
@s/{RT}/{LIBRT}/g so that we do not conflict with the benchmark suite's  RT environment variable.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.9 2004/10/06 14:31:40 morrison Exp $
d21 1
a49 2
BUILT_SOURCES = vers.c

d56 2
a57 4
DISTCLEANFILES = \
	$(BUILT_SOURCES) \
	version

@


1.9
log
@Major restructuring and fixes so that 'make distcheck' should now work and actually be close to correct.  i.e. the resultant generated tarball should contain contents similar to a CVS export.  This helps it generate a proper distribution and build, install, and uninstall cleanly off of that distribution.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.8 2004/09/27 15:06:56 erikg Exp $
d15 1
a15 1
LDADD = ${RT} ${FB} ${OPTICAL} ${TCL}
@


1.8
log
@ssampview uses tk, so it needs the X cflags (fix for fbsd)
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.7 2004/09/26 08:34:42 morrison Exp $
a20 22
EXTRA_DIST = \
	std_day_1km.dat \
	test.sh \
	$(man_MANS)



do.c: $(top_srcdir)/src/rt/do.c
	$(CP) $(top_srcdir)/src/rt/do.c .

ext.h: $(top_srcdir)/src/rt/ext.h
	$(CP) $(top_srcdir)/src/rt/ext.h .

main.c: $(top_srcdir)/src/rt/main.c
	$(CP) $(top_srcdir)/src/rt/main.c .

opt.c: $(top_srcdir)/src/rt/opt.c
	$(CP) $(top_srcdir)/src/rt/opt.c .

worker.c: $(top_srcdir)/src/rt/worker.c
	$(CP) $(top_srcdir)/src/rt/worker.c .

a23 9
noinst_LTLIBRARIES = librttherm.la

librttherm_la_SOURCES = \
	do.c \
	ext.h \
	main.c \
	opt.c \
	worker.c

d30 1
a30 1
rttherm_LDADD = librttherm.la $(MULTISPECTRAL) $(LDADD) 
d44 1
d49 11
a59 3
BUILT_SOURCES = \
	$(librttherm_la_SOURCES) \
	vers.c
d61 1
a61 1
DISTCLEANFILES = $(BUILT_SOURCES)
@


1.7
log
@minor link order changes
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.6 2004/09/25 22:55:58 morrison Exp $
d67 1
@


1.6
log
@re-enable building rttherm -- it requires that sources from rt/ be built without RT_MULTISPECTRAL, but local sources with -- so we build a local noinst library of the rt sources after copying them here.  this should make distcheck work too since there are no longer relative file dependencies.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.5 2004/09/24 14:51:29 morrison Exp $
d50 1
a51 1
	ext.h \
d61 1
a61 1
rttherm_LDADD = $(MULTISPECTRAL) $(LDADD) librttherm.la
@


1.5
log
@help make distcheck get a whole lot farther ..
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.4 2004/08/25 18:06:00 erikg Exp $
d7 1
a7 3
# removed pixtest due to missing funcs
# removed ssampview
# removed rttherm
d9 3
a11 1
	ssamp-bw
d26 44
a69 14
#rttherm_SOURCES = \
#	$(common_files) \
#	../liboptical/material.c \
#	../rt/do.c \
#	../rt/main.c \
#	../rt/opt.c \
#	../rt/worker.c \
#	../rt/wray.c \
#	spectrum.c \
#	vers.c

#ssampview_SOURCES = \
#	spectrum.c \
#	ssampview.c
d78 5
a82 3
#BUILT_SOURCES = vers.c
vers.c: $(ALLSRCS)
	@@SH@@ $(top_srcdir)/sh/vers.sh version "Thermal Multi-Spectral RT" > $@@
@


1.4
log
@fix broken EXTRA_DIST entry
add man pages to EXTRA_DIST
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.3 2004/08/25 16:22:15 erikg Exp $
d48 1
a48 1
BUILT_SOURCES = vers.c
@


1.3
log
@disabled programs that refuse to compile right now... should fix them later
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.2 2004/08/02 06:47:21 morrison Exp $
d22 3
a24 2
	std_day_1km.dat
	test.sh
@


1.2
log
@replace automake variables with make variables and other minor cleanups
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.1 2004/05/24 19:00:40 morrison Exp $
d7 3
d11 1
a11 4
	pixtest \
	rttherm \
	ssamp-bw \
	ssampview
d25 14
a38 14
rttherm_SOURCES = \
	$(common_files) \
	../material.c \
	../rt/do.c \
	../rt/main.c \
	../rt/opt.c \
	../rt/worker.c \
	../rt/wray.c \
	spectrum.c \
	vers.c

ssampview_SOURCES = \
	spectrum.c \
	ssampview.c
d43 3
a45 3
pixtest_SOURCES = \
	pixtest.c \
	spectrum.c
@


1.1
log
@initial Makefile.am
@
text
@d1 1
a1 1
# $Id$
d15 1
a15 1
LDADD = @@RT@@ @@FB@@ @@OPTICAL@@
d49 1
a49 1
	sh $(top_srcdir)/sh/vers.sh version "Thermal Multi-Spectral RT" > $@@
@

