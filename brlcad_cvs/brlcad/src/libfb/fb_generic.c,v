head	14.26;
access;
symbols
	rel-7-10-4:14.23.2.1
	STABLE:14.23.0.2
	stable-branch:14.6
	rel-7-10-2:14.22
	rel-7-10-0:14.21
	rel-7-8-4:14.17
	rel-7-8-2:14.13
	rel-7-8-0:14.13
	trimnurbs-branch:14.13.0.2
	help:14.13
	temp_tag:14.11
	bobWinPort-20051223-freeze:14.8.2.1
	postmerge-20051223-bobWinPort:14.11
	premerge-20051223-bobWinPort:14.10
	rel-7-6-6:14.10
	rel-7-6-4:14.10
	rel-7-6-2:14.8
	rel-7-6-branch:14.8.0.4
	rel-7-6-0:14.8
	rel-7-4-2:14.7
	rel-7-4-branch:14.7.0.2
	bobWinPort:14.8.0.2
	rel-7-4-0:14.7
	rel-7-2-6:14.7
	rel-7-2-4:14.6
	rel-7-2-2:14.6
	rel-7-2-0:14.6
	rel-7-0-4:14.5
	rel-7-0-2:14.5
	rel-7-0-1:14.5
	opensource-post:14.5
	opensource-pre:1.6
	rel-7-0-branch:1.6.0.2
	rel-7-0:1.6;
locks; strict;
comment	@ * @;


14.26
date	2007.12.14.17.46.56;	author brlcad;	state Exp;
branches;
next	14.25;

14.25
date	2007.10.26.21.51.26;	author brlcad;	state Exp;
branches;
next	14.24;

14.24
date	2007.09.15.16.23.10;	author brlcad;	state Exp;
branches;
next	14.23;

14.23
date	2007.08.18.03.15.11;	author brlcad;	state Exp;
branches
	14.23.2.1;
next	14.22;

14.22
date	2007.07.26.01.13.56;	author brlcad;	state Exp;
branches;
next	14.21;

14.21
date	2007.01.27.01.41.37;	author brlcad;	state Exp;
branches;
next	14.20;

14.20
date	2007.01.23.01.13.34;	author brlcad;	state Exp;
branches;
next	14.19;

14.19
date	2007.01.21.04.45.42;	author brlcad;	state Exp;
branches;
next	14.18;

14.18
date	2007.01.20.14.36.52;	author brlcad;	state Exp;
branches;
next	14.17;

14.17
date	2006.08.10.01.04.33;	author brlcad;	state Exp;
branches;
next	14.16;

14.16
date	2006.08.07.20.21.47;	author brlcad;	state Exp;
branches;
next	14.15;

14.15
date	2006.08.07.17.55.16;	author brlcad;	state Exp;
branches;
next	14.14;

14.14
date	2006.08.07.16.04.39;	author brlcad;	state Exp;
branches;
next	14.13;

14.13
date	2006.01.29.00.51.54;	author brlcad;	state Exp;
branches;
next	14.12;

14.12
date	2006.01.18.06.46.16;	author brlcad;	state Exp;
branches;
next	14.11;

14.11
date	2005.12.23.21.26.30;	author bob1961;	state Exp;
branches;
next	14.10;

14.10
date	2005.10.23.04.44.34;	author brlcad;	state Exp;
branches;
next	14.9;

14.9
date	2005.09.16.19.27.51;	author brlcad;	state Exp;
branches;
next	14.8;

14.8
date	2005.08.12.22.30.12;	author lbutler;	state Exp;
branches
	14.8.2.1
	14.8.4.1;
next	14.7;

14.7
date	2005.05.28.02.14.51;	author brlcad;	state Exp;
branches;
next	14.6;

14.6
date	2005.01.30.20.30.48;	author brlcad;	state Exp;
branches;
next	14.5;

14.5
date	2004.12.21.06.38.20;	author morrison;	state Exp;
branches;
next	14.4;

14.4
date	2004.12.21.06.18.44;	author morrison;	state Exp;
branches;
next	14.3;

14.3
date	2004.12.21.05.45.22;	author morrison;	state Exp;
branches;
next	14.2;

14.2
date	2004.12.21.03.58.27;	author morrison;	state Exp;
branches;
next	14.1;

14.1
date	2004.11.16.19.42.14;	author morrison;	state Exp;
branches;
next	1.6;

1.6
date	2004.09.08.19.44.21;	author kermit;	state Exp;
branches;
next	1.5;

1.5
date	2004.09.03.23.30.57;	author morrison;	state Exp;
branches;
next	1.4;

1.4
date	2004.08.02.23.01.48;	author morrison;	state Exp;
branches;
next	1.3;

1.3
date	2004.06.08.22.46.51;	author morrison;	state Exp;
branches;
next	1.2;

1.2
date	2004.06.08.22.04.20;	author morrison;	state Exp;
branches;
next	1.1;

1.1
date	2004.05.20.15.19.40;	author morrison;	state Exp;
branches;
next	;

14.8.2.1
date	2005.09.08.15.30.23;	author bob1961;	state Exp;
branches;
next	;

14.8.4.1
date	2005.11.13.13.46.15;	author brlcad;	state Exp;
branches;
next	;

14.23.2.1
date	2007.09.28.14.07.48;	author brlcad;	state Exp;
branches;
next	;


desc
@@


14.26
log
@can't be consistent
@
text
@/*                    F B _ G E N E R I C . C
 * BRL-CAD
 *
 * Copyright (c) 1986-2007 United States Government as represented by
 * the U.S. Army Research Laboratory.
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public License
 * version 2.1 as published by the Free Software Foundation.
 *
 * This library is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this file; see the file named COPYING for more
 * information.
 */

/** \defgroup fb Framebuffer
 * \ingroup libfb */
/** @@{ */
/** @@file fb_generic.c
 *
 *  Authors -
 *	Phil Dykstra
 *	Gary S. Moss
 *	Michael John Muuss
 *
 */
/** @@} */

#ifndef lint
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.25 2007/10/26 21:51:26 brlcad Exp $ (BRL)";
#endif

#include "common.h"

#include <stdlib.h>
#include <stdio.h>
#include <string.h>

#include "machine.h"
#include "fb.h"


#define Malloc_Bomb( _bytes_ ) \
		fb_log( "\"%s\"(%d) : allocation of %d bytes failed.\n", \
				__FILE__, __LINE__, _bytes_ )


static int fb_totally_numeric(register char *s);

/*
 * Disk interface enable flag.  Used so the the remote daemon
 * can turn off the disk interface.
 */
int _fb_disk_enable = 1;

/*
 *		f b _ n u l l
 *
 *  Filler for FBIO function slots not used by a particular device
 */
int fb_null(FBIO *ifp)
{
	return	0;
}

/*
 *			F B _ N U L L _ S E T C U R S O R
 *
 *  Used by if_*.c routines that don't have programmable cursor patterns.
 */
int fb_null_setcursor(FBIO *ifp, const unsigned char *bits, int xbits, int ybits, int xorig, int yorig)
{
	return	0;
}

/* First element of list is default device when no name given */
static
FBIO *_if_list[] = {
#ifdef IF_TK
	&tk_interface,
#endif
#ifdef IF_ADAGE
	&adage_interface,
#endif
#ifdef IF_SUN
	&sun_interface,
#endif
#if defined(IF_SGI)
	&sgi_interface,
#endif

#ifdef IF_WGL
	&wgl_interface,
#endif
#ifdef IF_OGL
	&ogl_interface,
#endif
#ifdef IF_RAT
	&rat_interface,
#endif
#ifdef IF_UG
	&ug_interface,
#endif
#ifdef IF_X
	&X24_interface,
	&X_interface,
#endif

	&debug_interface,
/* never get any of the following by default */
#ifdef IF_AB
	&abekas_interface,
#endif
#ifdef IF_TS
	&ts_interface,
#endif
#ifdef IF_PTTY
	&ptty_interface,
#endif
	&stk_interface,
	&memory_interface,
	&null_interface,
	(FBIO *) 0
};

/*
 *			F B _ O P E N
 */
FBIO *
fb_open(char *file, int width, int height)
{
	register FBIO	*ifp;
	int	i;

	if( width < 0 || height < 0 )
		return	FBIO_NULL;

	ifp = (FBIO *) calloc(sizeof(FBIO), 1);
	if (ifp == FBIO_NULL) {
		Malloc_Bomb( sizeof(FBIO) );
		return	FBIO_NULL;
	}
	if( file == NULL || *file == '\0' )  {
		/* No name given, check environment variable first.	*/
		if( (file = (char *)getenv( "FB_FILE" )) == NULL || *file == '\0' )  {
			/* None set, use first device as default */
			*ifp = *(_if_list[0]);	/* struct copy */
			file = ifp->if_name;
			goto found_interface;
		}
	}
	/*
	 *  Determine what type of hardware the device name refers to.
	 *
	 *  "file" can in general look like: hostname:/pathname/devname#
	 *  If we have a ':' assume the remote interface
	 *    (We don't check to see if it's us. Good for debugging.)
	 *  else strip out "/path/devname" and try to look it up in the
	 *    device array.  If we don't find it assume it's a file.
	 */
	i = 0;
	while( _if_list[i] != (FBIO *)NULL ) {
		if( strncmp( file, _if_list[i]->if_name,
		    strlen(_if_list[i]->if_name) ) == 0 ) {
			/* found it, copy its struct in */
			*ifp = *(_if_list[i]);
			goto found_interface;
		}
		i++;
	}

	/* Not in list, check special interfaces or disk files */
	/* "/dev/" protection! */
	if( strncmp(file, "/dev/", 5) == 0 ) {
		fb_log(	"fb_open: no such device \"%s\".\n", file );
		free( (void *) ifp );
		return	FBIO_NULL;
	}

#ifdef IF_REMOTE
	if( fb_totally_numeric(file) || strchr( file, ':' ) != NULL ) {
		/* We have a remote file name of the form <host>:<file>
		 * or a port number (which assumes localhost) */
		*ifp = remote_interface;
		goto found_interface;
	}
#endif /* IF_REMOTE */
	/* Assume it's a disk file */
	if( _fb_disk_enable ) {
		*ifp = disk_interface;
	} else {
		fb_log(	"fb_open: no such device \"%s\".\n", file );
		free( (void *) ifp );
		return	FBIO_NULL;
	}

found_interface:
	/* Copy over the name it was opened by. */
	ifp->if_name = (char*)malloc( (unsigned) strlen( file ) + 1 );
	if (ifp->if_name == (char *)NULL) {
		Malloc_Bomb( strlen( file ) + 1 );
		free( (void *) ifp );
		return	FBIO_NULL;
	}
	(void) strncpy( ifp->if_name, file, strlen(file)+1 );

	/* Mark OK by filling in magic number */
	ifp->if_magic = FB_MAGIC;

	if( (i=(*ifp->if_open)( ifp, file, width, height )) <= -1 )  {
		fb_log(	"fb_open: can't open device \"%s\", ret=%d.\n",
			file, i );
		ifp->if_magic = 0;		/* sanity */
		free( (void *) ifp->if_name );
		free( (void *) ifp );
		return	FBIO_NULL;
	}
	return	ifp;
}

int
fb_close(FBIO *ifp)
{
	int	i;

	FB_CK_FBIO(ifp);
	_fb_pgflush( ifp );
	if( (i=(*ifp->if_close)( ifp )) <= -1 )  {
		fb_log(	"fb_close: can not close device \"%s\", ret=%d.\n",
			ifp->if_name, i );
		return	-1;
	}
	if( ifp->if_pbase != PIXEL_NULL )
		free( (void *) ifp->if_pbase );
	free( (void *) ifp->if_name );
	free( (void *) ifp );
	return	0;
}

/*
 *  Generic Help.
 *  Print out the list of available frame buffers.
 */
int
fb_genhelp(void)
{
	int	i;

	i = 0;
	while( _if_list[i] != (FBIO *)NULL ) {
		fb_log( "%-12s  %s\n",
			_if_list[i]->if_name,
			_if_list[i]->if_type );
		i++;
	}

	/* Print the ones not in the device list */
#ifdef IF_REMOTE
	fb_log( "%-12s  %s\n",
		remote_interface.if_name,
		remote_interface.if_type );
#endif
	if( _fb_disk_enable ) {
		fb_log( "%-12s  %s\n",
			disk_interface.if_name,
			disk_interface.if_type );
	}

	return	0;
}

/* True if the non-null string s is all digits */
static int
fb_totally_numeric(register char *s)
{
	if( s == (char *)0 || *s == 0 )
		return	0;

	while( *s ) {
		if( *s < '0' || *s > '9' )
			return 0;
		s++;
	}

	return 1;
}

/*
 *			F B _ I S _ L I N E A R _ C M A P
 *
 *  Check for a color map being linear in the upper 8 bits of
 *  R, G, and B.
 *  Returns 1 for linear map, 0 for non-linear map
 *  (ie, non-identity map).
 */
int
fb_is_linear_cmap(register const ColorMap *cmap)
{
	register int i;

	for( i=0; i<256; i++ )  {
		if( cmap->cm_red[i]>>8 != i )  return(0);
		if( cmap->cm_green[i]>>8 != i )  return(0);
		if( cmap->cm_blue[i]>>8 != i )  return(0);
	}
	return(1);
}

/*
 *			F B _ M A K E _ L I N E A R _ C M A P
 */
void
fb_make_linear_cmap(register ColorMap *cmap)
{
	register int i;

	for( i=0; i<256; i++ )  {
		cmap->cm_red[i] = i<<8;
		cmap->cm_green[i] = i<<8;
		cmap->cm_blue[i] = i<<8;
	}
}

/*
 * Local Variables:
 * mode: C
 * tab-width: 8
 * c-basic-offset: 4
 * indent-tabs-mode: t
 * End:
 * ex: shiftwidth=4 tabstop=8
 */
@


14.25
log
@yet another surge of level 4 flawfinder string length checks. somewhere around 30-40% done.
@
text
@d35 1
a35 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.24 2007/09/15 16:23:10 brlcad Exp $ (BRL)";
d216 1
a216 1
		fb_log(	"fb_open: can not open device \"%s\", ret=%d.\n",
@


14.24
log
@more c89 embracing.  c89 provides string.h for all of the various str*() and mem*() functions, so remove the check for its presence.  there is still likely to be work required for strict c89 conformance for the various bsd strings.h functions that may be in use.
@
text
@d35 1
a35 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.23 2007/08/18 03:15:11 brlcad Exp $ (BRL)";
d210 1
a210 1
	(void) strcpy( ifp->if_name, file );
@


14.23
log
@remove the fblocal.h header file.  it was only used in three places (two files) and only contained one macro (wrapper to fb_log an error), so keep it simple until it's really needed.
@
text
@d35 1
a35 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.22 2007/07/26 01:13:56 brlcad Exp $ (BRL)";
d42 1
a42 5
#ifdef HAVE_STRING_H
#  include <string.h>
#else
#  include <strings.h>
#endif
@


14.23.2.1
log
@merge from head, make linger the default framebuffer action instead of transient for all windowing framebuffer interfaces.
@
text
@d35 1
a35 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.24 2007/09/15 16:23:10 brlcad Exp $ (BRL)";
d42 5
a46 1
#include <string.h>
@


14.22
log
@remove ephemeral data like phone numbers and addresses, including the misleading 'source' statements on code that is continually evolving and receiving contributions from many many sources
@
text
@d35 1
a35 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.21 2007/01/27 01:41:37 brlcad Exp $ (BRL)";
d50 5
a54 1
#include "./fblocal.h"
d147 2
a148 1
	if( (ifp = (FBIO *) calloc( sizeof(FBIO), 1 )) == FBIO_NULL ) {
d208 2
a209 4
	if( (ifp->if_name = (char*)malloc( (unsigned) strlen( file ) + 1 ))
	    == (char *) NULL
	    )
	{
@


14.21
log
@ws. lots and lots of ws.  see sh/ws.sh for details (cases 'abcdeg').
@
text
@a30 5
 *  Source -
 *	SECAD/VLD Computing Consortium, Bldg 394
 *	The U. S. Army Ballistic Research Laboratory
 *	Aberdeen Proving Ground, Maryland  21005-5066
 *
d35 1
a35 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.20 2007/01/23 01:13:34 brlcad Exp $ (BRL)";
@


14.20
log
@Sweeping license updates.  Documentation is fully relicensed to the BSD Documentation License (a minor variant of the FreeBSD Documentation License and BSD License).  All GPL code (mostly application code) is converted to the LGPL and now also specifically declares version 2.1, revoking the blank check to the FSF.  The intent of these sweeping changes are to simplify the licensing terms and increase overall flexibility of use, both externally (to users for their purposes) and internally (to allow application code to be migrated to libraries without creating GPL libraries).  As a collective work, BRL-CAD is now LGPL.
@
text
@d40 1
a40 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.19 2007/01/21 04:45:42 brlcad Exp $ (BRL)";
d174 1
a174 1
		    	/* found it, copy its struct in */
@


14.19
log
@ugh, what tedium.  put some effort towards cleaning up the doxygen labels and making the headers more consistent.  also exclusively using @@ for doxygen instead of \ to try to keep things more consistent.
@
text
@d9 1
a9 2
 * as published by the Free Software Foundation; either version 2 of
 * the License, or (at your option) any later version.
d14 1
a14 1
 * Library General Public License for more details.
d40 1
a40 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.18 2007/01/20 14:36:52 brlcad Exp $ (BRL)";
@


14.18
log
@update copyright to 2007
@
text
@d24 1
a24 1
/*@@{*/
d38 1
a38 1
/*@@}*/
d41 1
a41 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.17 2006/08/10 01:04:33 brlcad Exp $ (BRL)";
@


14.17
log
@add Tk to the list of known interfaces if IF_TK is defined
@
text
@d4 1
a4 1
 * Copyright (c) 1986-2006 United States Government as represented by
d41 1
a41 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.16 2006/08/07 20:21:47 brlcad Exp $ (BRL)";
@


14.16
log
@decouple IF_X from the other framebuffer interfaces (ogl and wgl in particular).  Windows should not define IF_X unless they want the X11 interface.
@
text
@d41 1
a41 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.15 2006/08/07 17:55:16 brlcad Exp $ (BRL)";
d90 3
@


14.15
log
@IF_4D interface is not really shipped any more, don't talk about it
@
text
@d41 1
a41 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.14 2006/08/07 16:04:39 brlcad Exp $ (BRL)";
a112 1
#  ifndef _WIN32
a114 1
#  endif
@


14.14
log
@add explicit code for DM_WGL and IF_WGL for Windows GL support instead of piggybacking off of the OGL interface
@
text
@d41 1
a41 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.13 2006/01/29 00:51:54 brlcad Exp $ (BRL)";
d96 1
a96 1
#if defined(IF_SGI) || defined(IF_4D) || defined(IF_5D)
@


14.13
log
@more libbu memory management and header cleanup
@
text
@d41 1
a41 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.12 2006/01/18 06:46:16 brlcad Exp $ (BRL)";
d100 3
@


14.12
log
@update copyright to 2006
@
text
@d41 1
a41 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.11 2005/12/23 21:26:30 bob1961 Exp $ (BRL)";
a45 1

d49 1
a49 1
#include <string.h>
d51 1
a51 1
#include <strings.h>
d58 1
@


14.11
log
@Merge of bobWinPort
@
text
@d4 1
a4 1
 * Copyright (C) 1986-2005 United States Government as represented by
d41 1
a41 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.10 2005/10/23 04:44:34 brlcad Exp $ (BRL)";
@


14.10
log
@trailing ws
@
text
@d41 1
a41 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.9 2005/09/16 19:27:51 brlcad Exp $ (BRL)";
a86 1

d177 1
d185 1
@


14.9
log
@the interfaces are now all declared in include/fbio.h for all to use
@
text
@d22 1
a22 1
/** \defgroup fb Framebuffer 
d36 1
a36 1
 *  
d41 1
a41 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.8 2005/08/12 22:30:12 lbutler Exp $ (BRL)";
@


14.8
log
@Doxygen changes
@
text
@d41 1
a41 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.7 2005/05/28 02:14:51 brlcad Exp $ (BRL)";
a86 42
#ifdef IF_REMOTE
extern FBIO remote_interface;	/* not in list[] */
#endif

#ifdef IF_ADAGE
extern FBIO adage_interface;
#endif
#ifdef IF_SUN
extern FBIO sun_interface;
#endif
#if defined(IF_SGI) || defined(IF_4D)
extern FBIO sgi_interface;
#endif
/* Carl Nuzman experimental version */
#ifdef IF_OGL
extern FBIO ogl_interface;
#endif
#ifdef IF_RAT
extern FBIO rat_interface;
#endif
#ifdef IF_UG
extern FBIO ug_interface;
#endif
#ifdef IF_X
#ifndef _WIN32 
extern FBIO X24_interface;
extern FBIO X_interface;
#endif
#endif
#ifdef IF_PTTY
extern FBIO ptty_interface;
#endif
#ifdef IF_AB
extern FBIO abekas_interface;
#endif
#ifdef IF_TS
extern FBIO ts_interface;
#endif

/* Always included */
extern FBIO debug_interface, disk_interface, stk_interface;
extern FBIO memory_interface, null_interface;
d100 1
a100 1
/* Carl Nuzman experimental version */
d111 1
a111 1
#ifndef _WIN32
d114 1
a114 1
#endif
@


14.8.4.1
log
@merge changes from HEAD aka rel-7-6-4 to the rel-7-6-branch just in case someone peeks a gander or tries to continue/build the branch
@
text
@d22 1
a22 1
/** \defgroup fb Framebuffer
d36 1
a36 1
 *
d41 1
a41 1
static const char RCSid[] = "@@(#)$Header$ (BRL)";
d87 42
d142 1
a142 1

d153 1
a153 1
#  ifndef _WIN32
d156 1
a156 1
#  endif
@


14.8.2.1
log
@Mods for windows port
@
text
@d41 1
a41 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.8 2005/08/12 22:30:12 lbutler Exp $ (BRL)";
d87 4
a219 1

a226 1

@


14.7
log
@convert WIN32 define checks to _WIN32 since the latter is one of the defaults provided by MSVC whereas the prior is not.  remove some of them related to header inclusions using HAVE_ defines instead.
@
text
@d21 4
d38 2
d41 1
a41 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.6 2005/01/30 20:30:48 brlcad Exp $ (BRL)";
@


14.6
log
@update copyright to 2005
@
text
@d35 1
a35 1
static const char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/libfb/fb_generic.c,v 14.5 2004/12/21 06:38:20 morrison Exp $ (BRL)";
d105 1
a105 1
#ifndef WIN32 
d147 1
a147 1
#ifndef WIN32
@


14.5
log
@remove the old copyright notice section
@
text
@d4 1
a4 1
 * Copyright (c) 1986-2004 United States Government as represented by
d35 1
a35 1
static const char RCSid[] = "@@(#)$Header: /cvs/brlcad/src/libfb/fb_generic.c,v 14.4 2004/12/21 06:18:44 morrison Exp $ (BRL)";
@


14.4
log
@they should have received a copy of the LGPL with LGPL'd files
@
text
@a32 3
 *  Copyright Notice -
 *	This software is Copyright (C) 1986-2004 by the United States Army.
 *	All rights reserved.
d35 1
a35 1
static const char RCSid[] = "@@(#)$Header: /cvs/brlcad/src/libfb/fb_generic.c,v 14.3 2004/12/21 05:45:22 morrison Exp $ (BRL)";
@


14.3
log
@s/GNU Library General/GNU Lesser General/g
@
text
@d17 2
a18 2
 * You should have received a copy of the GNU General Public License
 * along with this file; see the file named COPYING for more
d38 1
a38 1
static const char RCSid[] = "@@(#)$Header: /cvs/brlcad/src/libfb/fb_generic.c,v 14.2 2004/12/21 03:58:27 morrison Exp $ (BRL)";
@


14.2
log
@assign copyright and LGPL
@
text
@d8 1
a8 1
 * modify it under the terms of the GNU Library General Public License
d38 1
a38 1
static const char RCSid[] = "@@(#)$Header: /cvs/brlcad/src/libfb/fb_generic.c,v 14.1 2004/11/16 19:42:14 morrison Exp $ (BRL)";
@


14.1
log
@dawn of a new revision.  it shall be numbered 14 to match release 7.  begin the convergence by adding emacs/vi local variable footer blocks to encourage consistent formatting.
@
text
@d1 21
a21 2
/*
 *			F B _ G E N E R I C
d38 1
a38 1
static const char RCSid[] = "@@(#)$Header: /cvs/brlcad/src/libfb/fb_generic.c,v 1.6 2004/09/08 19:44:21 kermit Exp $ (BRL)";
@


1.6
log
@Added <stdlib.h> to fix implicit cast (for IA64 architecture).
@
text
@d19 1
a19 1
static const char RCSid[] = "@@(#)$Header: /cvs/brlcad/src/libfb/fb_generic.c,v 1.5 2004/09/03 23:30:57 morrison Exp $ (BRL)";
d350 10
@


1.5
log
@USE_STRING_H is no more.. it's HAVE_STRING_H
@
text
@d19 1
a19 1
static const char RCSid[] = "@@(#)$Header: /cvs/brlcad/src/libfb/fb_generic.c,v 1.4 2004/08/02 23:01:48 morrison Exp $ (BRL)";
d25 1
a25 1

@


1.4
log
@replace the wrapped config.h block with common.h
@
text
@d19 1
a19 1
static const char RCSid[] = "@@(#)$Header: /cvs/brlcad/src/libfb/fb_generic.c,v 1.3 2004/06/08 22:46:51 morrison Exp $ (BRL)";
d27 1
a27 1
#ifdef USE_STRING_H
@


1.3
log
@quell assignment warnings
@
text
@d19 1
a19 1
static const char RCSid[] = "@@(#)$Header$ (BRL)";
d22 1
a22 3
#ifdef HAVE_CONFIG_H
# include "config.h"
#endif
@


1.2
log
@obliterate externs.h
@
text
@d174 1
a174 1
		if( (file = getenv( "FB_FILE" )) == NULL || *file == '\0' )  {
d226 1
a226 1
	if( (ifp->if_name = malloc( (unsigned) strlen( file ) + 1 ))
@


1.1
log
@Vast reorganization begins.  Sources moved from top-level directories into src/.
@
text
@d19 1
a19 1
static const char RCSid[] = "@@(#)$Header: /cvs/brlcad/libfb/fb_generic.c,v 11.18 2004/05/10 15:30:44 erikg Exp $ (BRL)";
a35 1
#include "externs.h"
@

