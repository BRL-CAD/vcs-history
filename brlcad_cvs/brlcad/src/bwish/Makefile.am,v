head	14.25;
access;
symbols
	rel-7-10-4:14.23
	STABLE:14.23.0.2
	stable-branch:14.4
	rel-7-10-2:14.22
	rel-7-10-0:14.22
	rel-7-8-4:14.14
	rel-7-8-2:14.13
	rel-7-8-0:14.13
	trimnurbs-branch:14.13.0.2
	help:14.13
	temp_tag:14.13
	bobWinPort-20051223-freeze:14.10
	postmerge-20051223-bobWinPort:14.13
	premerge-20051223-bobWinPort:14.13
	rel-7-6-6:14.13
	rel-7-6-4:14.13
	rel-7-6-2:14.11
	rel-7-6-branch:14.11.0.2
	rel-7-6-0:14.11
	rel-7-4-2:14.9.2.1
	rel-7-4-branch:14.9.0.2
	bobWinPort:14.10.0.2
	rel-7-4-0:14.9
	rel-7-2-6:14.5
	rel-7-2-4:14.5
	rel-7-2-2:14.4
	rel-7-2-0:14.1
	rel-7-0-4:14.1
	rel-7-0-2:14.1
	rel-7-0-1:14.1
	opensource-post:14.1
	opensource-pre:1.8
	rel-7-0-branch:1.8.0.2
	rel-7-0:1.8;
locks; strict;
comment	@# @;


14.25
date	2007.11.20.19.19.54;	author brlcad;	state Exp;
branches;
next	14.24;

14.24
date	2007.10.01.03.48.20;	author brlcad;	state Exp;
branches;
next	14.23;

14.23
date	2007.09.07.19.54.16;	author erikgreenwald;	state Exp;
branches;
next	14.22;

14.22
date	2007.04.03.02.47.04;	author brlcad;	state Exp;
branches;
next	14.21;

14.21
date	2007.03.08.07.05.31;	author brlcad;	state Exp;
branches;
next	14.20;

14.20
date	2007.03.06.14.45.29;	author erikgreenwald;	state Exp;
branches;
next	14.19;

14.19
date	2007.03.05.07.28.28;	author brlcad;	state Exp;
branches;
next	14.18;

14.18
date	2007.02.20.20.13.59;	author erikgreenwald;	state Exp;
branches;
next	14.17;

14.17
date	2007.02.03.20.06.54;	author brlcad;	state Exp;
branches;
next	14.16;

14.16
date	2007.02.03.10.34.12;	author brlcad;	state Exp;
branches;
next	14.15;

14.15
date	2007.02.03.08.43.49;	author brlcad;	state Exp;
branches;
next	14.14;

14.14
date	2006.08.01.16.02.55;	author brlcad;	state Exp;
branches;
next	14.13;

14.13
date	2005.10.29.17.48.11;	author brlcad;	state Exp;
branches;
next	14.12;

14.12
date	2005.10.24.03.21.12;	author brlcad;	state Exp;
branches;
next	14.11;

14.11
date	2005.08.21.02.48.52;	author brlcad;	state Exp;
branches
	14.11.2.1;
next	14.10;

14.10
date	2005.07.18.05.11.03;	author brlcad;	state Exp;
branches;
next	14.9;

14.9
date	2005.07.11.05.37.43;	author brlcad;	state Exp;
branches
	14.9.2.1;
next	14.8;

14.8
date	2005.06.29.21.55.49;	author brlcad;	state Exp;
branches;
next	14.7;

14.7
date	2005.06.29.21.44.55;	author brlcad;	state Exp;
branches;
next	14.6;

14.6
date	2005.06.25.00.10.49;	author brlcad;	state Exp;
branches;
next	14.5;

14.5
date	2005.04.18.03.39.27;	author brlcad;	state Exp;
branches;
next	14.4;

14.4
date	2005.04.02.20.55.18;	author brlcad;	state Exp;
branches;
next	14.3;

14.3
date	2005.04.02.17.52.39;	author brlcad;	state Exp;
branches;
next	14.2;

14.2
date	2005.03.31.15.52.49;	author brlcad;	state Exp;
branches;
next	14.1;

14.1
date	2004.11.16.19.42.12;	author morrison;	state Exp;
branches;
next	1.8;

1.8
date	2004.10.07.10.53.50;	author morrison;	state Exp;
branches;
next	1.7;

1.7
date	2004.08.02.06.47.17;	author morrison;	state Exp;
branches;
next	1.6;

1.6
date	2004.07.27.17.48.26;	author morrison;	state Exp;
branches;
next	1.5;

1.5
date	2004.07.27.15.44.21;	author morrison;	state Exp;
branches;
next	1.4;

1.4
date	2004.07.23.03.04.01;	author morrison;	state Exp;
branches;
next	1.3;

1.3
date	2004.06.22.17.52.37;	author morrison;	state Exp;
branches;
next	1.2;

1.2
date	2004.06.15.13.44.13;	author erikg;	state Exp;
branches;
next	1.1;

1.1
date	2004.05.20.15.18.45;	author morrison;	state Exp;
branches;
next	;

14.9.2.1
date	2005.08.16.21.03.47;	author brlcad;	state Exp;
branches;
next	;

14.11.2.1
date	2005.11.13.13.46.13;	author brlcad;	state Exp;
branches;
next	;


desc
@@


14.25
log
@add more files missing from the source dist
@
text
@# $Id: Makefile.am,v 14.24 2007/10/01 03:48:20 brlcad Exp $

bin_PROGRAMS = \
	btclsh \
	bwish

# static is required to avoid MIPSpro 7.3 long rpath linker bug
if LINK_STATIC_REQUIRED
bwish_LDFLAGS = -static
endif

bwish_CFLAGS = \
	-DBWISH=1 \
	${X_CFLAGS} \
	${ITCL_CPPFLAGS} \
	${ITK_CPPFLAGS} \
	${TCL_CPPFLAGS} \
	${TK_CPPFLAGS} \
	-I$(top_srcdir)/src/other/tcl/generic \
	-I$(top_srcdir)/src/other/tcl/unix \
	-I$(top_srcdir)/src/other/tk/generic \
	-I$(top_srcdir)/src/other/tk/unix

bwish_SOURCES = \
	cmd.c \
	input.c \
	main.c \
	tcl.c

blib_LIBS = \
	${TCLCAD} \
	${DM} \
	${BLT} \
	${ITK} \
	${ITCL} \
	${TK} \
	${TCL} \
	${TERMIO}

bwish_LDADD = ${blib_LIBS}

# static is required to avoid MIPSpro 7.3 long rpath linker bug
if LINK_STATIC_REQUIRED
btclsh_LDFLAGS = -static
endif

btclsh_CFLAGS = \
	${ITCL_CPPFLAGS} \
	${TCL_CPPFLAGS}

btclsh_SOURCES = \
	cmd.c \
	input.c \
	main.c \
	tcl.c

btclsh_LDADD = \
	${blib_LIBS}

EXTRA_DIST = \
	consoleMain.c \
	unixMain.c \
	cadAppInit.c \
	winMain.c

DEPS=src/libdm

include $(top_srcdir)/misc/Makefile.defs

FAST_OBJECTS = \
	$(bwish_OBJECTS) \
	$(btclsh_OBJECTS) \
	$(bin_PROGRAMS)
@


14.24
log
@preinit blt.  only used by archer and unfortunately the lib seems to be a dead/abandoned project atm, but since we use it, preinit helps.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.23 2007/09/07 19:54:16 erikgreenwald Exp $
d60 6
@


14.23
log
@add link dependancy information to shared libraries and reduce redundancy
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.22 2007/04/03 02:47:04 brlcad Exp $
d33 1
d40 1
a40 2
bwish_LDADD = \
	${blib_LIBS}
@


14.22
log
@restructure library linkages so that brl-cad libraries no longer list their dependencies as a LIBADD.  dependencies are moved into configure.ac and provided via _LIBS variables so that they are specified at link time.  this supports hybrid static library compilation as well as other more varied mixture configurations.  use the new _LIBS variables throughout.  probably want to re-combine them later into a single symbol name per library but this will suffice for now.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.21 2007/03/08 07:05:31 brlcad Exp $
d31 2
a32 7
	${TCLCAD} ${TCLCAD_LIBS} \
	${RT} ${RT_LIBS} \
	${DM} ${DM_LIBS} \
	${FB} ${FB_LIBS} \
	${BN} ${BN_LIBS} \
	${BU} ${BU_LIBS} \
	${PKG} ${PKG_LIBS} \
d37 1
a37 2
	${TERMIO} ${TERMIO_LIBS} \
	${SYSV} ${SYSV_LIBS}
@


14.21
log
@whoosh! push BU, BN, and RT (and maybe one or two others) out of library LIBADD declarations down to application LDADD linkage.  this means that there might be issues to solve again towards being able to generate fully contained/resolved libraries (e.g. frameworks), but solves the current problem of linking against static tcl/tk libraries portably.  duplicate symbols become a problem at link time (bu, bn, and rt all use tcl).  pushing the link specification all the way down to the binary (so far) makes everyone happy.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.20 2007/03/06 14:45:29 erikgreenwald Exp $
d31 7
a37 7
	${TCLCAD} \
	${RT} \
	${DM} \
	${FB} \
	${BN} \
	${BU} \
	${PKG} \
d42 2
a43 2
	${TERMIO} \
	${SYSV}
@


14.20
log
@include SYSV where needed (cygwin)
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.19 2007/03/05 07:28:28 brlcad Exp $
d37 1
@


14.19
log
@itk needs access to tcl/tk private headers (time to consider moving this to ITK_CPPFLAGS)
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.18 2007/02/20 20:13:59 erikgreenwald Exp $
d41 2
a42 1
	${TERMIO}
@


14.18
log
@dependancy info
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.17 2007/02/03 20:06:54 brlcad Exp $
d18 5
a22 1
	${TK_CPPFLAGS}
@


14.17
log
@last one, remove the tk headers from our include/ directory.  use the TK_CPPFLAGS automake variable instead, pointing to the headers in src/other/libtk/generic/ dir
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.16 2007/02/03 10:34:12 brlcad Exp $
d60 2
@


14.16
log
@*yawn* remove one of the big two remaining public header sets from our include/ directory.  remove tcl headers from include/ and utilize the TCL_CPPFLAGS so compilation pulls headers from within src/other/libtcl instead.  since bu.h and raytrace.h include tcl foo, this implicates a change across almost the entire build to add the new CPPFLAGS.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.15 2007/02/03 08:43:49 brlcad Exp $
d17 2
a18 1
	${TCL_CPPFLAGS}
@


14.15
log
@remove the itcl/itk header files from our include/ directory, moving them back up to src/other/incrTcl.  utilize the new ITCL_CPPFLAGS and ITK_CPPFLAGS accordingly.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.14 2006/08/01 16:02:55 brlcad Exp $
d16 2
a17 1
	${ITK_CPPFLAGS}
d45 5
a49 1
btclsh_CFLAGS = ${ITCL_CPPFLAGS}
@


14.14
log
@update the usage of LIBRT from configure to be RT instead so that it is consistent with the other BU, BN, WDB etc library defines, using the LIB prefix mostly on third party or external libraries instead.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.13 2005/10/29 17:48:11 brlcad Exp $
d12 5
a16 1
bwish_CFLAGS = ${X_CFLAGS} -DBWISH=1
d44 1
a44 1

@


14.13
log
@try making the libs consistent between bwish and btclsh to get around symbol and run-time issues
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.12 2005/10/24 03:21:12 brlcad Exp $
d22 1
a22 1
	${LIBRT} \
@


14.12
log
@libtclcad no longer includes tk, so link against it
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.11 2005/08/21 02:48:52 brlcad Exp $
d20 1
a20 5
bwish_LDADD = \
	${TK} \
	${TCL} \
	${ITK} \
	${ITCL} \
d22 1
a24 2
	${LIBRT} \
	${TERMIO} \
d26 9
a34 1
	${BU}
d48 1
a48 9
	${LIBRT} \
	${ITCL} \
	${TERMIO} \
	${TCL} \
	${TCLCAD} \
	${TK} \
	${BN} \
	${BU}

@


14.11
log
@add LINK_STATIC_REQUIRED to handle the MIPSpro 7.3 linker bug where rpath lines longer than 255 causes the linker to crash, link [b]tclsh/[b]wish static for that compiler
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.10 2005/07/18 05:11:03 brlcad Exp $
d50 1
@


14.11.2.1
log
@merge changes from HEAD aka rel-7-6-4 to the rel-7-6-branch just in case someone peeks a gander or tries to continue/build the branch
@
text
@d1 1
a1 1
# $Id$
d20 5
a24 1
blib_LIBS = \
a25 1
	${LIBRT} \
d28 2
d31 1
a31 9
	${BU} \
	${ITK} \
	${ITCL} \
	${TK} \
	${TCL} \
	${TERMIO}

bwish_LDADD = \
	${blib_LIBS}
d45 8
a52 1
	${blib_LIBS}
@


14.10
log
@add libtclcad to the btclsh deps since it's using tclcad_auto_path now
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.9 2005/07/11 05:37:43 brlcad Exp $
d7 7
a19 4
bwish_LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) -o $@@

bwish_CFLAGS = ${X_CFLAGS} -DBWISH=1

d33 5
a52 8
# hack to work around the irix compiler crashing on the libtool btclsh
# relink attempt when we get to tclscripts.
.libs/lt-btclsh: btclsh
	@@if test -f "$(top_builddir)/src/bwish/.libs/btclsh" ; then \
		$(CP) $(top_builddir)/src/bwish/.libs/btclsh $(top_builddir)/src/bwish/.libs/lt-btclsh ; \
	fi

all-am: $(BTCLSH_DEPENDENCY)
@


14.9
log
@might not work on some other platforms, but ia64 seems to ignore libtk if it comes later in the link list for some reason (doesn't cause a problem, per se -- no linker errors, just U nm symbols).
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.8 2005/06/29 21:55:49 brlcad Exp $
d41 1
@


14.9.2.1
log
@merge in changes through Aug10 for 7.4.2 release
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.10 2005/07/18 05:11:03 brlcad Exp $
a40 1
	${TCLCAD} \
@


14.8
log
@oops, continue-terminate the damn line
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.7 2005/06/29 21:44:55 brlcad Exp $
d15 1
a15 1
bwish_CFLAGS = -DBWISH=1 ${X_CFLAGS}
d18 4
a25 2
	${ITK} \
	${ITCL} \
a26 1
	${TCL} \
@


14.7
log
@Debian libtool in-place relink is _insisting_ that bwish and btclsh specify tcl, bu, and bn and library dependencies or it ends up with multiple instances of both in ldd where one is located and the second is not
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.6 2005/06/25 00:10:49 brlcad Exp $
d38 1
a38 1
	${TERMIO}
@


14.6
log
@include misc/Makefile.defs and an initial FAST_OBJECTS list so that the products in this directory may be compiled AND linked in parallel
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.5 2005/04/18 03:39:27 brlcad Exp $
d24 4
a27 1
	${TERMIO}
d39 3
@


14.5
log
@drop the _LIBS on incrTcl libs to be consistent
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.4 2005/04/02 20:55:18 brlcad Exp $
d45 7
@


14.4
log
@hack to work around the irix compiler crashing on the libtool btclsh relink attempt when we get to tclscripts -- only do the hack for that os/compiler since it will cause link problems on other platforms
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.3 2005/04/02 17:52:39 brlcad Exp $
d22 2
a23 2
	${ITK_LIBS} \
	${ITCL_LIBS} \
d34 1
a34 1
	${ITCL_LIBS} \
@


14.3
log
@hack to work around the irix compiler crashing on the libtool btclsh relink attempt when we get to tclscripts.  this lets all of the pkgIndex and tclIndex scripts get generated during the build so the build doesn't halt (should be mipspro-specific as it's a compiler crash on relink)
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.2 2005/03/31 15:52:49 brlcad Exp $
d44 1
a44 1
all-am: .libs/lt-btclsh
@


14.2
log
@simplify the libraries to (hopefully) just what is needed
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.1 2004/11/16 19:42:12 morrison Exp $
d36 9
@


14.1
log
@dawn of a new revision.  it shall be numbered 14 to match release 7.  begin the convergence by adding emacs/vi local variable footer blocks to encourage consistent formatting.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.8 2004/10/07 10:53:50 morrison Exp $
a17 4
	${ITCL_LIBS} \
	${TCL} \
	${TK} \
	${ITK_LIBS} \
d19 1
d21 4
a24 5
	${DM} \
	${SYSV} \
	${TERMIO} \
	${WDB} \
	${PNG}
d33 1
d35 1
a35 7
	${TCL} \
	${PKG} \
	${LIBRT} \
	${SYSV} \
	${TERMIO} \
	${WDB}

@


1.8
log
@s/{RT}/{LIBRT}/g so that we do not conflict with the benchmark suite's  RT environment variable.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.7 2004/08/02 06:47:17 morrison Exp $
@


1.7
log
@replace automake variables with make variables and other minor cleanups
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.6 2004/07/27 17:48:26 morrison Exp $
d40 1
a40 1
	${RT} \
@


1.6
log
@override LDFLAGS the hard way.  still need a better configure.ac approach, but this seems to behave much better.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.5 2004/07/27 15:44:21 morrison Exp $
d3 9
a11 1
bin_PROGRAMS = bwish btclsh
a12 1
bwish_SOURCES = cmd.c input.c main.c tcl.c
a13 2
bwish_LDADD = @@TK_LIBS@@ @@ITK_LIBS@@ @@TCLCAD@@ @@ITCL_LIBS@@ @@FB@@ @@DM@@ @@SYSV@@ @@TERMIO@@ @@WDB@@ @@PNG_LIBS@@
bwish_CFLAGS = -DBWISH=1 @@X_CFLAGS@@
d15 29
a43 2
btclsh_SOURCES = cmd.c input.c main.c tcl.c
btclsh_LDADD = @@ITCL_LIBS@@ @@PKG@@ @@RT@@ @@SYSV@@ @@TERMIO@@ @@WDB@@
@


1.5
log
@be specific about LDFLAGS instead of appending
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.4 2004/07/23 03:04:01 morrison Exp $
d6 2
a7 1
bwish_LDFLAGS = @@ITK_LIBS@@ @@TK_LIBS@@ @@TCLCAD@@ @@ITCL_LIBS@@ @@FB@@ @@DM@@ @@SYSV@@ @@TERMIO@@ @@WDB@@ @@PNG_LIBS@@
@


1.4
log
@try not overriding the LDFLAGS user var, override AM_LDFLAGS instead
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.3 2004/06/22 17:52:37 morrison Exp $
a4 1
AM_LDFLAGS =
d6 1
a6 1
bwish_LDADD = @@ITK_LIBS@@ @@TK_LIBS@@ @@TCLCAD@@ @@ITCL_LIBS@@ @@FB@@ @@DM@@ @@SYSV@@ @@TERMIO@@ @@WDB@@ @@PNG_LIBS@@
@


1.3
log
@reorder includes and disable ldflags so that a system libtk is not linked in (bezier canvas symbol needed)
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.2 2004/06/15 13:44:13 erikg Exp $
d5 1
a5 1
LDFLAGS =
@


1.2
log
@get rid of (bad, "h" dir) AM_CFLAG crud
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.1 2004/05/20 15:18:45 morrison Exp $
d5 1
d7 1
a7 1
bwish_LDADD = @@FB@@ @@DM@@ @@ITK_LIBS@@ @@TK_LIBS@@ @@TCLCAD@@ @@ITCL_LIBS@@ @@SYSV@@ @@TERMIO@@ @@WDB@@ @@PNG_LIBS@@
@


1.1
log
@Vast reorganization begins.  Sources moved from top-level directories into src/.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.5 2004/05/10 15:25:26 morrison Exp $
a3 1
AM_CFLAGS = -I$(top_srcdir)/h
@

