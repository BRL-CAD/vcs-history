head	14.6;
access;
symbols
	rel-7-10-4:14.6
	STABLE:14.6.0.4
	stable-branch:14.4
	rel-7-10-2:14.6
	rel-7-10-0:14.6
	rel-7-8-4:14.6
	rel-7-8-2:14.6
	rel-7-8-0:14.6
	trimnurbs-branch:14.6.0.2
	help:14.6
	temp_tag:14.6
	bobWinPort-20051223-freeze:14.5
	postmerge-20051223-bobWinPort:14.6
	premerge-20051223-bobWinPort:14.6
	rel-7-6-6:14.6
	rel-7-6-4:14.6
	rel-7-6-2:14.5
	rel-7-6-branch:14.5.0.6
	rel-7-6-0:14.5
	rel-7-4-2:14.5
	rel-7-4-branch:14.5.0.4
	bobWinPort:14.5.0.2
	rel-7-4-0:14.5
	rel-7-2-6:14.5
	rel-7-2-4:14.5
	rel-7-2-2:14.4
	rel-7-2-0:14.4
	rel-7-0-4:14.4
	rel-7-0-2:14.4
	rel-7-0-1:14.4
	opensource-post:14.4
	opensource-pre:1.2
	rel-7-0-branch:1.2.0.2
	rel-7-0:1.2;
locks; strict;
comment	@ * @;


14.6
date	2005.10.23.04.44.37;	author brlcad;	state Exp;
branches;
next	14.5;

14.5
date	2005.05.03.05.18.31;	author brlcad;	state Exp;
branches
	14.5.6.1;
next	14.4;

14.4
date	2004.12.21.07.32.31;	author morrison;	state Exp;
branches;
next	14.3;

14.3
date	2004.12.21.06.58.44;	author morrison;	state Exp;
branches;
next	14.2;

14.2
date	2004.12.21.06.44.33;	author morrison;	state Exp;
branches;
next	14.1;

14.1
date	2004.11.16.19.42.17;	author morrison;	state Exp;
branches;
next	1.2;

1.2
date	2004.07.25.05.29.27;	author morrison;	state Exp;
branches;
next	1.1;

1.1
date	2004.05.20.15.20.22;	author morrison;	state Exp;
branches;
next	;

14.5.6.1
date	2005.11.13.13.46.17;	author brlcad;	state Exp;
branches;
next	;


desc
@@


14.6
log
@trailing ws
@
text
@/*
 *		C O M B _ B O O L _ P A R S E . Y
 *
 *	YACC(1) specifiation to parse Boolean expressions for
 *			the 'c' command
 *
 *	This grammar recognizes the classical infix notation that allows
 *	parenthesization and assigns INTERSECTION a higher precedence than
 *	UNION or DIFFERENCE, which are evaluated left-to-right.
 *
 *  Author -
 *	Paul Tanenbaum
 *
 *  Source -
 *	The U. S. Army Research Laboratory
 *	Aberdeen Proving Ground, Maryland  21005-5068  USA
 */

%{
#ifndef lint
static char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/mged/comb_bool_parse.y,v 14.5 2005/05/03 05:18:31 brlcad Exp $ (ARL)";
#endif

#include "common.h"

#include <stdio.h>
#include <string.h>

#include "../mged/comb_bool.h"

/* The following is needed to get "gettxt()" correctly on IRIX platforms */
#undef _POSIX_SOURCE

%}

/*	Token representations
 *	(i.e. terminals)
 */
%token <val_string>	TKN_OBJECT
%token <val_vanilla>	TKN_LPAREN
%token <val_vanilla>	TKN_RPAREN
%token <val_string>	TKN_UNION
%token <val_string>	TKN_DIFFERENCE
%token <val_string>	TKN_INTERSECTION

/*
 *	Nonterminals
 */
%start			start
%type <val_tree>	tree intersectree uniontree

/*
 *	Associativity and precedence
 */
%left	TKN_UNION TKN_DIFFERENCE
%left	TKN_PRODUCT_OP

%union
{
    char			*val_string;
    int				val_vanilla;
    struct bool_tree_node	*val_tree;
}

%%

/*
 *	Productions
 */
start		: uniontree
		    {
			comb_bool_tree = $1;
		    }
		;

uniontree	: intersectree
		    {
			$$ = $1;
		    }
		| uniontree TKN_UNION intersectree
		    {
			$$ = bt_create_internal(OPN_UNION, $1, $3);
		    }
		| uniontree TKN_DIFFERENCE intersectree
		    {
			$$ = bt_create_internal(OPN_DIFFERENCE, $1, $3);
		    }
		;
intersectree	: tree
		    {
			$$ = $1;
		    }
		| intersectree TKN_INTERSECTION tree
		    {
			$$ = bt_create_internal(OPN_INTERSECTION, $1, $3);
		    }
		;
tree		: TKN_OBJECT
		    {
			$$ = bt_create_leaf($1);
		    }
		| TKN_LPAREN uniontree TKN_RPAREN
		    {
			$$ = $2;
		    }
		;
%%

extern char	*bool_op_lexeme[];

/* ??? #include "../mged/comb_bool.c" */

void yyerror (s)
char *s;
{
    (void) fprintf(stderr, "Error: %s\n", s);
}
@


14.5
log
@more config.h references converted to brlcad_config.h (or common.h where appropriate) that apparently slipped under the radar
@
text
@d13 1
a13 1
 *  
d21 1
a21 1
static char RCSid[] = "@@(#)$Header: /cvsroot/brlcad/brlcad/src/mged/comb_bool_parse.y,v 14.4 2004/12/21 07:32:31 morrison Exp $ (ARL)";
d32 1
a32 1
#undef _POSIX_SOURCE 
d47 1
a47 1
 *	Nonterminals	
@


14.5.6.1
log
@merge changes from HEAD aka rel-7-6-4 to the rel-7-6-branch just in case someone peeks a gander or tries to continue/build the branch
@
text
@d13 1
a13 1
 *
d21 1
a21 1
static char RCSid[] = "@@(#)$Header$ (ARL)";
d32 1
a32 1
#undef _POSIX_SOURCE
d47 1
a47 1
 *	Nonterminals
@


14.4
log
@tidy up a lil bit
@
text
@d21 1
a21 1
static char RCSid[] = "@@(#)$Header: /cvs/brlcad/src/mged/comb_bool_parse.y,v 14.3 2004/12/21 06:58:44 morrison Exp $ (ARL)";
d24 1
a24 3
#ifdef HAVE_CONFIG_H
#  include "config.h"
#endif
@


14.3
log
@remove the old copyright notice section as it's been supplanted (and copyright is now claimable in the us via assignmgent)
@
text
@a16 2
 *  
 *
d21 1
a21 1
static char RCSid[] = "@@(#)$Header: /cvs/brlcad/src/mged/comb_bool_parse.y,v 14.2 2004/12/21 06:44:33 morrison Exp $ (ARL)";
@


14.2
log
@remove the old distribution notice section
@
text
@a18 3
 *  Copyright Notice -
 *	This software is Copyright (C) 1995-2004 by the United States Army
 *	in all countries except the USA.  All rights reserved.
d23 1
a23 1
static char RCSid[] = "@@(#)$Header: /cvs/brlcad/src/mged/comb_bool_parse.y,v 14.1 2004/11/16 19:42:17 morrison Exp $ (ARL)";
@


14.1
log
@dawn of a new revision.  it shall be numbered 14 to match release 7.  begin the convergence by adding emacs/vi local variable footer blocks to encourage consistent formatting.
@
text
@a17 4
 *  Distribution Notice -
 *	Re-distribution of this software is restricted, as described in
 *	your "Statement of Terms and Conditions for the Release of
 *	The BRL-CAD Package" agreement.
d26 1
a26 1
static char RCSid[] = "@@(#)$Header: /cvs/brlcad/src/mged/comb_bool_parse.y,v 1.2 2004/07/25 05:29:27 morrison Exp $ (ARL)";
@


1.2
log
@replace conf.h with config.h block
@
text
@d30 1
a30 1
static char RCSid[] = "@@(#)$Header: /n/xoff/cvs/brlcad/src/mged/comb_bool_parse.y,v 1.1 2004/05/20 15:20:22 morrison Exp $ (ARL)";
@


1.1
log
@Vast reorganization begins.  Sources moved from top-level directories into src/.
@
text
@d30 1
a30 1
static char RCSid[] = "@@(#)$Header: /cvs/brlcad/mged/comb_bool_parse.y,v 1.3 2004/02/02 17:39:32 morrison Exp $ (ARL)";
d33 3
a35 1
#include "conf.h"
@

