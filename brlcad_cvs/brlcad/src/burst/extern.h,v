head	14.16;
access;
symbols
	rel-7-10-4:14.13
	STABLE:14.13.0.2
	stable-branch:14.5
	rel-7-10-2:14.13
	rel-7-10-0:14.12
	rel-7-8-4:14.9
	rel-7-8-2:14.9
	rel-7-8-0:14.9
	trimnurbs-branch:14.9.0.2
	help:14.9
	temp_tag:14.8
	bobWinPort-20051223-freeze:14.7
	postmerge-20051223-bobWinPort:14.8
	premerge-20051223-bobWinPort:14.8
	rel-7-6-6:14.8
	rel-7-6-4:14.8
	rel-7-6-2:14.7
	rel-7-6-branch:14.7.0.6
	rel-7-6-0:14.7
	rel-7-4-2:14.7
	rel-7-4-branch:14.7.0.4
	bobWinPort:14.7.0.2
	rel-7-4-0:14.7
	rel-7-2-6:14.7
	rel-7-2-4:14.7
	rel-7-2-2:14.5
	rel-7-2-0:14.5
	rel-7-0-4:14.3
	rel-7-0-2:14.3
	rel-7-0-1:14.3
	opensource-post:14.3
	opensource-pre:1.1
	rel-7-0-branch:1.1.0.2
	rel-7-0:1.1;
locks; strict;
comment	@ * @;


14.16
date	2007.12.06.14.09.26;	author brlcad;	state Exp;
branches;
next	14.15;

14.15
date	2007.12.03.22.57.58;	author brlcad;	state Exp;
branches;
next	14.14;

14.14
date	2007.09.14.20.06.49;	author brlcad;	state Exp;
branches;
next	14.13;

14.13
date	2007.07.26.01.13.50;	author brlcad;	state Exp;
branches;
next	14.12;

14.12
date	2007.02.20.09.30.11;	author brlcad;	state Exp;
branches;
next	14.11;

14.11
date	2007.01.23.01.13.24;	author brlcad;	state Exp;
branches;
next	14.10;

14.10
date	2007.01.20.14.36.42;	author brlcad;	state Exp;
branches;
next	14.9;

14.9
date	2006.01.18.06.46.13;	author brlcad;	state Exp;
branches;
next	14.8;

14.8
date	2005.11.04.14.50.57;	author brlcad;	state Exp;
branches;
next	14.7;

14.7
date	2005.04.27.02.24.27;	author brlcad;	state Exp;
branches
	14.7.6.1;
next	14.6;

14.6
date	2005.04.25.23.37.33;	author brlcad;	state Exp;
branches;
next	14.5;

14.5
date	2005.02.14.03.30.47;	author brlcad;	state Exp;
branches;
next	14.4;

14.4
date	2005.01.30.20.30.16;	author brlcad;	state Exp;
branches;
next	14.3;

14.3
date	2004.12.18.06.50.49;	author morrison;	state Exp;
branches;
next	14.2;

14.2
date	2004.12.18.01.52.36;	author morrison;	state Exp;
branches;
next	14.1;

14.1
date	2004.11.16.19.42.12;	author morrison;	state Exp;
branches;
next	1.1;

1.1
date	2004.05.20.15.18.43;	author morrison;	state Exp;
branches;
next	;

14.7.6.1
date	2005.11.13.13.46.13;	author brlcad;	state Exp;
branches;
next	;


desc
@@


14.16
log
@const format specifier
@
text
@/*                        E X T E R N . H
 * BRL-CAD
 *
 * Copyright (c) 2004-2007 United States Government as represented by
 * the U.S. Army Research Laboratory.
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public License
 * version 2.1 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this file; see the file named COPYING for more
 * information.
 *
 */
/** @@file extern.h
 * Author:		Gary S. Moss
 */

#ifndef __EXTERN_H__
#define __EXTERN_H__

#include "common.h"

#include <stdarg.h>
#include <stdlib.h>
#include <string.h>

#if HAVE_UNISTD_H
#  include <unistd.h>
#endif

#include "machine.h"
#include "fb.h"
#include "bu.h"

#include "./burst.h"
#include "./trie.h"
#include "./Hm.h"

/* External variables from termlib. */
extern char *CS, *DL;
extern int CO, LI;

/* External functions from application. */
extern Colors *findColors();
extern Func *getTrie();
extern Trie *addTrie();
extern boolean chkEntryNorm();
extern boolean chkExitNorm();
extern boolean closFbDevice();
extern boolean imageInit();
extern boolean initUi();
extern boolean openFbDevice();
extern boolean findIdents();
extern boolean readColors();
extern boolean readIdents();
extern int notify();
extern int roundToInt();
extern void closeUi();
extern void colorPartition();
extern void exitCleanly();
extern void freeIdents();
extern void getRtHitNorm();
extern void gridInit();
extern void gridModel();
extern void gridToFb();
extern void locPerror();
extern void logCmd();
extern void paintCellFb();
extern void paintGridFb();
extern void paintSpallFb();
extern void plotGrid();
extern void plotInit();
extern void plotPartition();
extern void plotRay();
extern void prntAspectInit();
extern void prntBurstHdr();
extern void prntCellIdent();
extern void prntDbgPartitions();
extern void prntFiringCoords();
extern void prntFusingComp();
extern void prntGridOffsets();
extern void prntIdents();
extern void prntPhantom();
extern void prntRayHeader();
extern void prntRayIntersect();
extern void prntTimer();
extern void prompt();
extern void readCmdFile();
extern void prntScr(const char *, ...);
extern void brst_log(const char *, ... );
extern void warning();
extern void prntUsage();
extern void clr_Tabs();
extern void prntShieldComp();
extern void qFree();
extern void prntRegionHdr();
extern int qAdd();
extern void prntSeg();
extern void gridRotate();
extern void HmBanner();
extern void spallInit();
extern void readBatchInput();
extern void set_Cbreak();
extern void clr_Echo();
extern void clr_Tabs();
extern void reset_Tty();
extern void save_Tty();

extern void (*norml_sig)(), (*abort_sig)();
extern void abort_RT();
extern void intr_sig();

extern Colors colorids;
extern FBIO *fbiop;
extern FILE *burstfp;
extern FILE *gridfp;
extern FILE *histfp;
extern FILE *outfp;
extern FILE *plotfp;
extern FILE *shotfp;
extern FILE *shotlnfp;
extern FILE *tmpfp;
extern HmMenu *mainhmenu;
extern Ids airids;
extern Ids armorids;
extern Ids critids;
extern unsigned char *pixgrid;
extern unsigned char pixaxis[3];
extern unsigned char pixbkgr[3];
extern unsigned char pixbhit[3];
extern unsigned char pixblack[3];
extern unsigned char pixcrit[3];
extern unsigned char pixghit[3];
extern unsigned char pixmiss[3];
extern unsigned char pixtarg[3];
extern Trie *cmdtrie;

extern boolean batchmode;
extern boolean cantwarhead;
extern boolean deflectcone;
extern boolean dithercells;
extern boolean fatalerror;
extern boolean groundburst;
extern boolean reportoverlaps;
extern boolean reqburstair;
extern boolean shotburst;
extern boolean tty;
extern boolean userinterrupt;

extern char airfile[];
extern char armorfile[];
extern char burstfile[];
extern char cmdbuf[];
extern char cmdname[];
extern char colorfile[];
extern char critfile[];
extern char errfile[];
extern char fbfile[];
extern char gedfile[];
extern char gridfile[];
extern char histfile[];
extern char objects[];
extern char outfile[];
extern char plotfile[];
extern char scrbuf[];
extern char scriptfile[];
extern char shotfile[];
extern char shotlnfile[];
extern char title[];
extern char timer[];
extern char tmpfname[];

extern char *cmdptr;

extern char **template;

extern fastf_t bdist;
extern fastf_t burstpoint[];
extern fastf_t cellsz;
extern fastf_t conehfangle;
extern fastf_t fire[];
extern fastf_t griddn;
extern fastf_t gridlf;
extern fastf_t gridrt;
extern fastf_t gridup;
extern fastf_t gridhor[];
extern fastf_t gridsoff[];
extern fastf_t gridver[];
extern fastf_t grndbk;
extern fastf_t grndht;
extern fastf_t grndfr;
extern fastf_t grndlf;
extern fastf_t grndrt;
extern fastf_t modlcntr[];
extern fastf_t modldn;
extern fastf_t modllf;
extern fastf_t modlrt;
extern fastf_t modlup;
extern fastf_t pitch;
extern fastf_t raysolidangle;
extern fastf_t standoff;
extern fastf_t unitconv;
extern fastf_t viewazim;
extern fastf_t viewelev;
extern fastf_t viewsize;
extern fastf_t yaw;
extern fastf_t xaxis[];
extern fastf_t zaxis[];
extern fastf_t negzaxis[];

extern int co;
extern int devhgt;
extern int devwid;
extern int firemode;
extern int gridsz;
extern int gridxfin;
extern int gridyfin;
extern int gridxorg;
extern int gridyorg;
extern int gridheight;
extern int gridwidth;
extern int li;
extern int nbarriers;
extern int noverlaps;
extern int nprocessors;
extern int nriplevels;
extern int nspallrays;
extern int units;
extern int zoom;

extern struct rt_i *rtip;

#endif  /* __EXTERN_H__ */

/*
 * Local Variables:
 * mode: C
 * tab-width: 8
 * c-basic-offset: 4
 * indent-tabs-mode: t
 * End:
 * ex: shiftwidth=4 tabstop=8
 */
@


14.15
log
@c89 simplification.  assume stdarg is a given.
@
text
@d96 2
a97 2
extern void prntScr( char *, ...);
extern void brst_log( char *, ... );
@


14.14
log
@The c89 headers are all fair game since it's been a requirement since the move to ANSI c89 compliance.  So.. remove the HAVE_STDLIB_H checks and just use the header.  The headers <complex.h>, <fenv.h>, <inttypes.h>, <stdbool.h>, <stdint.h>, and <tgmath.h> were added with C99 and still need to be checked.  There are several other c89 headers that we could just use, though, that are still being checked.
@
text
@d30 3
a32 7
#if defined(HAVE_STDARG_H)
#  include <stdarg.h>
#else
#  ifdef HAVE_VARARGS_H
#    include <varargs.h>
#  endif
#endif
a36 4
#include <string.h>

/* External functions from C library. */
#include <stdlib.h>
a95 1
#if defined(HAVE_STDARG_H)
a97 4
#else
extern void brst_log();
extern void prntScr();
#endif
@


14.13
log
@remove ephemeral data like phone numbers and addresses, including the misleading 'source' statements on code that is continually evolving and receiving contributions from many many sources
@
text
@d44 1
a44 3
#ifdef HAVE_STDLIB_H
#  include <stdlib.h>
#endif
@


14.12
log
@need bu.h for bu_fgets()
@
text
@d22 1
a22 6
	Author:		Gary S. Moss
			U. S. Army Ballistic Research Laboratory
			Aberdeen Proving Ground
			Maryland 21005-5066

	$Header: /cvsroot/brlcad/brlcad/src/burst/extern.h,v 14.11 2007/01/23 01:13:24 brlcad Exp $ (BRL)
@


14.11
log
@Sweeping license updates.  Documentation is fully relicensed to the BSD Documentation License (a minor variant of the FreeBSD Documentation License and BSD License).  All GPL code (mostly application code) is converted to the LGPL and now also specifically declares version 2.1, revoking the blank check to the FSF.  The intent of these sweeping changes are to simplify the licensing terms and increase overall flexibility of use, both externally (to users for their purposes) and internally (to allow application code to be migrated to libraries without creating GPL libraries).  As a collective work, BRL-CAD is now LGPL.
@
text
@d27 1
a27 1
	$Header: /cvsroot/brlcad/brlcad/src/burst/extern.h,v 14.10 2007/01/20 14:36:42 brlcad Exp $ (BRL)
d55 1
@


14.10
log
@update copyright to 2007
@
text
@d8 2
a9 3
 * modify it under the terms of the GNU General Public License as
 * published by the Free Software Foundation; either version 2 of the
 * License, or (at your option) any later version.
d14 1
a14 1
 * General Public License for more details.
d16 2
a17 2
 * You should have received a copy of the GNU General Public License
 * along with this file; see the file named COPYING for more
d27 1
a27 1
	$Header: /cvsroot/brlcad/brlcad/src/burst/extern.h,v 14.9 2006/01/18 06:46:13 brlcad Exp $ (BRL)
@


14.9
log
@update copyright to 2006
@
text
@d4 1
a4 1
 * Copyright (c) 2004-2006 United States Government as represented by
d28 1
a28 1
	$Header: /cvsroot/brlcad/brlcad/src/burst/extern.h,v 14.8 2005/11/04 14:50:57 brlcad Exp $ (BRL)
@


14.8
log
@burst the non-ansi-yet-willing-to-pretend-we-are-c99 bubble that the burst code likes to use.  that is, use static instead of STATIC and don't clobber the bool/true/false reserved words of the c++ compilers.  clean up the headers to support this.
@
text
@d4 1
a4 1
 * Copyright (C) 2004-2005 United States Government as represented by
d28 1
a28 1
	$Header: /cvsroot/brlcad/brlcad/src/burst/extern.h,v 14.7 2005/04/27 02:24:27 brlcad Exp $ (BRL)
@


14.7
log
@get rid of the old STD_SIGNAL_DECLS define since an ansi compliant compiler is necessary now.  if a broken impl is found that needs to be accounted for, it can return as a proper configure check.
@
text
@d28 1
a28 1
	$Header: /cvsroot/brlcad/brlcad/src/burst/extern.h,v 14.6 2005/04/25 23:37:33 brlcad Exp $ (BRL)
d30 4
d37 1
a37 1
# include <stdarg.h>
d39 3
a41 1
#include <varargs.h>
d45 7
a51 1
#include <unistd.h>
a53 1
#include <string.h>
a60 5
/* External functions from C library. */
#ifdef HAVE_STDLIB_H
#  include <stdlib.h>
#endif

d69 9
a77 9
extern bool chkEntryNorm();
extern bool chkExitNorm();
extern bool closFbDevice();
extern bool imageInit();
extern bool initUi();
extern bool openFbDevice();
extern bool findIdents();
extern bool readColors();
extern bool readIdents();
d165 11
a175 11
extern bool batchmode;
extern bool cantwarhead;
extern bool deflectcone;
extern bool dithercells;
extern bool fatalerror;
extern bool groundburst;
extern bool reportoverlaps;
extern bool reqburstair;
extern bool shotburst;
extern bool tty;
extern bool userinterrupt;
d260 2
@


14.7.6.1
log
@merge changes from HEAD aka rel-7-6-4 to the rel-7-6-branch just in case someone peeks a gander or tries to continue/build the branch
@
text
@d28 1
a28 1
	$Header$ (BRL)
a29 4

#ifndef __EXTERN_H__
#define __EXTERN_H__

d33 1
a33 1
#  include <stdarg.h>
d35 1
a35 3
#  ifdef HAVE_VARARGS_H
#    include <varargs.h>
#  endif
d39 1
a39 1
#  include <unistd.h>
d41 1
a42 6

/* External functions from C library. */
#ifdef HAVE_STDLIB_H
#  include <stdlib.h>
#endif

d50 5
d63 9
a71 9
extern boolean chkEntryNorm();
extern boolean chkExitNorm();
extern boolean closFbDevice();
extern boolean imageInit();
extern boolean initUi();
extern boolean openFbDevice();
extern boolean findIdents();
extern boolean readColors();
extern boolean readIdents();
d159 11
a169 11
extern boolean batchmode;
extern boolean cantwarhead;
extern boolean deflectcone;
extern boolean dithercells;
extern boolean fatalerror;
extern boolean groundburst;
extern boolean reportoverlaps;
extern boolean reqburstair;
extern boolean shotburst;
extern boolean tty;
extern boolean userinterrupt;
a253 2
#endif  /* __EXTERN_H__ */

@


14.6
log
@get rid of the antiquated define checks for lrand48 vs. random -- they should be HAVE_ macro checks if they really are necessary anyways and they break/conflict the cygwin build
@
text
@d28 1
a28 1
	$Header: /cvsroot/brlcad/brlcad/src/burst/extern.h,v 14.5 2005/02/14 03:30:47 brlcad Exp $ (BRL)
a129 1
#if STD_SIGNAL_DECLS
a132 5
#else
extern int (*norml_sig)(), (*abort_sig)();
extern int abort_RT();
extern int intr_sig();
#endif
@


14.5
log
@no more BRLCAD4_0
@
text
@d28 1
a28 1
	$Header: /cvsroot/brlcad/brlcad/src/burst/extern.h,v 14.4 2005/01/30 20:30:16 brlcad Exp $ (BRL)
a54 8
#ifdef SYSV
extern long	lrand48();
#else
#if !defined(linux)
extern long	random();
#endif
#endif

@


14.4
log
@update copyright to 2005
@
text
@d28 1
a28 1
	$Header: /cvsroot/brlcad/brlcad/src/burst/extern.h,v 14.3 2004/12/18 06:50:49 morrison Exp $ (BRL)
d30 1
a30 4

#ifdef HAVE_CONFIG_H
# include "config.h"
#endif
d51 2
a52 7
#if (__STDC__ && ! apollo) || (sgi && mips && BRLCAD4_0)
#include <stdlib.h>
#else
extern char *fgets();
extern char *getenv();
extern char *malloc();
extern char *tmpnam();
d54 1
@


14.3
log
@break up the doxygen marker to appease emacs M-x indent-region'ing
@
text
@d4 2
a5 2
 * Copyright (c) 2004 United States Government as represented by the
 * U.S. Army Research Laboratory.
d28 1
a28 1
	$Header: /cvs/brlcad/src/burst/extern.h,v 14.2 2004/12/18 01:52:36 morrison Exp $ (BRL)
@


14.2
log
@assign copyright and GPL license
@
text
@d21 2
a22 1
 **//** @@file extern.h
d28 1
a28 1
	$Header: /cvs/brlcad/src/burst/extern.h,v 14.1 2004/11/16 19:42:12 morrison Exp $ (BRL)
@


14.1
log
@dawn of a new revision.  it shall be numbered 14 to match release 7.  begin the convergence by adding emacs/vi local variable footer blocks to encourage consistent formatting.
@
text
@d1 21
a21 1
/*
d27 1
a27 1
	$Header: /cvs/brlcad/src/burst/extern.h,v 1.1 2004/05/20 15:18:43 morrison Exp $ (BRL)
@


1.1
log
@Vast reorganization begins.  Sources moved from top-level directories into src/.
@
text
@d7 1
a7 1
	$Header: /cvs/brlcad/burst/extern.h,v 1.21 2004/05/10 15:30:41 erikg Exp $ (BRL)
d253 10
@

