head	1.4;
access;
symbols
	rel-7-10-4:1.3
	STABLE:1.3.0.2
	rel-7-10-2:1.3;
locks; strict;
comment	@ * @;


1.4
date	2007.09.14.15.21.06;	author erikgreenwald;	state Exp;
branches;
next	1.3;

1.3
date	2007.05.12.21.03.35;	author brlcad;	state Exp;
branches;
next	1.2;

1.2
date	2007.05.12.04.59.30;	author brlcad;	state Exp;
branches;
next	1.1;

1.1
date	2007.05.12.04.49.49;	author brlcad;	state Exp;
branches;
next	;


desc
@@


1.4
log
@removed trailing whitespace
@
text
@/*                          K I L L . C
 * BRL-CAD
 *
 * Copyright (c) 2007 United States Government as represented by
 * the U.S. Army Research Laboratory.
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public License
 * version 2.1 as published by the Free Software Foundation.
 *
 * This library is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this file; see the file named COPYING for more
 * information.
 */
/** @@file kill.c
 *
 * terminate a given process.
 *
 * Author -
 *   Christopher Sean Morrison
 *
 * Source -
 *   BRL-CAD Open Source
 */
#include "common.h"

/* system headers */
#include <signal.h>

/* common headers */
#include "bu.h"


/**
 * b u _ t e r m i n a t e
 *
 * terminate a given process.
 *
 * returns truthfully whether the process could be killed.
 */
int
bu_terminate(int process)
{
    int successful = 0;

#ifdef HAVE_KILL
    /* kill() returns 0 for success */
    successful = kill(process, SIGKILL);
    successful = !successful;
#else
    HANDLE hProcess = OpenProcess(PROCESS_ALL_ACCESS, TRUE, (DWORD)process);
    if(hProcess != NULL) {
	successful = TerminateProcess(hProcess, 0);
    }
#endif

    return successful;
}

/*
 * Local Variables:
 * tab-width: 8
 * mode: C
 * c-basic-offset: 4
 * indent-tabs-mode: t
 * End:
 * ex: shiftwidth=4 tabstop=8
 */
@


1.3
log
@missing signal.h header
@
text
@d54 1
a54 1
    successful = !successful; 
@


1.2
log
@just in case, DWORD
@
text
@d32 4
d38 1
@


1.1
log
@add support for a consistent means to kill a process via new bu_terminate() call
@
text
@d51 1
a51 1
    HANDLE hProcess = OpenProcess(PROCESS_ALL_ACCESS, TRUE, process);
@

