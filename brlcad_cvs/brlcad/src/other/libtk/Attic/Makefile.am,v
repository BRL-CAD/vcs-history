head	14.12;
access;
symbols
	stable-branch:14.1
	rel-7-8-4:14.9
	rel-7-8-2:14.9
	rel-7-8-0:14.9
	trimnurbs-branch:14.9.0.2
	help:14.9
	temp_tag:14.9
	bobWinPort-20051223-freeze:14.5.2.1
	postmerge-20051223-bobWinPort:14.9
	premerge-20051223-bobWinPort:14.9
	rel-7-6-6:14.9
	rel-7-6-4:14.9
	rel-7-6-2:14.6
	rel-7-6-branch:14.6.0.2
	rel-7-6-0:14.6
	rel-7-4-2:14.4.2.1
	rel-7-4-branch:14.4.0.2
	bobWinPort:14.5.0.2
	rel-7-4-0:14.4
	rel-7-2-6:14.2
	rel-7-2-4:14.1
	rel-7-2-2:14.1
	rel-7-2-0:14.1
	rel-7-0-4:14.1
	rel-7-0-2:14.1
	rel-7-0-1:14.1
	opensource-post:14.1
	opensource-pre:1.17
	rel-7-0-branch:1.17.0.2
	rel-7-0:1.17;
locks; strict;
comment	@# @;


14.12
date	2007.03.02.21.47.19;	author brlcad;	state dead;
branches;
next	14.11;

14.11
date	2007.02.11.15.53.49;	author erikgreenwald;	state Exp;
branches;
next	14.10;

14.10
date	2007.02.07.20.30.35;	author erikgreenwald;	state Exp;
branches;
next	14.9;

14.9
date	2005.10.29.18.57.39;	author brlcad;	state Exp;
branches;
next	14.8;

14.8
date	2005.10.24.05.15.48;	author brlcad;	state Exp;
branches;
next	14.7;

14.7
date	2005.10.24.04.38.17;	author brlcad;	state Exp;
branches;
next	14.6;

14.6
date	2005.08.21.02.48.52;	author brlcad;	state Exp;
branches
	14.6.2.1;
next	14.5;

14.5
date	2005.07.17.06.16.19;	author brlcad;	state Exp;
branches
	14.5.2.1;
next	14.4;

14.4
date	2005.06.25.00.23.15;	author brlcad;	state Exp;
branches
	14.4.2.1;
next	14.3;

14.3
date	2005.06.12.22.04.56;	author brlcad;	state Exp;
branches;
next	14.2;

14.2
date	2005.05.18.15.58.15;	author brlcad;	state Exp;
branches;
next	14.1;

14.1
date	2004.11.16.19.42.25;	author morrison;	state Exp;
branches;
next	1.17;

1.17
date	2004.10.15.08.41.47;	author morrison;	state Exp;
branches;
next	1.16;

1.16
date	2004.10.06.21.34.55;	author morrison;	state Exp;
branches;
next	1.15;

1.15
date	2004.10.06.14.31.32;	author morrison;	state Exp;
branches;
next	1.14;

1.14
date	2004.09.24.20.29.22;	author erikg;	state Exp;
branches;
next	1.13;

1.13
date	2004.09.24.14.51.29;	author morrison;	state Exp;
branches;
next	1.12;

1.12
date	2004.09.09.17.10.14;	author erikg;	state Exp;
branches;
next	1.11;

1.11
date	2004.09.07.15.03.33;	author morrison;	state Exp;
branches;
next	1.10;

1.10
date	2004.09.02.16.52.43;	author erikg;	state Exp;
branches;
next	1.9;

1.9
date	2004.09.02.13.57.54;	author erikg;	state Exp;
branches;
next	1.8;

1.8
date	2004.09.02.03.50.57;	author morrison;	state Exp;
branches;
next	1.7;

1.7
date	2004.08.31.06.53.21;	author morrison;	state Exp;
branches;
next	1.6;

1.6
date	2004.08.31.05.57.42;	author morrison;	state Exp;
branches;
next	1.5;

1.5
date	2004.08.29.17.53.22;	author morrison;	state Exp;
branches;
next	1.4;

1.4
date	2004.08.25.19.47.41;	author morrison;	state Exp;
branches;
next	1.3;

1.3
date	2004.08.02.06.41.18;	author morrison;	state Exp;
branches;
next	1.2;

1.2
date	2004.05.25.20.14.35;	author morrison;	state Exp;
branches;
next	1.1;

1.1
date	2004.05.20.14.52.23;	author morrison;	state Exp;
branches;
next	;

14.4.2.1
date	2005.08.16.21.03.50;	author brlcad;	state Exp;
branches;
next	;

14.5.2.1
date	2005.09.21.13.43.53;	author bob1961;	state Exp;
branches;
next	;

14.6.2.1
date	2005.11.13.13.46.18;	author brlcad;	state Exp;
branches;
next	;


desc
@@


14.12
log
@upgrade tcl/tk from 8.4.6 to 8.5a5; also move to a recursive configure, using AC_CONFIG_SUBDIRS to call upon tcl, tk, and enigma's configure scripts as needed instead of redoing their build systems for our purpose.  this has a rather drastic impact on the way the libraries are linked together, including the need to compile tcl/tk static so as to avoid libtool portability issues as well as letting us take advantage of their build system for reduced maintenance and easing future upgrades.  undoubtedly more build issues to be worked out with other platforms given the extent of this change.  this does move us one step closer towards correctly linking against system tcl/tk installations too.
@
text
@# $Id: Makefile.am,v 14.11 2007/02/11 15:53:49 erikgreenwald Exp $

SUBDIRS = \
	doc \
	generic \
	library \
	unix

EXTRA_DIST = \
	README \
	bitmaps \
	changes \
	compat \
	license.terms \
	mac \
	macosx \
	tests \
	win \
	xlib

lib_LTLIBRARIES = \
	libtk.la \
	libtk@@TK_VERSION@@.la 

libtk_la_SOURCES =
libtk_la_LDFLAGS = -version-info 19:1
libtk_la_LIBADD = \
	generic/tk3d.lo \
	generic/tkArgv.lo \
	generic/tkAtom.lo \
	generic/tkBind.lo \
	generic/tkBitmap.lo \
	generic/tkButton.lo \
	generic/tkCanvArc.lo \
	generic/tkCanvBmap.lo \
	generic/tkCanvImg.lo \
	generic/tkCanvLine.lo \
	generic/tkCanvPoly.lo \
	generic/tkCanvPs.lo \
	generic/tkCanvText.lo \
	generic/tkCanvUtil.lo \
	generic/tkCanvWind.lo \
	generic/tkCanvas.lo \
	generic/tkClipboard.lo \
	generic/tkCmds.lo \
	generic/tkColor.lo \
	generic/tkConfig.lo \
	generic/tkConsole.lo \
	generic/tkCursor.lo \
	generic/tkEntry.lo \
	generic/tkError.lo \
	generic/tkEvent.lo \
	generic/tkFocus.lo \
	generic/tkFont.lo \
	generic/tkFrame.lo \
	generic/tkGC.lo \
	generic/tkGeometry.lo \
	generic/tkGet.lo \
	generic/tkGrab.lo \
	generic/tkGrid.lo \
	generic/tkImage.lo \
	generic/tkImgBmap.lo \
	generic/tkImgGIF.lo \
	generic/tkImgPPM.lo \
	generic/tkImgPhoto.lo \
	generic/tkListbox.lo \
	generic/tkMain.lo \
	generic/tkMenu.lo \
	generic/tkMenuDraw.lo \
	generic/tkMenubutton.lo \
	generic/tkMessage.lo \
	generic/tkObj.lo \
	generic/tkOldConfig.lo \
	generic/tkOption.lo \
	generic/tkPack.lo \
	generic/tkPanedWindow.lo \
	generic/tkPlace.lo \
	generic/tkRectOval.lo \
	generic/tkScale.lo \
	generic/tkScrollbar.lo \
	generic/tkSelect.lo \
	generic/tkStubImg.lo \
	generic/tkStubInit.lo \
	generic/tkStubLib.lo \
	generic/tkStyle.lo \
	generic/tkText.lo \
	generic/tkTextBTree.lo \
	generic/tkTextDisp.lo \
	generic/tkTextImage.lo \
	generic/tkTextIndex.lo \
	generic/tkTextMark.lo \
	generic/tkTextTag.lo \
	generic/tkTextWind.lo \
	generic/tkTrig.lo \
	generic/tkUndo.lo \
	generic/tkUtil.lo \
	generic/tkVisual.lo \
	generic/tkWindow.lo \
	unix/tkUnix.lo \
	unix/tkUnix3d.lo \
	unix/tkUnixButton.lo \
	unix/tkUnixColor.lo \
	unix/tkUnixConfig.lo \
	unix/tkUnixCursor.lo \
	unix/tkUnixDialog.lo \
	unix/tkUnixDraw.lo \
	unix/tkUnixEmbed.lo \
	unix/tkUnixEvent.lo \
	unix/tkUnixFocus.lo \
	unix/tkUnixFont.lo \
	unix/tkUnixInit.lo \
	unix/tkUnixKey.lo \
	unix/tkUnixMenu.lo \
	unix/tkUnixMenubu.lo \
	unix/tkUnixScale.lo \
	unix/tkUnixScrlbr.lo \
	unix/tkUnixSelect.lo \
	unix/tkUnixSend.lo \
	unix/tkUnixWm.lo \
	unix/tkUnixXId.lo \
	${X_LIBS}

libtk@@TK_VERSION@@_la_SOURCES = $(libtk_la_SOURCES)
libtk@@TK_VERSION@@_la_LDFLAGS = $(libtk_la_LDFLAGS)
libtk@@TK_VERSION@@_la_LIBADD = $(libtk_la_LIBADD)

noinst_PROGRAMS = wish

# MIPSpro 7.3 has a linker bug with long rpaths
if LINK_STATIC_REQUIRED
wish_LDFLAGS = -static
endif

# moved from unix to this dir
wish_SOURCES =
wish_LDADD = \
	unix/tkAppInit.lo \
	libtk.la \
	${TCL}

tklibdir = ${libdir}

AM_CFLAGS =
AM_CPPFLAGS = \
	-DTK_LIBRARY="\"${TK_LIBRARY}\"" \
	-I${top_srcdir}/src/other/libtcl/generic \
	-I${top_srcdir}/src/other/libtk/bitmaps \
	-I${top_srcdir}/src/other/libtk/generic \
	-I${top_srcdir}/src/other/libtk/unix \
	-I${top_srcdir}/src/other/libtk/mac \
	-I${top_srcdir}/src/other/libtk/win \
	@@X_CFLAGS@@

if BUILD_TCL
DEPS=src/other/libtcl
else
DEPS=
endif

MAINTAINERCLEANFILES = Makefile.in

include $(top_srcdir)/misc/Makefile.defs

@


14.11
log
@don't add tcl or tk to the dependancy list if using the system ones
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.10 2007/02/07 20:30:35 erikgreenwald Exp $
@


14.10
log
@beginnings of DEPS flags for "make depends" chaining.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.9 2005/10/29 18:57:39 brlcad Exp $
d154 1
d156 3
@


14.9
log
@don't link libtk static, causes trouble in libtclcad on altix where non-PIC get included which causes an ld failure.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.8 2005/10/24 05:15:48 brlcad Exp $
d154 1
@


14.8
log
@unnecessary to include the .la, sort
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.7 2005/10/24 04:38:17 brlcad Exp $
d26 1
a26 1
libtk_la_LDFLAGS = -version-info 19:1 -static
@


14.7
log
@altix adjustments to accommodate non-pic object linking bug
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.6 2005/08/21 02:48:52 brlcad Exp $
a27 1
	generic/libtkstub.la \
a81 1
	generic/tkStubLib.lo \
d84 1
@


14.6
log
@add LINK_STATIC_REQUIRED to handle the MIPSpro 7.3 linker bug where rpath lines longer than 255 causes the linker to crash, link [b]tclsh/[b]wish static for that compiler
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.5 2005/07/17 06:16:19 brlcad Exp $
d28 1
d83 1
a85 1
	generic/tkStubLib.lo \
@


14.6.2.1
log
@merge changes from HEAD aka rel-7-6-4 to the rel-7-6-branch just in case someone peeks a gander or tries to continue/build the branch
@
text
@d1 1
a1 1
# $Id$
d26 1
a26 1
libtk_la_LDFLAGS = -version-info 19:1
@


14.5
log
@move tkCanvBezier.c from the depths of other/libtk/generic to brl-cad's libtclcad library, decoupling brl-cad's tkCanvasBezier modification so that a system libtk may be used straight up.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.4 2005/06/25 00:23:15 brlcad Exp $
d127 6
a132 1
noinst_PROGRAMS = wish wish.static
a140 4
wish_static_SOURCES = $(wish_SOURCES)
wish_static_LDADD = $(wish_LDADD)
wish_static_LDFLAGS = -static

a153 3
.PHONY : test
test: wish.static
	echo 'puts "hi"' | ./wish.static
@


14.5.2.1
log
@Remove -static option from libtk_la_LDFLAGS so shared libs get built
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.5 2005/07/17 06:16:19 brlcad Exp $
d26 1
a26 1
libtk_la_LDFLAGS = -version-info 19:1
@


14.4
log
@include misc/Makefile.defs
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.3 2005/06/12 22:04:56 brlcad Exp $
a34 1
	generic/tkCanvBezier.lo \
@


14.4.2.1
log
@merge in changes through Aug10 for 7.4.2 release
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.5 2005/07/17 06:16:19 brlcad Exp $
d35 1
@


14.3
log
@don't install wish
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.2 2005/05/18 15:58:15 brlcad Exp $
d159 3
@


14.2
log
@search the mac and windows directories too since generic/default.h might include a header from there
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.1 2004/11/16 19:42:25 morrison Exp $
d128 1
a128 1
bin_PROGRAMS = wish wish.static
@


14.1
log
@dawn of a new revision.  it shall be numbered 14 to match release 7.  begin the convergence by adding emacs/vi local variable footer blocks to encourage consistent formatting.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.17 2004/10/15 08:41:47 morrison Exp $
d150 2
@


1.17
log
@refactor tickle tea que for the umpteenth time
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.16 2004/10/06 21:34:55 morrison Exp $
@


1.16
log
@er, i meant the libtool object, not the .o .. dang last second changes
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.15 2004/10/06 14:31:32 morrison Exp $
d27 96
a122 3

# XXX tkPanedWindow.lo is a hack to make the IRIX linker behave
libtk_la_LIBADD = unix/libtku.la generic/libtkg.la generic/tkPanedWindow.lo ${X_LIBS}
d132 4
a135 1
wish_LDADD = unix/libwish.la libtk.la ${TCL}
@


1.15
log
@Major restructuring and fixes so that 'make distcheck' should now work and actually be close to correct.  i.e. the resultant generated tarball should contain contents similar to a CVS export.  This helps it generate a proper distribution and build, install, and uninstall cleanly off of that distribution.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.14 2004/09/24 20:29:22 erikg Exp $
d28 2
a29 2
# XXX tkPanedWindow.o is a hack to make the IRIX linker behave
libtk_la_LIBADD = unix/libtku.la generic/libtkg.la generic/tkPanedWindow.o ${X_LIBS}
@


1.14
log
@source lives in the source dir...
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.13 2004/09/24 14:51:29 morrison Exp $
a4 4
	library

DIST_SUBDIRS = \
	doc \
a8 99
generic_src = \
	$(srcdir)/generic/tk3d.c \
	$(srcdir)/generic/tkArgv.c \
	$(srcdir)/generic/tkAtom.c \
	$(srcdir)/generic/tkBind.c \
	$(srcdir)/generic/tkBitmap.c \
	$(srcdir)/generic/tkButton.c \
	$(srcdir)/generic/tkCanvArc.c \
	$(srcdir)/generic/tkCanvBezier.c \
	$(srcdir)/generic/tkCanvBmap.c \
	$(srcdir)/generic/tkCanvImg.c \
	$(srcdir)/generic/tkCanvLine.c \
	$(srcdir)/generic/tkCanvPoly.c \
	$(srcdir)/generic/tkCanvPs.c \
	$(srcdir)/generic/tkCanvText.c \
	$(srcdir)/generic/tkCanvUtil.c \
	$(srcdir)/generic/tkCanvWind.c \
	$(srcdir)/generic/tkCanvas.c \
	$(srcdir)/generic/tkClipboard.c \
	$(srcdir)/generic/tkCmds.c \
	$(srcdir)/generic/tkColor.c \
	$(srcdir)/generic/tkConfig.c \
	$(srcdir)/generic/tkConsole.c \
	$(srcdir)/generic/tkCursor.c \
	$(srcdir)/generic/tkEntry.c \
	$(srcdir)/generic/tkError.c \
	$(srcdir)/generic/tkEvent.c \
	$(srcdir)/generic/tkFocus.c \
	$(srcdir)/generic/tkFont.c \
	$(srcdir)/generic/tkFrame.c \
	$(srcdir)/generic/tkGC.c \
	$(srcdir)/generic/tkGeometry.c \
	$(srcdir)/generic/tkGet.c \
	$(srcdir)/generic/tkGrab.c \
	$(srcdir)/generic/tkGrid.c \
	$(srcdir)/generic/tkImage.c \
	$(srcdir)/generic/tkImgBmap.c \
	$(srcdir)/generic/tkImgGIF.c \
	$(srcdir)/generic/tkImgPPM.c \
	$(srcdir)/generic/tkImgPhoto.c \
	$(srcdir)/generic/tkListbox.c \
	$(srcdir)/generic/tkMain.c \
	$(srcdir)/generic/tkMenu.c \
	$(srcdir)/generic/tkMenuDraw.c \
	$(srcdir)/generic/tkMenubutton.c \
	$(srcdir)/generic/tkMessage.c \
	$(srcdir)/generic/tkObj.c \
	$(srcdir)/generic/tkOldConfig.c \
	$(srcdir)/generic/tkOption.c \
	$(srcdir)/generic/tkPack.c \
	$(srcdir)/generic/tkPanedWindow.c \
	$(srcdir)/generic/tkPlace.c \
	$(srcdir)/generic/tkRectOval.c \
	$(srcdir)/generic/tkScale.c \
	$(srcdir)/generic/tkScrollbar.c \
	$(srcdir)/generic/tkSelect.c \
	$(srcdir)/generic/tkStubImg.c \
	$(srcdir)/generic/tkStubInit.c \
	$(srcdir)/generic/tkStubLib.c \
	$(srcdir)/generic/tkStyle.c \
	$(srcdir)/generic/tkText.c \
	$(srcdir)/generic/tkTextBTree.c \
	$(srcdir)/generic/tkTextDisp.c \
	$(srcdir)/generic/tkTextImage.c \
	$(srcdir)/generic/tkTextIndex.c \
	$(srcdir)/generic/tkTextMark.c \
	$(srcdir)/generic/tkTextTag.c \
	$(srcdir)/generic/tkTextWind.c \
	$(srcdir)/generic/tkTrig.c \
	$(srcdir)/generic/tkUndo.c \
	$(srcdir)/generic/tkUtil.c \
	$(srcdir)/generic/tkVisual.c \
	$(srcdir)/generic/tkWindow.c


unix_src = \
	$(srcdir)/unix/tkUnix.c \
	$(srcdir)/unix/tkUnix3d.c \
	$(srcdir)/unix/tkUnixButton.c \
	$(srcdir)/unix/tkUnixColor.c \
	$(srcdir)/unix/tkUnixConfig.c \
	$(srcdir)/unix/tkUnixCursor.c \
	$(srcdir)/unix/tkUnixDialog.c \
	$(srcdir)/unix/tkUnixDraw.c \
	$(srcdir)/unix/tkUnixEmbed.c \
	$(srcdir)/unix/tkUnixEvent.c \
	$(srcdir)/unix/tkUnixFocus.c \
	$(srcdir)/unix/tkUnixFont.c \
	$(srcdir)/unix/tkUnixInit.c \
	$(srcdir)/unix/tkUnixKey.c \
	$(srcdir)/unix/tkUnixMenu.c \
	$(srcdir)/unix/tkUnixMenubu.c \
	$(srcdir)/unix/tkUnixScale.c \
	$(srcdir)/unix/tkUnixScrlbr.c \
	$(srcdir)/unix/tkUnixSelect.c \
	$(srcdir)/unix/tkUnixSend.c \
	$(srcdir)/unix/tkUnixWm.c \
	$(srcdir)/unix/tkUnixXId.c

d25 2
a26 5
libtk_la_SOURCES = $(generic_src) $(unix_src)

libtk_la_LDFLAGS = -version-info 19:1

libtk_la_LIBADD = ${X_LIBS}
d28 2
a31 1

a32 1

d35 1
a35 2

bin_PROGRAMS = wish
d38 2
a39 3
wish_SOURCES = ${top_srcdir}/src/other/libtk/unix/tkAppInit.c

wish_LDADD = $(lib_LTLIBRARIES) ${TCL}
d41 3
d47 1
d56 5
@


1.13
log
@help make distcheck get a whole lot farther ..
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.12 2004/09/09 17:10:14 erikg Exp $
d145 1
a145 1
wish_SOURCES = tkAppInit.c
@


1.12
log
@collapse lib compile into single dir. makes things a little neater? should fix the irix cross-toolset issue...
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.11 2004/09/07 15:03:33 morrison Exp $
d5 4
a12 13
EXTRA_DIST = \
	README \
	bitmaps \
	changes \
	compat \
	license.terms \
	mac \
	macosx \
	tests \
	unix \
	win \
	xlib

d112 15
a126 1
lib_LTLIBRARIES = libtk@@TK_VERSION@@.la libtk.la
d129 1
d131 1
d134 1
d136 1
d139 8
a146 2
bin_PROGRAMS = wish #wish.static
wish_SOURCES = unix/tkAppInit.c
d148 3
@


1.11
log
@undoubtedly not the best since they can probably be included into one, but for now make both libraries that include and do not include the version number as part of the name.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.10 2004/09/02 16:52:43 erikg Exp $
d22 98
a119 2
MAINTAINERCLEANFILES = \
	Makefile.in
d123 1
a123 10
libtk@@TK_VERSION@@_la_SOURCES =

libtk@@TK_VERSION@@_la_LDFLAGS = -version-info 19:1

libtk@@TK_VERSION@@_la_LIBADD = \
	generic/libtkgeneric.la \
	unix/libtkunix.la

libtk_la_SOURCES =

d125 1
d127 2
a128 3
libtk_la_LIBADD = \
	generic/libtkgeneric.la \
	unix/libtkunix.la
a130 1

d132 1
d134 7
a140 1
wish_LDADD = $(lib_LTLIBRARIES) ${TCL}
a141 1
AM_CFLAGS = ${X_CFLAGS}
@


1.10
log
@disable wish.static...
change wish_CFLAGS to AM_CFLAGS so only one .o file is built...
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.9 2004/09/02 13:57:54 erikg Exp $
d25 1
a25 1
lib_LTLIBRARIES = libtk@@TK_VERSION@@.la
d35 8
a45 2
wish_LDADD = $(lib_LTLIBRARIES) @@TCL@@
AM_CFLAGS = @@X_CFLAGS@@
d47 1
a47 2
#wish_static_SOURCES = unix/tkAppInit.c
#wish_static_LDADD = $(lib_LTLIBRARIES) $(top_builddir)/src/other/libtcl/.libs/libtcl8.4.a $(top_builddir)/src/other/libtk/.libs/libtk8.4.a @@DL@@ @@X_LIBS@@ @@LIBM@@
d49 1
@


1.9
log
@back to borg
added wish.static binary... tcl and tk built in
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.5 2004/08/29 17:53:22 morrison Exp $
d35 1
a35 1
bin_PROGRAMS = wish wish.static
d39 1
d41 2
a42 2
wish_static_SOURCES = unix/tkAppInit.c
wish_static_LDADD = $(top_builddir)/src/other/libtcl/.libs/libtcl8.4.a $(top_builddir)/src/other/libtk/.libs/libtk8.4.a @@DL@@ @@X_LIBS@@ @@LIBM@@
a43 1
wish_CFLAGS = @@X_CFLAGS@@
@


1.8
log
@tcl's borgified, so look for it in the right place
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.7 2004/08/31 06:53:21 morrison Exp $
d3 5
a7 18
configure:
	mkdir -p build
	(cd build && \
		${top_srcdir}/../src/other/libtk/unix/configure  \
		--srcdir=${top_srcdir}/../src/other/libtk/unix \
		--enable-shared \
		--exec-prefix=${prefix} \
		--prefix=${prefix} \
		--x-includes=@@X_PREFIX@@/include \
		--x-libraries=@@X_PREFIX@@/lib \
		--with-tcl=${top_builddir}/../src/other/libtcl/unix \
	)


all-am:
	if [ ! -d build ] ; then $(MAKE) configure ; fi
	if [ ! -e build/Makefile ] ; then rm -rf build && $(MAKE) configure ; fi
	$(MAKE) -$(MAKEFLAGS) -C build all
d9 12
a20 2
install-am: all-am
	$(MAKE) -$(MAKEFLAGS) -C build install
d22 22
a43 2
clean-am:
	rm -rf build
@


1.7
log
@deborgify tk until it decides to behave.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.1 2004/05/20 14:52:23 morrison Exp $
d13 1
a13 1
		--with-tcl=${top_builddir}/../src/other/libtcl/build\
@


1.6
log
@add the stub libs and improve build deps
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.5 2004/08/29 17:53:22 morrison Exp $
d3 18
a20 5
SUBDIRS = \
	doc \
	generic \
	library \
	unix
d22 2
a23 12
EXTRA_DIST = \
	README \
	bitmaps \
	changes \
	compat \
	license.terms \
	mac \
	macosx \
	tests \
	unix \
	win \
	xlib
d25 2
a26 25
MAINTAINERCLEANFILES = \
	Makefile.in

lib_LTLIBRARIES = libtk@@TK_VERSION@@.la

libtk@@TK_VERSION@@_la_SOURCES =

libtk@@TK_VERSION@@_la_LDFLAGS = -version-info 19:1

libtk@@TK_VERSION@@_la_LIBADD = \
	generic/libtkgeneric.la \
	unix/libtkunix.la \
	${TCLSTUB} \
	${X_LIBS} \
	${LIBM}

bin_PROGRAMS = wish

wish_SOURCES = unix/tkAppInit.c

wish_LDADD = \
	$(lib_LTLIBRARIES) \
	${TCL}

wish_CFLAGS = ${X_CFLAGS}
@


1.5
log
@add wish
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.4 2004/08/25 19:47:41 morrison Exp $
d33 4
a36 1
	unix/libtkunix.la
d42 3
a44 1
wish_LDADD = $(lib_LTLIBRARIES) @@TCL@@
d46 1
a46 1
wish_CFLAGS = @@X_CFLAGS@@
@


1.4
log
@revert back libtk's library inclusion too
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.3 2004/08/02 06:41:18 morrison Exp $
d28 1
d34 8
@


1.3
log
@We are Borg, resistance is futile, you will be assimilated.  Convert tcl/tk's build to ours instead of continuing to live with the build issues their build imposes.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.2 2004/05/25 20:14:35 morrison Exp $
d6 1
a13 1
	library \
@


1.2
log
@let AC_CONFIG_SUBDIRS do its magic
@
text
@d1 1
a1 1
# $Id: $
d3 18
a20 1
SUBDIRS = unix
d24 9
@


1.1
log
@Sources that are external to BRL-CAD are moved from the top level to src/other/.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.5 2004/04/08 12:16:47 erikg Exp $
d3 1
a3 12
configure:
	mkdir -p build
	(cd build && \
		${top_srcdir}/../libtk8.4/unix/configure  \
		--srcdir=${top_srcdir}/../libtk8.4/unix \
		--enable-shared \
		--exec-prefix=${prefix} \
		--prefix=${prefix} \
		--x-includes=@@X_PREFIX@@/include \
		--x-libraries=@@X_PREFIX@@/lib \
		--with-tcl=${top_builddir}/../libtcl8.4/build\
	)
d5 2
a6 11

all-am:
	if [ ! -d build ] ; then $(MAKE) configure ; fi
	if [ ! -e build/Makefile ] ; then rm -rf build && $(MAKE) configure ; fi
	$(MAKE) -$(MAKEFLAGS) -C build all

install-am: all-am
	$(MAKE) -$(MAKEFLAGS) -C build install

clean-am:
	rm -rf build
@

