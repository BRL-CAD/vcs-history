head	14.16;
access;
symbols
	rel-7-10-4:14.11
	STABLE:14.11.0.2
	stable-branch:14.4
	rel-7-10-2:14.10
	rel-7-10-0:14.10
	rel-7-8-4:14.6
	rel-7-8-2:14.6
	rel-7-8-0:14.6
	trimnurbs-branch:14.6.0.2
	help:14.6
	temp_tag:14.5
	bobWinPort-20051223-freeze:14.5
	postmerge-20051223-bobWinPort:14.5
	premerge-20051223-bobWinPort:14.5
	rel-7-6-6:14.5
	rel-7-6-4:14.5
	rel-7-6-2:14.5
	rel-7-6-branch:14.5.0.6
	rel-7-6-0:14.5
	rel-7-4-2:14.5
	rel-7-4-branch:14.5.0.4
	bobWinPort:14.5.0.2
	rel-7-4-0:14.5
	rel-7-2-6:14.4
	rel-7-2-4:14.4
	rel-7-2-2:14.4
	rel-7-2-0:14.4
	rel-7-0-4:14.2
	rel-7-0-2:14.1
	rel-7-0-1:14.1
	opensource-post:14.1
	opensource-pre:1.7
	rel-7-0-branch:1.7.0.2
	rel-7-0:1.7;
locks; strict;
comment	@# @;


14.16
date	2007.11.20.20.28.06;	author brlcad;	state Exp;
branches;
next	14.15;

14.15
date	2007.11.20.19.19.54;	author brlcad;	state Exp;
branches;
next	14.14;

14.14
date	2007.11.14.03.53.01;	author brlcad;	state Exp;
branches;
next	14.13;

14.13
date	2007.10.04.21.22.49;	author erikgreenwald;	state Exp;
branches;
next	14.12;

14.12
date	2007.10.03.19.36.26;	author brlcad;	state Exp;
branches;
next	14.11;

14.11
date	2007.08.28.15.36.32;	author erikgreenwald;	state Exp;
branches;
next	14.10;

14.10
date	2007.02.20.17.24.44;	author erikgreenwald;	state Exp;
branches;
next	14.9;

14.9
date	2007.02.05.23.39.37;	author brlcad;	state Exp;
branches;
next	14.8;

14.8
date	2007.02.03.01.54.25;	author brlcad;	state Exp;
branches;
next	14.7;

14.7
date	2007.02.02.07.30.45;	author brlcad;	state Exp;
branches;
next	14.6;

14.6
date	2006.01.04.16.00.55;	author bob1961;	state Exp;
branches;
next	14.5;

14.5
date	2005.06.25.00.23.12;	author brlcad;	state Exp;
branches;
next	14.4;

14.4
date	2005.02.22.20.01.27;	author lbutler;	state Exp;
branches;
next	14.3;

14.3
date	2005.02.12.03.25.59;	author brlcad;	state Exp;
branches;
next	14.2;

14.2
date	2005.01.23.01.30.49;	author brlcad;	state Exp;
branches;
next	14.1;

14.1
date	2004.11.16.19.42.20;	author morrison;	state Exp;
branches;
next	1.7;

1.7
date	2004.10.06.14.31.29;	author morrison;	state Exp;
branches;
next	1.6;

1.6
date	2004.09.24.14.44.21;	author erikg;	state Exp;
branches;
next	1.5;

1.5
date	2004.09.23.21.10.24;	author butler;	state Exp;
branches;
next	1.4;

1.4
date	2004.09.23.18.39.16;	author morrison;	state Exp;
branches;
next	1.3;

1.3
date	2004.08.02.06.41.17;	author morrison;	state Exp;
branches;
next	1.2;

1.2
date	2004.06.15.13.44.14;	author erikg;	state Exp;
branches;
next	1.1;

1.1
date	2004.05.20.14.50.33;	author morrison;	state Exp;
branches;
next	;


desc
@@


14.16
log
@and now what I think is the final batch of files missing from the source distribution, woot!
@
text
@# $Id: Makefile.am,v 14.15 2007/11/20 19:19:54 brlcad Exp $

lib_LTLIBRARIES = libpng.la

# NOTE: either PNG_NO_MMX_CODE or PNG_NO_ASSEMBLER_CODE are required
# for successful compilation on AMD64 Linux with gcc due to linking of
# 32-bit assembly with 64-bit object files.  Compiling with -m32 also
# avoids the problem.
libpng_la_CFLAGS = ${LIBZ_CPPFLAGS} -DPNG_NO_MMX_CODE
libpng_la_LDFLAGS = -version-info 3:5:2
libpng_la_LIBADD = ${LIBZ}
libpng_la_SOURCES = \
	png.c \
	pngerror.c \
	pnggccrd.c \
	pngget.c \
	pngmem.c \
	pngpread.c \
	pngread.c \
	pngrio.c \
	pngrtran.c \
	pngrutil.c \
	pngset.c \
	pngtrans.c \
	pngvcrd.c \
	pngwio.c \
	pngwrite.c \
	pngwtran.c \
	pngwutil.c

noinst_PROGRAMS = pngtest

pngtest_SOURCES = pngtest.c
pngtest_CFLAGS = ${LIBZ_CPPFLAGS}
pngtest_LDADD = \
	${lib_LTLIBRARIES} \
	${LIBZ} \
	${LIBM}

include_HEADERS = \
	png.h \
	pngconf.h

dist_man_MANS = \
	libpng.3 \
	libpngpf.3 \
	png.5

EXTRA_DIST = \
	ANNOUNCE \
	CHANGES \
	INSTALL \
	KNOWNBUG \
	LICENSE \
	Makefile \
	README \
	TODO \
	Y2KINFO \
	aclocal.m4 \
	autogen.sh \
	config.h.in  \
	config.h.in \
	configure \
	contrib \
	example.c \
	libpng-1.2.22.txt \
	pngbar.jpg \
	pngbar.png \
	pngnow.png \
	pngtest.png \
	projects \
	scripts \
	test-pngtest.sh

.PHONY : test
test:	pngtest
	./pngtest ${top_srcdir}/src/other/libpng/pngtest.png

include $(top_srcdir)/misc/Makefile.defs

@


14.15
log
@add more files missing from the source dist
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.14 2007/11/14 03:53:01 brlcad Exp $
d60 1
@


14.14
log
@wrong ver file in dist
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.13 2007/10/04 21:22:49 erikgreenwald Exp $
d59 3
d71 2
a72 1
	scripts
@


14.13
log
@Upgrade to 1.2.21. Fixes several bugs introduced in 1.2.19, possible overflows, and has some code cleanup.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.12 2007/10/03 19:36:26 brlcad Exp $
d62 1
a62 1
	libpng-1.2.21.txt \
@


14.12
log
@remove the MAINTAINERCLEAN rules, they're never really used regardless of the debate over whether the Makefile.in files belong there or not
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.11 2007/08/28 15:36:32 erikgreenwald Exp $
d62 1
a62 1
	libpng-1.2.19.txt \
@


14.11
log
@readme moved with version bump
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.10 2007/02/20 17:24:44 erikgreenwald Exp $
a73 2
MAINTAINERCLEANFILES = Makefile.in

@


14.10
log
@libpng.txt was moved to libpng-1.2.16.txt
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.9 2007/02/05 23:39:37 brlcad Exp $
d62 1
a62 1
	libpng-1.2.16.txt \
@


14.9
log
@either PNG_NO_MMX_CODE or PNG_NO_ASSEMBLER_CODE are required for successful compilation on AMD64 Linux with gcc due to linking of 32-bit assembly with 64-bit object files.  compiling with -m32 avoids the problem but just tack on PNG_NO_MMX_CODE for now since that doesn't limit compilation/features like the other two options.  should probably test for this mix in configure and set some cppflags accordingly.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.8 2007/02/03 01:54:25 brlcad Exp $
d62 1
a62 1
	libpng.txt \
@


14.8
log
@remove duplication of zlib's public headers from our include/ dir; have configure provide a LIBZ_CPPFLAGS that points to src/other/zlib instead.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.7 2007/02/02 07:30:45 brlcad Exp $
d5 5
a11 1
libpng_la_CFLAGS = ${LIBZ_CPPFLAGS}
@


14.7
log
@Updated to the latest release of libpng, from version 1.2.8 to version 1.2.16.  Includes all of their ('without config script' distribution) files.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.6 2006/01/04 16:00:55 bob1961 Exp $
d7 1
d30 1
a30 1

@


14.6
log
@Add scripts to EXTRA_DIST
@
text
@d1 1
a1 1
# $Id$
d54 2
d62 1
@


14.5
log
@include misc/Makefile.defs
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.4 2005/02/22 20:01:27 lbutler Exp $
d59 2
a60 1
	pngtest.png
@


14.4
log
@This change causes libz to be added to any item that links with libpng
AFTER libpng so that symbols are resolved properly.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.3 2005/02/12 03:25:59 brlcad Exp $
d66 3
@


14.3
log
@don't need to compile example.c
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.2 2005/01/23 01:30:49 brlcad Exp $
d6 1
@


14.2
log
@update of libpng from 1.2.5 to 1.2.8
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.1 2004/11/16 19:42:20 morrison Exp $
a6 1
	example.c \
d53 1
@


14.1
log
@dawn of a new revision.  it shall be numbered 14 to match release 7.  begin the convergence by adding emacs/vi local variable footer blocks to encourage consistent formatting.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.7 2004/10/06 14:31:29 morrison Exp $
d10 1
d26 1
a26 4

noinst_PROGRAMS = ansi2knr pngtest

ansi2knr_SOURCES = ansi2knr.c
d35 8
a42 3
include_HEADERS = png.h pngconf.h

dist_man_MANS = ansi2knr.1 libpng.3 libpngpf.3 png.5
d47 1
d49 1
d51 8
a58 1
	libpng.txt
@


1.7
log
@Major restructuring and fixes so that 'make distcheck' should now work and actually be close to correct.  i.e. the resultant generated tarball should contain contents similar to a CVS export.  This helps it generate a proper distribution and build, install, and uninstall cleanly off of that distribution.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.6 2004/09/24 14:44:21 erikg Exp $
@


1.6
log
@test...
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.5 2004/09/23 21:10:24 butler Exp $
d5 1
a24 2
libpng_la_LDFLAGS = -version-info 3:5:2

d26 1
a26 1
bin_PROGRAMS = ansi2knr pngtest
a36 1

d41 7
d51 2
@


1.5
log
@make pngtest dependent on libpng.la so that parallel make builds work correctly.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.4 2004/09/23 18:39:16 morrison Exp $
d43 3
@


1.4
log
@appease the beast that is namethed irix mipspro compiler suite
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.3 2004/08/02 06:41:17 morrison Exp $
d34 1
a34 1
	${LIBPNG} \
@


1.3
log
@We are Borg, resistance is futile, you will be assimilated.  Convert tcl/tk's build to ours instead of continuing to live with the build issues their build imposes.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.2 2004/06/15 13:44:14 erikg Exp $
a4 2
bin_PROGRAMS = ansi2knr pngtest

d26 3
d30 1
d32 1
d38 1
d40 1
@


1.2
log
@get rid of (bad, "h" dir) AM_CFLAG crud
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.1 2004/05/20 14:50:33 morrison Exp $
d30 4
a33 1
pngtest_LDADD = libpng.la -lz -lm
@


1.1
log
@Sources that are external to BRL-CAD are moved from the top level to src/other/.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.3 2004/04/05 14:50:07 morrison Exp $
a33 2

AM_CFLAGS = -I$(top_srcdir)/h
@

