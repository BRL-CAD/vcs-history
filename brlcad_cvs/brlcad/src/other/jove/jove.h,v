head	14.9;
access;
symbols
	rel-7-10-4:14.6
	STABLE:14.6.0.2
	stable-branch:14.1
	rel-7-10-2:14.6
	rel-7-10-0:14.6
	rel-7-8-4:14.6
	rel-7-8-2:14.4
	rel-7-8-0:14.4
	trimnurbs-branch:14.4.0.2
	help:14.4
	temp_tag:14.3
	bobWinPort-20051223-freeze:14.2
	postmerge-20051223-bobWinPort:14.3
	premerge-20051223-bobWinPort:14.3
	rel-7-6-6:14.3
	rel-7-6-4:14.3
	rel-7-6-2:14.2
	rel-7-6-branch:14.2.0.6
	rel-7-6-0:14.2
	rel-7-4-2:14.2
	rel-7-4-branch:14.2.0.4
	bobWinPort:14.2.0.2
	rel-7-4-0:14.2
	rel-7-2-6:14.2
	rel-7-2-4:14.2
	rel-7-2-2:14.1
	rel-7-2-0:14.1
	rel-7-0-4:14.1
	rel-7-0-2:14.1
	rel-7-0-1:14.1
	opensource-post:14.1
	opensource-pre:1.2
	rel-7-0-branch:1.2.0.2
	rel-7-0:1.2;
locks; strict;
comment	@ * @;


14.9
date	2007.12.03.22.57.58;	author brlcad;	state Exp;
branches;
next	14.8;

14.8
date	2007.10.22.20.59.55;	author brlcad;	state Exp;
branches;
next	14.7;

14.7
date	2007.09.14.15.21.37;	author erikgreenwald;	state Exp;
branches;
next	14.6;

14.6
date	2006.08.30.01.54.13;	author brlcad;	state Exp;
branches;
next	14.5;

14.5
date	2006.07.10.01.25.39;	author brlcad;	state Exp;
branches;
next	14.4;

14.4
date	2006.01.29.22.19.01;	author brlcad;	state Exp;
branches;
next	14.3;

14.3
date	2005.10.29.03.18.11;	author dtremenak;	state Exp;
branches;
next	14.2;

14.2
date	2005.05.03.05.18.31;	author brlcad;	state Exp;
branches
	14.2.6.1;
next	14.1;

14.1
date	2004.11.16.19.42.20;	author morrison;	state Exp;
branches;
next	1.2;

1.2
date	2004.06.07.17.05.02;	author morrison;	state Exp;
branches;
next	1.1;

1.1
date	2004.05.20.14.49.59;	author morrison;	state Exp;
branches;
next	;

14.2.6.1
date	2005.11.13.13.46.18;	author brlcad;	state Exp;
branches;
next	;


desc
@@


14.9
log
@c89 simplification.  assume stdarg is a given.
@
text
@/*
 *			J O V E . H
 *
 * $Header: /cvsroot/brlcad/brlcad/src/other/jove/jove.h,v 14.8 2007/10/22 20:59:55 brlcad Exp $
 *
 */

#include "common.h"

#ifdef _GNU_SOURCE
#  undef _GNU_SOURCE
#endif

/* jove.h header file to be included by EVERYONE */
#include <stdlib.h>
#include <stdio.h>
#include <setjmp.h>
#ifdef HAVE_STRINGS_H
#  include <strings.h>
#else
#  include <string.h>
#endif


/*
 *  DAG's portable support for functions taking variable number of arguments
 *
 *  Usage example:
 *
 *	extern int Advise(VA_T(const char *) VA_T(int) VA_DOTS);
 *
 *	#include <stdio.h>
 *	int Advise(VA_T(const char *format) VA_T(int verbose) VA_ALIST)
 *		VA_DCL
 *	{
 *		VA_D(char *format)		// note absence of "const"
 *		VA_D(int verbose)
 *		VA_LIST(ap)
 *		int verbosity, status;
 *		// end of declarations
 *		VA_START(ap, verbose)
 *		VA_I(ap, char *, format)	// note absence of "const"
 *		VA_I(ap, int, verbose)
 *		verbosity = verbose? VA_ARG(ap, int): 0;
 *		status = verbosity > 0? vfprintf(stderr, format, ap) > 0: 1;
 *		VA_END(ap)
 *		return status;
 *	}
 */
#include <stdarg.h>
#define	VA_T(t)		t,
#define	VA_DOTS		...
#define	VA_ALIST	...
#define	VA_D(d)         /* nothing */
#define	VA_DCL		/* nothing */
#define	VA_LIST(ap)	va_list ap;
#define	VA_START(ap,A0)	va_start(ap,A0);
#define	VA_I(ap,T,Ai)	/* nothing */
#define	VA_ARG(ap,T)	va_arg(ap,T)
#define	VA_END(ap)	va_end(ap);

#ifdef __convex__
#  define	HAS_TEMPNAM	0	/* No tempnam()! */
#endif

#ifndef	HAS_TEMPNAM
#  ifdef	L_tmpnam		/* From modern stdio.h */
#    define	HAS_TEMPNAM	1
#  else
#    define	HAS_TEMPNAM	0
#  endif
#endif

#if HAS_TEMPNAM
extern char	*tempnam();
#endif

/* The following is tailorable */
#if !defined(pdp11)

typedef	long	disk_line;
#define BSIZ	4096

#else

typedef	short	disk_line;
#define BSIZ	512

#endif

#ifndef NULL
#  define NULL	0
#endif

#define OKAY	0		/* Return codes for when telling */
#define ABORT	1
#define STOP	2

#define LOGOEXIT	30	/* Sounds like a nice number.  Exit non-zero,
				 * but finish doesn't crash with a core dump.
				 * Logo checks for non-zero to check to see
				 * if it should abort the editing
				 */

#define NFUNCS		130
#define NMACROS		52	/* One for each letter???? VI mode for JF */
#define NVARS		20

#define FUNCTION	1
#define VARIABLE	2
#define MACRO		3

#define DEFINE		1
#define EXECUTE		2

#define	LBSIZE		BSIZ	/* Same as a logical disk block */
#define	ESIZE		128
#define	GBSIZE		256
#define	ALSIZE		(LBSIZE / sizeof(char *))	/* argument list max */

#define RMARGIN		72	/* Default right margin */

#define flusho()	flushout(-1, &termout)
#define Placur(l, c)	if ((l) != CapLine || (c) != CapCol) DoPlacur(l, c)

#define CTL(c)		((c) & 037)
#define META(c)		((c) | 0200)

#define	rbell()		(RingBell++)
#define	eolp()		(linebuf[curchar] == '\0')
#define bolp()		(curchar == 0)
#define	lastp(line)	((line) == curbuf->b_dol)
#define	firstp(line)	((line) == curbuf->b_zero)
#define eobp()		(lastp(curline) && eolp())
#define bobp()		(firstp(curline) && bolp())
#define HALF(wp)	(((wp)->w_height - 1) / 2)
#define SIZE(wp)	((wp)->w_height - 1)
#define makedirty(line)	line->l_dline |= DIRTY
#define IsModified(b)	((b)->b_status & B_MODIFIED)
#define	IsScratch(b)	((b)->b_status & B_SCRATCH)
#define	SetScratch(b)	((b)->b_status |= B_SCRATCH)
#define	ClrScratch(b)	((b)->b_status &= ~B_SCRATCH)
#define	IsReadOnly(b)	((b)->b_status & B_READONLY)
#define	SetReadOnly(b)	((b)->b_status |= B_READONLY);
#define	ClrReadOnly(b)	((b)->b_status &= ~B_READONLY);

#define DoTimes(f, n)	jove_exp_p = 1, jove_exp = (n), f()

extern int	BufSize;
extern int	CheckTime,
		errormsg;

/* This procedure allows redisplay to be aborted if the buffer is
 * ready to be flushed, and there are some characters waiting
 */

#define outchar(c) Putc(c, (&termout))
/* #define Putc(x,p) (--(p)->io_cnt>=0 ?  ((void)(*(p)->io_ptr++=(unsigned)(x))):flushout(x, p) ) */
#define Putc(x,p)	{ if( --(p)->io_cnt >= 0 ) \
				(*(p)->io_ptr++=(unsigned)(x)); \
			  else \
				flushout(x, p); \
			}

/*
 * C doesn't have a (void) cast, so we have to fake it for lint's sake.
 */
#ifdef lint
#	define	ignore(a)	Ignore((char *) (a))
#	define	ignorf(a)	Ignorf((int (*) ()) (a))
#else
#	define	ignore(a)	a
#	define	ignorf(a)	a
#endif

#define ARG_CMD		1
#define LINE_CMD	2
#define KILLCMD		3	/* So we can merge kills */
#define YANKCMD		4

/* Buffer type */

#define SCRATCHBUF	1
#define NORMALBUF	2

#define OnFlag(flags,f)		(flags[f] = 1)
#define OffFlag(flags,f)	(flags[f] = 0)
#define	IsFlagSet(flags,f)	(flags[f] > 0)	/* negative disables */
#define IsDisabled(flags,f)	(flags[f] < 0)

/* Buffer flags */

#define TEXTFILL	0	/* Text fill mode */
#define OVERWRITE	1	/* Over write mode */
#define CMODE		2	/* C mode */
#define MAGIC		3	/* If set allow pattern matching searching */
#define CASEIND		4	/* Case independent search */
#define MATCHING	5	/* In show matching mode */
#define AUTOIND		6	/* Indent same as previous line after return */
#define NFLAGS		7	/* DON'T FORGET THIS! */

extern int	origflags[NFLAGS],
	globflags[NFLAGS];

#define FIRSTCALL	0
#define ERROR		1
#define COMPLAIN	2	/* Do the error without a getDOT */
#define QUIT		3	/* Leave this level of recusion */

extern	char	*Mainbuf;
extern	int	RingBell;

extern char	genbuf[LBSIZE];		/* Scatch pad */
extern int	peekc,
	io,		/* File descriptor for reading and writing files */
	jove_exp,
	jove_exp_p,
	this_cmd,
	last_cmd,
	RecDepth;

#define	READ	0
#define	WRITE	1

extern jmp_buf	mainjmp;

typedef struct window	WINDOW;
typedef struct position	BUFLOC;
typedef struct mark	MARK;
typedef struct buffer	BUFFER;
typedef struct line	LINE;
typedef struct iobuf	IOBUF;

typedef int	(*FUNC)();

/* Pseudo-Standary library struct _iobuf */
struct iobuf {
	char	*io_ptr;
	int	io_cnt;
	char	*io_base;
	short	io_flag;
	char	io_file;
};

struct line {
	LINE	*l_prev,	/* Pointer to prev */
		*l_next;	/* Pointer to next */
	disk_line	l_dline;	/* Pointer to disk location */
};

struct window {
	WINDOW	*w_prev,	/* Circular list */
		*w_next;
	BUFFER	*w_bufp;	/* Buffer associated with this window */
	LINE	*w_top,		/* The top line */
		*w_line;	/* The current line */
	int	w_char,
		w_height,	/* Height of the window */
		w_topnum,	/* Line number of the topline */
		w_offset,	/* Printing offset for the current line */
		w_numlines,	/* Should we number lines in this window? */
		w_dotcol,	/* find_pos sets this */
		w_dotline,	/* UpdateWindow sets this */
		w_flags;
};

extern WINDOW	*fwind,		/* First window in list */
	*curwind;	/* Current window */

struct position {
	LINE	*p_line;	/* In the array */
	int	p_char;		/* Char pos */
};

struct mark {
	LINE	*m_line;
	int	m_char;		/* Char pos of the mark */
	MARK	*m_next;	/* List of marks */
};

struct buffer {
	char	*b_name,		/* Buffer name */
		*b_fname;		/* File name associated with buffer */
	int	b_ino;			/* Inode of file name */
	int	b_dev;			/* Device on which inode lives */
	LINE	*b_zero,		/* Pointer to first line in list */
		*b_dot,			/* Current line */
		*b_dol;			/* Last line in list */
	int	b_char;			/* Current character in line */

#define NMARKS	16			/* Number of marks in the ring */

	MARK	*b_markring[NMARKS],	/* New marks are pushed saved here */
		*b_marks;		/* All the marks for this buffer */
	int	b_themark;		/* Current mark */
	char	b_status;		/* Status flags (B_MODIFIED, etc.) */
#define	B_MODIFIED	01		/* Buffer has been modified */
#define	B_READONLY	02		/* File is readonly */
#define	B_SCRATCH	04		/* Buffer is a scratch buffer */

	int	b_flags[NFLAGS];
	BUFFER	*b_next;		/* Next buffer in chain */
};

extern BUFFER	*world,			/* First buffer */
	*curbuf;		/* Pointer into world for current buffer */

#define NUMKILLS	10	/* Number of kills saved in the kill ring */

#define DIRTY		01
#define MODELINE	02

struct scrimage {
	int	StartCol,	/* Physical column start */
		Sflags;		/* DIRTY or MODELINE */
	LINE	*Line;		/* Which buffer line */
	WINDOW	*Window;	/* Window that contains this line */
};

extern struct scrimage
	*nimage,
	*oimage;		/* See jove_screen.c */

extern IOBUF	termout;

extern int
	OKXonXoff,		/* Disable start/stop characters */
	VisBell,
	phystab,
	tabstop,		/* Expand tabs to this number of spaces */
	RMargin,		/* Right margin */
	MakeAll,		/* Should we make -k or just make */
	ScrollStep,		/* How should we scroll */
	Crashing,		/* We are in the middle of crashing */
	WtOnMk,			/* Write files on compile-it command */
	UseBuffers,		/* Use a buffer during list-buffers */
	BackupFiles,		/* Controls creation of backup files */
	FastPrompt,		/* Have C-X and M- prompt immediatly */
	EndWNewline;		/* End files with a blank line */

extern int	InputPending,	/* Non-zero if there is input waiting to
			   be processed. */
	Input,		/* What the current input is */
 	killptr,	/* Index into killbuf */
	CanScroll,	/* Can this terminal scroll? */
	Asking;		/* Are we on read a string from the terminal? */

extern char	**argvp;

#define curline		curbuf->b_dot
#define curchar		curbuf->b_char
#define curmark		curbuf->b_markring[curbuf->b_themark]

extern char	linebuf[LBSIZE];
extern LINE	*killbuf[NUMKILLS];	/* Array of pointers to killed stuff */

extern char	mesgbuf[];

struct screenline {
	char	*s_line,
		*s_length;
};			/* The screen */

struct macro {
	int	MacLength,	/* Length of macro so we can use ^@@ */
		MacBuflen,	/* Memory allocated for it */
		Offset,		/* Index into body for defining and running */
		Flags,		/* Defining/running this macro? */
		Ntimes;		/* Number of times to run this macro */
	char	*Name;		/* Pointer to macro's name */
	char	*Body;		/* Actual body of the macro */
};

struct function {
	char	*f_name;
	union {
		int	(*Func)();	/* This is a built in function */
		int	*Var;		/* Variable */
		struct macro	*Macro;	/* Macro */
	} f;
	char	f_type;
};

extern int	(*Getchar)();

extern struct function	*mainmap[0200],
		*pref1map[0200],
		*pref2map[0200],
		*LastFunc;

extern int	LastKeyStruck;

extern struct function	functions[],
			macros[],
			variables[];

extern struct macro	*macstack[],
			KeyMacro;
extern int	stackp;

extern int	CapLine,
		CapCol;

extern int	UpdModLine,	/* Whether we want to update the mode line */
		UpdMesg;	/* Update the message line */

/* Under BSDI's BSD/OS lseek returns an off_t
 * which is a quad_t or "long long".
 * It is also delcared in <sys/types.h>
 */
#if defined(BSD) && BSD <= 43
extern long	lseek();
#endif

extern disk_line	putline();

extern LINE
	*next_line(),
	*prev_line(),
	*nbufline(),
	*reg_delete(),
	*lastline(),
	*listput();

extern char
	*FuncName(),
	*filename(),
	*getblock(),
	*IOerr(),
	*bufmod(),
#if !defined(__sp3__)
	*index(),
#endif
	*RunEdit(),
	*getline(),
	*getblock(),
	*emalloc(),
	*mktemp(),
	*place(),
	*getright(),
	*getcptr(),
#if !defined(__sp3__)
	*rindex(),
#endif
	*getenv(),
	*tgoto(),
	*StrIndex();

extern BUFLOC
	*dosearch(),
	*DoYank(),
	*m_paren();

extern MARK	*CurMark(),
		*MakeMark();

extern WINDOW
	*windlook(),
	*next_wind(),
	*div_wind();

extern BUFFER
	*do_find(),
	*do_select(),
	*mak_buf(),
	*buf_exists(),
	*file_exists();

extern int	jgetchar();

extern char	*ask(VA_T(char *) VA_T(const char *) VA_DOTS);
extern void	error(VA_T(const char *) VA_DOTS);
extern void	complain(VA_T(const char *) VA_DOTS);
extern void	confirm(VA_T(const char *) VA_DOTS);
extern char	*sprint(VA_T(const char *) VA_DOTS);
extern void	s_mess(VA_T(const char *) VA_DOTS);
extern void	jprintf(VA_T(const char *) VA_DOTS);
extern int	UnixToBuf(VA_T(char *) VA_T(int) VA_T(int) VA_T(const char *)
			VA_DOTS);

extern void b_format(),
	tiewind(),
	set_ino(),
	setfname(),
	setbname(),
	FindMatch(),
	del_char(),
	InsChar(),
	DelChar(),
	do_cl_eol(),
	UpdateLine(),
	CalcScroll(),
	CalcTop(),
	UpdateMesg(),
	Beep(),
	ReadMacs(),
	WriteMacs(),
	SetMacro(),
	MacNolen(),
	NameMac(),
	DoMacro(),
	ExecMacro(),
	Forget(),
	Remember(),
	InitBindings(),
	lfreereg(),
	OpenLine(),
	Insert(),
	insert(),
	whitesp(),
	byebye(),
	ttyset(),
	ttinit(),
	RunShell(),
	PtToMark(),
	MarkSet(),
	DoDelMark(),
	CaseReg(),
	case_reg(),
	lower(),
	upper(),
	case_word(),
	SetDot(),
	DotTo(),
	Eol(),
	down_line(),
	OutOfBounds(),
	PrevLine(),
	NextLine(),
	BackChar(),
	ForChar(),
	ArgIns(),
	SetLine(),
	DoJustify(),
	dword(),
	RegToUnix(),
	com_finish(),
	DoShell(),
	DoNextErr(),
	NextError(),
	ErrFree(),
	ErrParse(),
	IncSearch(),
	dosub(),
	compsub(),
	substitute(),
	search(),
	replace(),
	UpMotion(),
	DownMotion(),
	BackMotion(),
	ForMotion(),
	ForTab(),
	flushout(),
	TERMINFOfix(),
	zero_wind(),
	SetTop(),
	WindSize(),
	pop_wind(),
	v_clear();

#define	SAVE_NO		0
#define	SAVE_ASK	1
#define	SAVE_ALWAYS	2
@


14.8
log
@the old cray cos and unicos code for the cray xmp and friends finally became a burden to maintain while resolving various flawfinder issues.  remove the old code, particularly that which wasn't __STDC__.  however, intentionally leave the code for calculating byteoffsets and converting float formats to/from network order .. could still come in handy at some point down the road.
@
text
@d4 1
a4 1
 * $Header: /cvsroot/brlcad/brlcad/src/other/jove/jove.h,v 14.7 2007/09/14 15:21:37 erikgreenwald Exp $
d50 11
a60 25
#ifdef HAVE_STDARG_H
#  include <stdarg.h>
#  define	VA_T(t)		t,
#  define	VA_DOTS		...
#  define	VA_ALIST	...
#  define	VA_D(d)         /* nothing */
#  define	VA_DCL		/* nothing */
#  define	VA_LIST(ap)	va_list ap;
#  define	VA_START(ap,A0)	va_start(ap,A0);
#  define	VA_I(ap,T,Ai)	/* nothing */
#  define	VA_ARG(ap,T)	va_arg(ap,T)
#  define	VA_END(ap)	va_end(ap);
#else
#  include <varargs.h>
#  define	VA_T(t)		/* nothing */
#  define	VA_DOTS		/* nothing */
#  define	VA_ALIST	va_alist
#  define	VA_D(d)		d;
#  define	VA_DCL		va_dcl
#  define	VA_LIST(ap)	va_list ap;
#  define	VA_START(ap,A0)	va_start(ap);
#  define	VA_I(ap,T,Ai)	Ai = va_arg(ap,T);
#  define	VA_ARG(ap,T)	va_arg(ap,T)
#  define	VA_END(ap)	va_end(ap);
#endif
@


14.7
log
@removed trailing whitespace
@
text
@d4 1
a4 1
 * $Header: /cvsroot/brlcad/brlcad/src/other/jove/jove.h,v 14.6 2006/08/30 01:54:13 brlcad Exp $
a578 25

#ifdef CRAY2
/* Common SYSV definitions not supported on the CRAY2 */
#  define SIGBUS  SIGPRE
#  define SIGSEGV SIGORE

#  define VQUIT   1
#  define VERASE  2
#  define VKILL   3
#  define VMIN    4
#  define VTIME   5
#  define INLCR	0000100
#  define ICRNL 0000400
#  define IUCLC 0001000
#  define OLCUC	0000002
#  define ONLCR	0000004
#  define OCRNL	0000010
#  define ONOCR	0000020
#  define ONLRET	0000040
#  define OFILL	0000100
#  define TABDLY  0014000
#  define TAB3  0014000
#  define CBAUD 0000017
#  define ISIG	0000001		/* line disc. 0 modes */
#endif
@


14.6
log
@obliterate SYSV/SYS5 usage, instead relying on HAVE_ symbols more consistently (hopefully).
@
text
@d4 1
a4 1
 * $Header: /cvsroot/brlcad/brlcad/src/other/jove/jove.h,v 14.5 2006/07/10 01:25:39 brlcad Exp $
d514 1
a514 1
	NameMac(),	
@


14.5
log
@remove/rewrite a bunch of the old SYSV preprocessor symbol sections
@
text
@d4 1
a4 1
 * $Header: /cvsroot/brlcad/brlcad/src/other/jove/jove.h,v 14.4 2006/01/29 22:19:01 brlcad Exp $
a23 4
#ifdef SYSV
#  define SYS5	1
#endif

@


14.4
log
@fix the malloc/realloc and exp decl conflicts, include stdlib.h
@
text
@d4 1
a4 1
 * $Header: /cvsroot/brlcad/brlcad/src/other/jove/jove.h,v 14.3 2005/10/29 03:18:11 dtremenak Exp $
d17 6
a26 7
/*
 *  Some very common BSD --> SYSV conversion aids
 */
#if defined(SYS5) && !defined(bcopy)
/* IMPORTANT -- bcopy macro must not be invoked with overlapping source and destination! */
#	define bcopy(from,to,count)	memcpy( to, from, count )
#endif
a27 22
#if defined(BSD) && !defined(SYS5) && (BSD <= 43)
#	define strchr(sp,c)	index(sp,c)
#	define strrchr(sp,c)	rindex(sp,c)
	extern char *index();
	extern char *rindex();
#endif

#ifndef HAVE_TERMIOS_H
#if (defined(BSD) && BSD >= 44) || defined(_POSIX_SOURCE)
#	define HAVE_TERMIOS_H	1
#else
/* undef HAVE_TERMIOS_H */
#endif
#endif

#include <setjmp.h>

#if defined(BSD) && !defined(SYS5) && (BSD <= 43)
#include <strings.h>
#else
#include <string.h>
#endif
d54 12
a65 12
#ifdef __STDC__
#include <stdarg.h>
#define	VA_T(t)		t,
#define	VA_DOTS		...
#define	VA_ALIST	...
#define	VA_D(d)         /* nothing */
#define	VA_DCL		/* nothing */
#define	VA_LIST(ap)	va_list ap;
#define	VA_START(ap,A0)	va_start(ap,A0);
#define	VA_I(ap,T,Ai)	/* nothing */
#define	VA_ARG(ap,T)	va_arg(ap,T)
#define	VA_END(ap)	va_end(ap);
d67 11
a77 11
#include <varargs.h>
#define	VA_T(t)		/* nothing */
#define	VA_DOTS		/* nothing */
#define	VA_ALIST	va_alist
#define	VA_D(d)		d;
#define	VA_DCL		va_dcl
#define	VA_LIST(ap)	va_list ap;
#define	VA_START(ap,A0)	va_start(ap);
#define	VA_I(ap,T,Ai)	Ai = va_arg(ap,T);
#define	VA_ARG(ap,T)	va_arg(ap,T)
#define	VA_END(ap)	va_end(ap);
d81 1
a81 1
#define	HAS_TEMPNAM	0	/* No tempnam()! */
d85 5
a89 5
#ifdef	L_tmpnam		/* From modern stdio.h */
#define	HAS_TEMPNAM	1
#else
#define	HAS_TEMPNAM	0
#endif
d110 1
a110 1
# define NULL	0
d586 2
a587 20
#define SIGBUS  SIGPRE
#define SIGSEGV SIGORE

#define VQUIT   1
#define VERASE  2
#define VKILL   3
#define VMIN    4
#define VTIME   5
#define	INLCR	0000100
#define ICRNL   0000400
#define IUCLC   0001000
#define	OLCUC	0000002
#define	ONLCR	0000004
#define	OCRNL	0000010
#define	ONOCR	0000020
#define	ONLRET	0000040
#define	OFILL	0000100
#define TABDLY  0014000
#define TAB3    0014000
#define CBAUD   0000017
d589 18
a606 1
#define	ISIG	0000001		/* line disc. 0 modes */
@


14.3
log
@jove.h conflicts with stdio.h if _GNU_SOURCE is defined.  make sure it's not.
@
text
@d4 1
a4 1
 * $Header: /cvsroot/brlcad/brlcad/src/other/jove/jove.h,v 14.2 2005/05/03 05:18:31 brlcad Exp $
d11 1
a11 1
#undef _GNU_SOURCE
d15 1
d19 1
a19 1
# define SYS5	1
d188 1
a188 1
#define DoTimes(f, n)	exp_p = 1, exp = (n), f()
d257 2
a258 2
	exp,
	exp_p,
a477 1
	*malloc(),
a480 1
	*realloc(),
@


14.2
log
@more config.h references converted to brlcad_config.h (or common.h where appropriate) that apparently slipped under the radar
@
text
@d4 1
a4 1
 * $Header: /cvsroot/brlcad/brlcad/src/other/jove/jove.h,v 14.1 2004/11/16 19:42:20 morrison Exp $
d10 4
a19 1

@


14.2.6.1
log
@merge changes from HEAD aka rel-7-6-4 to the rel-7-6-branch just in case someone peeks a gander or tries to continue/build the branch
@
text
@d4 1
a4 1
 * $Header$
a9 4
#ifdef _GNU_SOURCE
#undef _GNU_SOURCE
#endif

d16 1
@


14.1
log
@dawn of a new revision.  it shall be numbered 14 to match release 7.  begin the convergence by adding emacs/vi local variable footer blocks to encourage consistent formatting.
@
text
@d4 1
a4 1
 * $Header: /cvs/brlcad/src/other/jove/jove.h,v 1.2 2004/06/07 17:05:02 morrison Exp $
d8 1
a8 1
#include <config.h>
@


1.2
log
@add config.h usage for proper HAVE_TERMIOS_H detection and don't define HAVE_TERMIOS_H if it's not available
@
text
@d4 1
a4 1
 * $Header$
@


1.1
log
@Sources that are external to BRL-CAD are moved from the top level to src/other/.
@
text
@d4 1
a4 1
 * $Header: /cvs/brlcad/jove/jove.h,v 11.7 2003/12/30 13:27:41 erikg Exp $
d7 3
d36 1
a36 1
#	define HAVE_TERMIOS_H	0
@

