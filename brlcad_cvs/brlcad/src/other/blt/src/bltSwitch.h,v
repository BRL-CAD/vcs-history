head	1.3;
access;
symbols
	rel-7-10-4:1.2
	STABLE:1.2.0.4
	rel-7-10-2:1.2
	rel-7-10-0:1.2
	rel-7-8-4:1.2
	rel-7-8-2:1.2
	rel-7-8-0:1.2
	trimnurbs-branch:1.2.0.2
	help:1.2
	temp_tag:1.2
	bobWinPort-20051223-freeze:1.1.2.1
	postmerge-20051223-bobWinPort:1.2
	bobWinPort:1.1.0.2;
locks; strict;
comment	@ * @;


1.3
date	2007.09.14.15.21.30;	author erikgreenwald;	state Exp;
branches;
next	1.2;

1.2
date	2005.12.23.21.26.41;	author bob1961;	state Exp;
branches;
next	1.1;

1.1
date	2005.09.08.19.38.48;	author bob1961;	state dead;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2005.09.08.19.38.48;	author bob1961;	state Exp;
branches;
next	;


desc
@@


1.3
log
@removed trailing whitespace
@
text
@#ifdef offsetof
#define Blt_Offset(type, field) ((int) offsetof(type, field))
#else
#define Blt_Offset(type, field) ((int) ((char *) &((type *) 0)->field))
#endif

typedef int (Blt_SwitchParseProc) _ANSI_ARGS_((ClientData clientData,
	Tcl_Interp *interp, char *switchName, char *value, char *record,
	int offset));

typedef void (Blt_SwitchFreeProc) _ANSI_ARGS_((char *ptr));

typedef struct {
    Blt_SwitchParseProc *parseProc;	/* Procedure to parse a switch value
					 * and store it in its converted
					 * form in the data record. */
    Blt_SwitchFreeProc *freeProc;	/* Procedure to free a switch. */
    ClientData clientData;		/* Arbitrary one-word value
					 * used by switch parser,
					 * passed to parseProc. */
} Blt_SwitchCustom;

/*
 * Type values for Blt_SwitchSpec structures.  See the user
 * documentation for details.
 */
typedef enum {
    BLT_SWITCH_BOOLEAN, BLT_SWITCH_INT, BLT_SWITCH_INT_POSITIVE,
    BLT_SWITCH_INT_NONNEGATIVE, BLT_SWITCH_DOUBLE, BLT_SWITCH_STRING,
    BLT_SWITCH_LIST, BLT_SWITCH_FLAG, BLT_SWITCH_VALUE, BLT_SWITCH_CUSTOM,
    BLT_SWITCH_END
} Blt_SwitchTypes;

typedef struct {
    Blt_SwitchTypes type;	/* Type of option, such as BLT_SWITCH_COLOR;
				 * see definitions below.  Last option in
				 * table must have type BLT_SWITCH_END. */
    char *switchName;		/* Switch used to specify option in argv.
				 * NULL means this spec is part of a group. */
    int offset;			/* Where in widget record to store value;
				 * use Blt_Offset macro to generate values
				 * for this. */
    int flags;			/* Any combination of the values defined
				 * below. */
    Blt_SwitchCustom *customPtr; /* If type is BLT_SWITCH_CUSTOM then this is
				 * a pointer to info about how to parse and
				 * print the option.  Otherwise it is
				 * irrelevant. */
    int value;
} Blt_SwitchSpec;

#define BLT_SWITCH_ARGV_ONLY		(1<<0)
#define BLT_SWITCH_OBJV_ONLY		(1<<0)
#define BLT_SWITCH_ARGV_PARTIAL		(1<<1)
#define BLT_SWITCH_OBJV_PARTIAL		(1<<1)
/*
 * Possible flag values for Blt_SwitchSpec structures.  Any bits at
 * or above BLT_SWITCH_USER_BIT may be used by clients for selecting
 * certain entries.
 */
#define BLT_SWITCH_NULL_OK		(1<<0)
#define BLT_SWITCH_DONT_SET_DEFAULT	(1<<3)
#define BLT_SWITCH_SPECIFIED		(1<<4)
#define BLT_SWITCH_USER_BIT		(1<<8)

extern int Blt_ProcessSwitches _ANSI_ARGS_((Tcl_Interp *interp,
	Blt_SwitchSpec *specs, int argc, char **argv, char *record, int flags));

extern void Blt_FreeSwitches _ANSI_ARGS_((Blt_SwitchSpec *specs, char *record,
	int flags));

extern int Blt_SwitchChanged _ANSI_ARGS_(TCL_VARARGS(Blt_SwitchSpec *, specs));

#if (TCL_VERSION_NUMBER >= _VERSION(8,0,0))
extern int Blt_ProcessObjSwitches _ANSI_ARGS_((Tcl_Interp *interp,
	Blt_SwitchSpec *specPtr, int objc, Tcl_Obj *CONST *objv, char *record,
	int flags));
#endif
@


1.2
log
@Merge of bobWinPort
@
text
@d8 1
a8 1
	Tcl_Interp *interp, char *switchName, char *value, char *record, 
d15 1
a15 1
					 * and store it in its converted 
d29 2
a30 2
    BLT_SWITCH_INT_NONNEGATIVE, BLT_SWITCH_DOUBLE, BLT_SWITCH_STRING, 
    BLT_SWITCH_LIST, BLT_SWITCH_FLAG, BLT_SWITCH_VALUE, BLT_SWITCH_CUSTOM, 
d59 1
a59 1
 * certain entries.  
d66 1
a66 1
extern int Blt_ProcessSwitches _ANSI_ARGS_((Tcl_Interp *interp, 
d69 1
a69 1
extern void Blt_FreeSwitches _ANSI_ARGS_((Blt_SwitchSpec *specs, char *record, 
d74 3
a76 3
#if (TCL_VERSION_NUMBER >= _VERSION(8,0,0)) 
extern int Blt_ProcessObjSwitches _ANSI_ARGS_((Tcl_Interp *interp, 
	Blt_SwitchSpec *specPtr, int objc, Tcl_Obj *CONST *objv, char *record, 
@


1.1
log
@file bltSwitch.h was initially added on branch bobWinPort.
@
text
@d1 78
@


1.1.2.1
log
@Initial check-in
@
text
@a0 78
#ifdef offsetof
#define Blt_Offset(type, field) ((int) offsetof(type, field))
#else
#define Blt_Offset(type, field) ((int) ((char *) &((type *) 0)->field))
#endif

typedef int (Blt_SwitchParseProc) _ANSI_ARGS_((ClientData clientData,
	Tcl_Interp *interp, char *switchName, char *value, char *record, 
	int offset));

typedef void (Blt_SwitchFreeProc) _ANSI_ARGS_((char *ptr));

typedef struct {
    Blt_SwitchParseProc *parseProc;	/* Procedure to parse a switch value
					 * and store it in its converted 
					 * form in the data record. */
    Blt_SwitchFreeProc *freeProc;	/* Procedure to free a switch. */
    ClientData clientData;		/* Arbitrary one-word value
					 * used by switch parser,
					 * passed to parseProc. */
} Blt_SwitchCustom;

/*
 * Type values for Blt_SwitchSpec structures.  See the user
 * documentation for details.
 */
typedef enum {
    BLT_SWITCH_BOOLEAN, BLT_SWITCH_INT, BLT_SWITCH_INT_POSITIVE,
    BLT_SWITCH_INT_NONNEGATIVE, BLT_SWITCH_DOUBLE, BLT_SWITCH_STRING, 
    BLT_SWITCH_LIST, BLT_SWITCH_FLAG, BLT_SWITCH_VALUE, BLT_SWITCH_CUSTOM, 
    BLT_SWITCH_END
} Blt_SwitchTypes;

typedef struct {
    Blt_SwitchTypes type;	/* Type of option, such as BLT_SWITCH_COLOR;
				 * see definitions below.  Last option in
				 * table must have type BLT_SWITCH_END. */
    char *switchName;		/* Switch used to specify option in argv.
				 * NULL means this spec is part of a group. */
    int offset;			/* Where in widget record to store value;
				 * use Blt_Offset macro to generate values
				 * for this. */
    int flags;			/* Any combination of the values defined
				 * below. */
    Blt_SwitchCustom *customPtr; /* If type is BLT_SWITCH_CUSTOM then this is
				 * a pointer to info about how to parse and
				 * print the option.  Otherwise it is
				 * irrelevant. */
    int value;
} Blt_SwitchSpec;

#define BLT_SWITCH_ARGV_ONLY		(1<<0)
#define BLT_SWITCH_OBJV_ONLY		(1<<0)
#define BLT_SWITCH_ARGV_PARTIAL		(1<<1)
#define BLT_SWITCH_OBJV_PARTIAL		(1<<1)
/*
 * Possible flag values for Blt_SwitchSpec structures.  Any bits at
 * or above BLT_SWITCH_USER_BIT may be used by clients for selecting
 * certain entries.  
 */
#define BLT_SWITCH_NULL_OK		(1<<0)
#define BLT_SWITCH_DONT_SET_DEFAULT	(1<<3)
#define BLT_SWITCH_SPECIFIED		(1<<4)
#define BLT_SWITCH_USER_BIT		(1<<8)

extern int Blt_ProcessSwitches _ANSI_ARGS_((Tcl_Interp *interp, 
	Blt_SwitchSpec *specs, int argc, char **argv, char *record, int flags));

extern void Blt_FreeSwitches _ANSI_ARGS_((Blt_SwitchSpec *specs, char *record, 
	int flags));

extern int Blt_SwitchChanged _ANSI_ARGS_(TCL_VARARGS(Blt_SwitchSpec *, specs));

#if (TCL_VERSION_NUMBER >= _VERSION(8,0,0)) 
extern int Blt_ProcessObjSwitches _ANSI_ARGS_((Tcl_Interp *interp, 
	Blt_SwitchSpec *specPtr, int objc, Tcl_Obj *CONST *objv, char *record, 
	int flags));
#endif
@

