head	14.8;
access;
symbols
	rel-7-10-4:14.6
	STABLE:14.6.0.2
	stable-branch:14.1
	rel-7-10-2:14.6
	rel-7-10-0:14.5
	rel-7-8-4:14.4
	rel-7-8-2:14.4
	rel-7-8-0:14.4
	trimnurbs-branch:14.4.0.8
	help:14.4
	temp_tag:14.4
	bobWinPort-20051223-freeze:14.4
	postmerge-20051223-bobWinPort:14.4
	premerge-20051223-bobWinPort:14.4
	rel-7-6-6:14.4
	rel-7-6-4:14.4
	rel-7-6-2:14.4
	rel-7-6-branch:14.4.0.6
	rel-7-6-0:14.4
	rel-7-4-2:14.4
	rel-7-4-branch:14.4.0.4
	bobWinPort:14.4.0.2
	rel-7-4-0:14.4
	rel-7-2-6:14.1
	rel-7-2-4:14.1
	rel-7-2-2:14.1
	rel-7-2-0:14.1
	rel-7-0-4:14.1
	rel-7-0-2:14.1
	rel-7-0-1:14.1
	opensource-post:14.1
	opensource-pre:1.8
	rel-7-0-branch:1.8.0.2
	rel-7-0:1.8;
locks; strict;
comment	@# @;


14.8
date	2007.11.19.20.40.38;	author brlcad;	state Exp;
branches;
next	14.7;

14.7
date	2007.10.03.19.36.31;	author brlcad;	state Exp;
branches;
next	14.6;

14.6
date	2007.05.21.04.32.32;	author brlcad;	state Exp;
branches;
next	14.5;

14.5
date	2007.01.26.05.14.45;	author brlcad;	state Exp;
branches;
next	14.4;

14.4
date	2005.07.06.23.20.38;	author brlcad;	state Exp;
branches;
next	14.3;

14.3
date	2005.06.25.00.23.18;	author brlcad;	state Exp;
branches;
next	14.2;

14.2
date	2005.06.12.22.19.13;	author brlcad;	state Exp;
branches;
next	14.1;

14.1
date	2004.11.16.19.42.31;	author morrison;	state Exp;
branches;
next	1.8;

1.8
date	2004.10.28.01.40.28;	author morrison;	state Exp;
branches;
next	1.7;

1.7
date	2004.10.22.12.12.16;	author morrison;	state Exp;
branches;
next	1.6;

1.6
date	2004.10.14.12.57.34;	author morrison;	state Exp;
branches;
next	1.5;

1.5
date	2004.10.14.12.08.17;	author morrison;	state Exp;
branches;
next	1.4;

1.4
date	2004.09.24.21.32.58;	author erikg;	state Exp;
branches;
next	1.3;

1.3
date	2004.09.24.14.51.30;	author morrison;	state Exp;
branches;
next	1.2;

1.2
date	2004.06.03.20.26.27;	author jra;	state Exp;
branches;
next	1.1;

1.1
date	2004.05.20.15.21.16;	author morrison;	state Exp;
branches;
next	;


desc
@@


14.8
log
@so long as they're in CVS and being provided for the windows folks, include the pkgIndex.tcl and tclIndex files in the source dist.
@
text
@# $Id: Makefile.am,v 14.7 2007/10/03 19:36:31 brlcad Exp $

this_dir = tclscripts/pl-dm
tcldir = $(BRLCAD_DATA)/$(this_dir)

scripties = \
	bindings.tcl \
	help.tcl \
	menu.tcl

BUILT_SOURCES = \
	pkgIndex.tcl \
	tclIndex

tcl_SCRIPTS = \
	$(BUILT_SOURCES) \
	$(scripties)

EXTRA_DIST = $(tcl_SCRIPTS)

# CLEANFILES = $(BUILT_SOURCES)

pkgIndex.tcl:
	TCL_LIBRARY=$(top_srcdir)/src/other/tcl/library \
	LD_LIBRARY_PATH=$(top_builddir)/src/other/tcl/unix:$(top_builddir)/src/other/tk/unix:$$LD_LIBRARY_PATH \
	DYLD_LIBRARY_PATH=$(top_builddir)/src/other/tcl/unix:$(top_buildir)/src/other/tk/unix:$$DYLD_LIBRARY_PATH \
	$(top_builddir)/src/bwish/btclsh $(top_srcdir)/src/tclscripts/ampi.tcl $(top_srcdir)/src/$(this_dir)

tclIndex:
	TCL_LIBRARY=$(top_srcdir)/src/other/tcl/library \
	LD_LIBRARY_PATH=$(top_builddir)/src/other/tcl/unix:$(top_builddir)/src/other/tk/unix:$$LD_LIBRARY_PATH \
	DYLD_LIBRARY_PATH=$(top_builddir)/src/other/tcl/unix:$(top_buildir)/src/other/tk/unix:$$DYLD_LIBRARY_PATH \
	$(top_builddir)/src/bwish/btclsh $(top_srcdir)/src/tclscripts/ami.tcl $(top_srcdir)/src/$(this_dir)

include $(top_srcdir)/misc/Makefile.defs
@


14.7
log
@remove the MAINTAINERCLEAN rules, they're never really used regardless of the debate over whether the Makefile.in files belong there or not
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.6 2007/05/21 04:32:32 brlcad Exp $
d11 4
d19 1
a19 5
BUILT_SOURCES = \
	pkgIndex.tcl \
	tclIndex

EXTRA_DIST = $(scripties)
@


14.6
log
@since tcl/tk are being compiled dynamic now instead of static and because they're not libtool libraries, libtool fails to find their uninstalled .so/.dylib files in src/other, and the wrapper script over binaries fails to search the provided -L paths.  so here we manually set LD/DYLD_LIBRARY_PATH before attempting to invoke the (uninstalled) binary during the compilation process.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.5 2007/01/26 05:14:45 brlcad Exp $
a22 2
MAINTAINERCLEANFILES = Makefile.in

@


14.5
log
@since the pkgIndex.tcl and tclIndex files are now in CVS, disable the CLEANFILES directive that deletes them.  now that they're sorted.. if they're different, the cvs update notice should be significant now that they're sorted consistently.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.4 2005/07/06 23:20:38 brlcad Exp $
d26 3
d32 3
@


14.4
log
@s/BRLCAD_DATA_DIR/BRLCAD_DATA/
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.3 2005/06/25 00:23:18 brlcad Exp $
d21 1
a21 1
CLEANFILES = $(BUILT_SOURCES)
@


14.3
log
@include misc/Makefile.defs
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.2 2005/06/12 22:19:13 brlcad Exp $
d4 1
a4 1
tcldir = $(BRLCAD_DATA_DIR)/$(this_dir)
@


14.2
log
@install all of the data in subdirs under BRLCAD_DATA_DIR now, making the install one step closer to playing more politely with the packaging operating systems.
@
text
@d1 1
a1 1
# $Id: $
d30 2
@


14.1
log
@dawn of a new revision.  it shall be numbered 14 to match release 7.  begin the convergence by adding emacs/vi local variable footer blocks to encourage consistent formatting.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.8 2004/10/28 01:40:28 morrison Exp $
d4 1
a4 1
tcldir = $(prefix)/$(this_dir)
d19 6
a29 6

EXTRA_DIST = $(scripties)

CLEANFILES = $(BUILT_SOURCES)

MAINTAINERCLEANFILES = Makefile.in
@


1.8
log
@don't include the built sources in the dist otherwise we need to compile to make a dist.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.7 2004/10/22 12:12:16 morrison Exp $
@


1.7
log
@wipe out the index files on a make clean
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.6 2004/10/14 12:57:34 morrison Exp $
d6 1
a6 2
dist_tcl_SCRIPTS = \
	$(BUILT_SOURCES) \
d11 4
d25 1
a25 1
EXTRA_DIST = $(dist_tcl_SCRIPTS)
@


1.6
log
@install the index files
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.5 2004/10/14 12:08:17 morrison Exp $
d24 1
a24 1
DISTCLEANFILES = $(BUILT_SOURCES)
@


1.5
log
@fix the tclIndex and pkgIndex.tcl generation.  btclsh is required (or better put, tclsh simply doesn't generate the indexes).  instead of custom install rules, the files are actually built as part of the compilation process now too as built sources so they are tracked more simply.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.4 2004/09/24 21:32:58 erikg Exp $
d7 1
@


1.4
log
@use tclsh instead of btclsh
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.3 2004/09/24 14:51:30 morrison Exp $
d3 2
a4 2
tcldir = $(prefix)/tclscripts/pl-dm
dist_tcl_SCRIPTS = bindings.tcl help.tcl menu.tcl
d6 4
a9 2
install-data-hook:
	${top_builddir}/src/other/libtcl/tclsh $(top_srcdir)/src/tclscripts/ami.tcl $(tcldir)
d11 15
a25 2
uninstall-hook:
	${RM} -f $(tcldir)/tclIndex
@


1.3
log
@help make distcheck get a whole lot farther ..
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.2 2004/06/03 20:26:27 jra Exp $
d7 1
a7 1
	${top_builddir}/src/bwish/btclsh $(top_srcdir)/src/tclscripts/ami.tcl $(tcldir)
@


1.2
log
@Coping with new directory structure
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.1 2004/05/20 15:21:16 morrison Exp $
d9 2
@


1.1
log
@Vast reorganization begins.  Sources moved from top-level directories into src/.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.3 2004/03/24 11:45:36 erikg Exp $
d7 1
a7 1
	${top_builddir}/bwish/btclsh $(top_srcdir)/tclscripts/ami.tcl $(tcldir)
@

