head	14.27;
access;
symbols
	rel-7-10-4:14.23.2.1
	STABLE:14.23.0.2
	stable-branch:14.1
	rel-7-10-2:14.22
	rel-7-10-0:14.19
	rel-7-8-4:14.9
	rel-7-8-2:14.7
	rel-7-8-0:14.7
	trimnurbs-branch:14.7.0.2
	help:14.7
	temp_tag:14.6
	bobWinPort-20051223-freeze:14.4
	postmerge-20051223-bobWinPort:14.6
	premerge-20051223-bobWinPort:14.6
	rel-7-6-6:14.6
	rel-7-6-4:14.6
	rel-7-6-2:14.4
	rel-7-6-branch:14.4.0.4
	rel-7-6-0:14.4
	rel-7-4-2:14.2.2.1
	rel-7-4-branch:14.2.0.2
	bobWinPort:14.4.0.2
	rel-7-4-0:14.2
	rel-7-2-6:14.1
	rel-7-2-4:14.1
	rel-7-2-2:14.1
	rel-7-2-0:14.1
	rel-7-0-4:14.1
	rel-7-0-2:14.1
	rel-7-0-1:14.1
	opensource-post:14.1
	opensource-pre:1.7
	rel-7-0-branch:1.6.0.2
	rel-7-0:1.6;
locks; strict;
comment	@# @;


14.27
date	2007.12.18.17.37.51;	author brlcad;	state Exp;
branches;
next	14.26;

14.26
date	2007.10.03.19.36.18;	author brlcad;	state Exp;
branches;
next	14.25;

14.25
date	2007.09.26.21.24.14;	author brlcad;	state Exp;
branches;
next	14.24;

14.24
date	2007.09.19.03.53.38;	author brlcad;	state Exp;
branches;
next	14.23;

14.23
date	2007.09.07.19.54.18;	author erikgreenwald;	state Exp;
branches
	14.23.2.1;
next	14.22;

14.22
date	2007.08.01.14.26.21;	author erikgreenwald;	state Exp;
branches;
next	14.21;

14.21
date	2007.05.07.04.03.26;	author brlcad;	state Exp;
branches;
next	14.20;

14.20
date	2007.04.17.00.38.48;	author brlcad;	state Exp;
branches;
next	14.19;

14.19
date	2007.04.03.02.47.07;	author brlcad;	state Exp;
branches;
next	14.18;

14.18
date	2007.03.08.07.05.34;	author brlcad;	state Exp;
branches;
next	14.17;

14.17
date	2007.03.07.20.03.40;	author erikgreenwald;	state Exp;
branches;
next	14.16;

14.16
date	2007.03.05.07.08.21;	author brlcad;	state Exp;
branches;
next	14.15;

14.15
date	2007.03.02.21.46.28;	author brlcad;	state Exp;
branches;
next	14.14;

14.14
date	2007.02.11.15.53.49;	author erikgreenwald;	state Exp;
branches;
next	14.13;

14.13
date	2007.02.07.20.30.35;	author erikgreenwald;	state Exp;
branches;
next	14.12;

14.12
date	2007.02.03.10.34.14;	author brlcad;	state Exp;
branches;
next	14.11;

14.11
date	2007.02.02.06.33.08;	author brlcad;	state Exp;
branches;
next	14.10;

14.10
date	2007.01.27.01.41.43;	author brlcad;	state Exp;
branches;
next	14.9;

14.9
date	2006.08.22.20.38.45;	author brlcad;	state Exp;
branches;
next	14.8;

14.8
date	2006.08.08.05.48.57;	author brlcad;	state Exp;
branches;
next	14.7;

14.7
date	2005.12.29.15.12.39;	author brlcad;	state Exp;
branches;
next	14.6;

14.6
date	2005.10.29.17.44.49;	author brlcad;	state Exp;
branches;
next	14.5;

14.5
date	2005.10.24.03.24.03;	author brlcad;	state Exp;
branches;
next	14.4;

14.4
date	2005.07.18.05.05.06;	author brlcad;	state Exp;
branches
	14.4.4.1;
next	14.3;

14.3
date	2005.07.17.06.16.19;	author brlcad;	state Exp;
branches;
next	14.2;

14.2
date	2005.06.25.00.14.02;	author brlcad;	state Exp;
branches
	14.2.2.1;
next	14.1;

14.1
date	2004.11.16.19.42.17;	author morrison;	state Exp;
branches;
next	1.7;

1.7
date	2004.11.10.01.03.35;	author morrison;	state Exp;
branches;
next	1.6;

1.6
date	2004.10.06.14.31.18;	author morrison;	state Exp;
branches;
next	1.5;

1.5
date	2004.08.02.06.47.19;	author morrison;	state Exp;
branches;
next	1.4;

1.4
date	2004.06.22.18.11.29;	author morrison;	state Exp;
branches;
next	1.3;

1.3
date	2004.06.15.13.44.14;	author erikg;	state Exp;
branches;
next	1.2;

1.2
date	2004.05.24.20.30.33;	author morrison;	state Exp;
branches;
next	1.1;

1.1
date	2004.05.20.15.20.15;	author morrison;	state Exp;
branches;
next	;

14.2.2.1
date	2005.08.16.21.03.49;	author brlcad;	state Exp;
branches;
next	;

14.4.4.1
date	2005.11.13.13.46.17;	author brlcad;	state Exp;
branches;
next	;

14.23.2.1
date	2007.09.28.14.04.33;	author brlcad;	state Exp;
branches;
next	;


desc
@@


14.27
log
@add tclcad.c to libtclcad. this makes libtclcad loadable by Tcl!
@
text
@# $Id: Makefile.am,v 14.26 2007/10/03 19:36:18 brlcad Exp $

lib_LTLIBRARIES = libtclcad.la

libtclcad_la_SOURCES = \
	tclcad.c \
	tclcadAutoPath.c \
	tclcadTkSetup.c \
	tkImgFmtPIX.c

libtclcad_la_CFLAGS = \
	${X_CFLAGS} \
	${ITK_CPPFLAGS} \
	${ITCL_CPPFLAGS} \
	${TK_CPPFLAGS} \
	${TCL_CPPFLAGS} \
	-I$(top_srcdir)/src/other/tcl/generic \
	-I$(top_srcdir)/src/other/tcl/unix \
	-I$(top_srcdir)/src/other/tk/generic \
	-I$(top_srcdir)/src/other/tk/unix \
	-I$(top_srcdir)/src/other/blt/src
libtclcad_la_LDFLAGS = -version-info 19:1
libtclcad_la_LIBADD = ${TCLCAD_LIBS}

EXTRA_DIST = libtclcad.dsp

DEPS=src/libfb

include $(top_srcdir)/misc/Makefile.defs
@


14.26
log
@remove the MAINTAINERCLEAN rules, they're never really used regardless of the debate over whether the Makefile.in files belong there or not
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.25 2007/09/26 21:24:14 brlcad Exp $
d6 1
@


14.25
log
@the libraries really need to libadd all of their requisite dependencies or there will be unresolved symbols on platforms; this isn't just a libtool issue (libtool needs this info).  this change will hopefully help the build on a few other platforms, though I suspect there are still a few obscure cases (with buggy libtool) where unresolved symbols might be encountered with dynamic/shared libadd libraries not getting carried through to the linker line for binaries.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.24 2007/09/19 03:53:38 brlcad Exp $
a27 2
MAINTAINERCLEANFILES = Makefile.in

@


14.24
log
@search the blt dir for headers, needed for archer paths
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.23 2007/09/07 19:54:18 erikgreenwald Exp $
a9 2
libtclcad_la_LDFLAGS = -version-info 19:1
libtclcad_la_LIBADD = ${TCLCAD_LIBS} ${FB}
d21 2
d24 1
a24 2
EXTRA_DIST = \
	libtclcad.dsp
@


14.23
log
@add link dependancy information to shared libraries and reduce redundancy
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.22 2007/08/01 14:26:21 erikgreenwald Exp $
d21 2
a22 1
	-I$(top_srcdir)/src/other/tk/unix
@


14.23.2.1
log
@more merging from HEAD.  bring in build system tweakage updates that should fix some library symbol problems from croping up post-release.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.25 2007/09/26 21:24:14 brlcad Exp $
d10 2
d21 1
a21 4
	-I$(top_srcdir)/src/other/tk/unix \
	-I$(top_srcdir)/src/other/blt/src
libtclcad_la_LDFLAGS = -version-info 19:1
libtclcad_la_LIBADD = ${TCLCAD_LIBS}
d23 2
a24 1
EXTRA_DIST = libtclcad.dsp
@


14.22
log
@actually remove tkCanvBezier.c as it's no longer used
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.21 2007/05/07 04:03:26 brlcad Exp $
d11 1
a11 1
libtclcad_la_LIBADD = ${TCLCAD_LIBS}
@


14.21
log
@disabling tk bezier canvas compilation
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.20 2007/04/17 00:38:48 brlcad Exp $
a9 2
#	tkCanvBezier.c 

@


14.20
log
@remove the unused version global
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.19 2007/04/03 02:47:07 brlcad Exp $
a7 1
	tkCanvBezier.c \
d10 2
@


14.19
log
@restructure library linkages so that brl-cad libraries no longer list their dependencies as a LIBADD.  dependencies are moved into configure.ac and provided via _LIBS variables so that they are specified at link time.  this supports hybrid static library compilation as well as other more varied mixture configurations.  use the new _LIBS variables throughout.  probably want to re-combine them later into a single symbol name per library but this will suffice for now.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.18 2007/03/08 07:05:34 brlcad Exp $
d5 1
a5 1
SRCS = \
a23 4
libtclcad_la_SOURCES = \
	$(SRCS) \
	vers.c

d25 1
a25 2
	libtclcad.dsp \
	vers_win.c
d27 1
a27 3
BUILT_SOURCES = vers.c
vers.c: $(SRCS)
	@@SH@@ $(top_srcdir)/sh/vers.sh tclcad_version "BRL-CAD Routines for Tcl/Tk" > $@@
a28 2
CLEANFILES = $(BUILT_SOURCES)
DISTCLEANFILES = version
a30 2
DEPS=src/libfb

@


14.18
log
@whoosh! push BU, BN, and RT (and maybe one or two others) out of library LIBADD declarations down to application LDADD linkage.  this means that there might be issues to solve again towards being able to generate fully contained/resolved libraries (e.g. frameworks), but solves the current problem of linking against static tcl/tk libraries portably.  duplicate symbols become a problem at link time (bu, bn, and rt all use tcl).  pushing the link specification all the way down to the binary (so far) makes everyone happy.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.17 2007/03/07 20:03:40 erikgreenwald Exp $
d12 1
a23 3
libtclcad_la_LIBADD = \
	${TCLSTUB}

@


14.17
log
@change dependancy to libfb, SHOULD snarf in tcl if necessary via libbu
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.16 2007/03/05 07:08:21 brlcad Exp $
a23 4
	${FB} \
	${BN} \
	${BU} \
	${TK} \
@


14.16
log
@save problem as earlier, need to find private tcl/tk headers even if linking against system that doesn't have them installed
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.15 2007/03/02 21:46:28 brlcad Exp $
d46 1
a46 5
if BUILD_TCL
DEPS=src/other/tcl
else
DEPS=
endif
@


14.15
log
@upgrade tcl/tk from 8.4.6 to 8.5a5; also move to a recursive configure, using AC_CONFIG_SUBDIRS to call upon tcl, tk, and enigma's configure scripts as needed instead of redoing their build systems for our purpose.  this has a rather drastic impact on the way the libraries are linked together, including the need to compile tcl/tk static so as to avoid libtool portability issues as well as letting us take advantage of their build system for reduced maintenance and easing future upgrades.  undoubtedly more build issues to be worked out with other platforms given the extent of this change.  this does move us one step closer towards correctly linking against system tcl/tk installations too.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.14 2007/02/11 15:53:49 erikgreenwald Exp $
d17 5
a21 1
	${TCL_CPPFLAGS}
@


14.14
log
@don't add tcl or tk to the dependancy list if using the system ones
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.13 2007/02/07 20:30:35 erikgreenwald Exp $
d14 3
a16 1
	-I${top_srcdir}/src/other/libtk/generic \
d24 1
a24 1
	${TCL}
d43 1
a43 1
DEPS=src/other/libtcl
@


14.13
log
@beginnings of DEPS flags for "make depends" chaining.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.12 2007/02/03 10:34:14 brlcad Exp $
d40 1
d42 3
@


14.12
log
@*yawn* remove one of the big two remaining public header sets from our include/ directory.  remove tcl headers from include/ and utilize the TCL_CPPFLAGS so compilation pulls headers from within src/other/libtcl instead.  since bu.h and raytrace.h include tcl foo, this implicates a change across almost the entire build to add the new CPPFLAGS.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.11 2007/02/02 06:33:08 brlcad Exp $
d40 2
@


14.11
log
@dependency ordering on libadd libraries
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.10 2007/01/27 01:41:43 brlcad Exp $
a4 2
AM_CFLAGS = ${X_CFLAGS}

a10 1
libtclcad_la_CFLAGS = -I${top_srcdir}/src/other/libtk/generic
d12 4
@


14.10
log
@ws. lots and lots of ws.  see sh/ws.sh for details (cases 'abcdeg').
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.9 2006/08/22 20:38:45 brlcad Exp $
d17 1
a17 1
	${TK} \
d20 1
a20 1
	${FB} \
@


14.9
log
@libtclcad depends on libfb for tkImgFmtPIX fb_() image sizing functions
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.8 2006/08/08 05:48:57 brlcad Exp $
a39 1

@


14.8
log
@add the new windows build file to the dist
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.7 2005/12/29 15:12:39 brlcad Exp $
d20 1
@


14.7
log
@missing the vers_win.c files for making source distributions that will compile on windows
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.6 2005/10/29 17:44:49 brlcad Exp $
d26 4
a33 2
EXTRA_DIST = vers_win.c

@


14.6
log
@revert tk back in, the lib uses tk extensively so it needs to be on the list
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.5 2005/10/24 03:24:03 brlcad Exp $
d30 2
@


14.5
log
@libtk not needed, aix fixes
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.4 2005/07/18 05:05:06 brlcad Exp $
d17 1
@


14.4
log
@add tclcadAutoPath.c and tclcadTkSetup.c, remove the renamed tclcad.c
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.3 2005/07/17 06:16:19 brlcad Exp $
a18 1
	${TK} \
@


14.4.4.1
log
@merge changes from HEAD aka rel-7-6-4 to the rel-7-6-branch just in case someone peeks a gander or tries to continue/build the branch
@
text
@d1 1
a1 1
# $Id$
a16 1
	${TK} \
d19 1
@


14.3
log
@move tkCanvBezier.c from the depths of other/libtk/generic to brl-cad's libtclcad library, decoupling brl-cad's tkCanvasBezier modification so that a system libtk may be used straight up.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.2 2005/06/25 00:14:02 brlcad Exp $
d8 2
a9 1
	tclcad.c \
d15 7
a21 1
libtclcad_la_LIBADD = ${BN} ${BU} ${TCL} ${TK}
a25 2
LIBADD = ${TK} ${BN}

@


14.2
log
@include misc/Makefile.defs
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.1 2004/11/16 19:42:17 morrison Exp $
d9 1
d12 1
@


14.2.2.1
log
@merge in changes through Aug10 for 7.4.2 release
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 14.4 2005/07/18 05:05:06 brlcad Exp $
d8 1
a8 3
	tclcadAutoPath.c \
	tclcadTkSetup.c \
	tkCanvBezier.c \
a10 1
libtclcad_la_CFLAGS = -I${top_srcdir}/src/other/libtk/generic
d12 1
a12 7

libtclcad_la_LIBADD = \
	${BN} \
	${BU} \
	${TK} \
	${TCL}

d17 2
@


14.1
log
@dawn of a new revision.  it shall be numbered 14 to match release 7.  begin the convergence by adding emacs/vi local variable footer blocks to encourage consistent formatting.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.7 2004/11/10 01:03:35 morrison Exp $
d26 3
@


1.7
log
@delete the version files when someone does a make clean (but still don't delete the stub counter file until a make distclean).  the version may have been updated in configure.ac
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.6 2004/10/06 14:31:18 morrison Exp $
@


1.6
log
@Major restructuring and fixes so that 'make distcheck' should now work and actually be close to correct.  i.e. the resultant generated tarball should contain contents similar to a CVS export.  This helps it generate a proper distribution and build, install, and uninstall cleanly off of that distribution.
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.5 2004/08/02 06:47:19 morrison Exp $
d23 1
a24 1

@


1.5
log
@replace automake variables with make variables and other minor cleanups
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.4 2004/06/22 18:11:29 morrison Exp $
d5 2
d11 2
a16 3
libtclcad_la_LDFLAGS = -version-info 19:1
libtclcad_la_LIBADD = ${BN} ${BU} ${TCL} ${TK}

a18 2
AM_CFLAGS = ${X_CFLAGS}

d22 4
@


1.4
log
@use the autoconf shell facility defines
@
text
@d1 1
a1 1
# $Id$
d14 1
d16 1
a16 1
LIBADD = @@TK_LIBS@@ @@BN@@
d18 1
a18 1
AM_CFLAGS = @@X_CFLAGS@@
@


1.3
log
@get rid of (bad, "h" dir) AM_CFLAG crud
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.2 2004/05/24 20:30:33 morrison Exp $
d21 1
a21 1
	sh $(top_srcdir)/sh/vers.sh tclcad_version "BRL-CAD Routines for Tcl/Tk" > $@@
@


1.2
log
@make the version descriptions be the same as what they were
@
text
@d1 1
a1 1
# $Id: $
d17 1
a17 1
AM_CFLAGS = -I$(top_srcdir)/h @@X_CFLAGS@@
@


1.1
log
@Vast reorganization begins.  Sources moved from top-level directories into src/.
@
text
@d1 2
a2 1
# $Id: Makefile.am,v 1.3 2004/05/13 14:30:53 morrison Exp $
d5 8
a12 2
SRCS = tclcad.c tkImgFmtPIX.c
libtclcad_la_SOURCES = $(SRCS) vers.c
d14 1
d21 1
a21 2
	sh $(top_srcdir)/sh/vers.sh tclcad_version libtclcad > $@@

@

