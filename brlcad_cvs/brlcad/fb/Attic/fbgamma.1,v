head	11.4;
access;
symbols
	ansi-20040405-merged:11.2.6.1
	postmerge-20040405-ansi:11.3
	premerge-20040404-ansi:11.3
	postmerge-autoconf:11.3
	autoconf-freeze:11.3
	premerge-autoconf:11.3
	ansi-20040316-freeze:11.2
	postmerge-20040315-windows:11.3
	premerge-20040315-windows:11.3
	windows-20040315-freeze:11.2.8.1
	autoconf-20031203:11.3
	autoconf-20031202:11.3
	autoconf-branch:11.3.0.6
	phong-branch:11.3.0.4
	photonmap-branch:11.3.0.2
	rel-6-1-DP:11.2
	windows-branch:11.2.0.8
	rel-6-0-2:11.2
	ansi-branch:11.2.0.6
	rel-6-0-1-branch:11.2.0.4
	hartley-6-0-post:11.2
	hartley-6-0-pre:11.2
	rel-6-0-1:11.2
	rel-6-0:11.2
	rel-5-4:11.2
	offsite-5-3-pre:11.2
	rel-5-3:11.2
	rel-5-2:11.2
	rel-5-1-branch:11.2.0.2
	rel-5-1:11.2
	rel-5-0:11.1
	rel-5-0-beta:11.1
	rel-4-5:11.1
	ctj-4-5-post:11.1
	ctj-4-5-pre:11.1
	rel-4-4:11.1
	rel-4-0:10.1
	rel-3-5:9.1
	rel-3-0:8.1
	rel-2-3:7.1
	rel-2-0:5.1
	rel-1-24:5.1;
locks; strict;


11.4
date	2004.05.24.04.13.26;	author morrison;	state dead;
branches;
next	11.3;

11.3
date	2003.01.07.13.41.39;	author jra;	state Exp;
branches;
next	11.2;

11.2
date	2000.02.11.21.43.31;	author mike;	state Exp;
branches
	11.2.6.1
	11.2.8.1;
next	11.1;

11.1
date	95.01.04.10.09.21;	author mike;	state Rel4_4;
branches;
next	10.2;

10.2
date	94.11.07.23.15.38;	author mike;	state Exp;
branches;
next	10.1;

10.1
date	91.10.12.06.46.26;	author mike;	state Rel4_0;
branches;
next	9.3;

9.3
date	91.08.07.12.54.14;	author mmark;	state Exp;
branches;
next	9.2;

9.2
date	91.01.15.14.26.29;	author butler;	state Exp;
branches;
next	9.1;

9.1
date	89.05.19.06.08.52;	author mike;	state Rel3_5;
branches;
next	8.1;

8.1
date	88.10.05.00.41.35;	author mike;	state Rel3_0;
branches;
next	7.3;

7.3
date	88.09.02.14.18.55;	author phil;	state Exp;
branches;
next	7.2;

7.2
date	88.08.26.15.45.07;	author steveb;	state Exp;
branches;
next	7.1;

7.1
date	87.11.03.00.07.20;	author mike;	state Rel;
branches;
next	6.1;

6.1
date	87.07.11.08.10.30;	author mike;	state Rel;
branches;
next	5.1;

5.1
date	87.06.24.22.38.31;	author mike;	state Rel;
branches;
next	1.2;

1.2
date	87.06.23.18.48.35;	author phil;	state Exp;
branches;
next	1.1;

1.1
date	87.04.23.01.04.22;	author phil;	state Exp;
branches;
next	;

11.2.6.1
date	2004.03.17.21.16.07;	author morrison;	state Exp;
branches;
next	;

11.2.8.1
date	2004.03.11.23.40.41;	author morrison;	state Exp;
branches;
next	;


desc
@fbgamma man page
@


11.4
log
@moved to src/fb/
@
text
@.TH FBGAMMA 1 BRL-CAD
.SH NAME
fbgamma \- load a gamma correcting colormap
.SH SYNOPSIS
.B fbgamma
.RB [ \-h ]
.RB [ \-o ]
.RB [ \-i ]
.RB [ \-F frambuffer ]
val
[gval bval]
.SH DESCRIPTION
.I Fbgamma
loads a gamma correcting colormap into a framebuffer.
If a single value is given, that number is used for
all three color channels.  If three values are specified,
they will be applied to the red, green, and blue channels
respectively.
.PP
Gamma values larger than one will boost dim pixels with respect
to bright ones.  Values less than one will exaggerate the
difference in brightness.  The former has the effect of desaturating
the displayed colors ("washing them out"), the latter will
saturate the colors.  An uncorrected monitor is usually too
saturated.
.PP
Note that since this program is intended for gamma
.I correction
the exponent to which pixel values are raised is the inverse
of the given value.  To linearize a display then, the given
value will be equal to the gamma of the display (typically
2.0-3.0, see below).  If you wish to directly apply an
exponent to a picture (rather than its inverse), this can be
done by giving a negative value (which means reciprocal in the
usual mathematical sense).
.PP
By default, this program will "correct to linear", that is to say,
it will apply correction to a standard linear ramp.  If you
wish to "correct" some other colormap, e.g. an inverse video
map, the
.B \-o
overlay option can be used.  This will read whatever colormap
is currently in the framebuffer and operate on it.  One useful
result of this is the ability saturate or desaturate an arbitrary
colormap.
.PP
By default, the display is assumed to be 512x512 pixels;
by specifying the
.B \-h
flag, the size is changed to 1024x1024.
This size distinction is important for devices like the Adage
framebuffers which have different operating modes based on the
display size.
In general, the
.B fbgamma
manipulates the RGB color maps in the graphics hardware, and
has effect on the entire screen, not just the portion containing
the current framebuffer display.
As such, there is no need to match the display size on the
command line.
.PP
A framebuffer may be explicitly selected with the
.B \-F
option, followed by the name of the desired framebuffer.
.PP
The
.B \-i
option requests that a standard gamma calibration image be displayed on the
framebuffer.
This image consists of intensity ramps with 
patches of solid color, and vertically adjacent patches containing
alternating black and colored scanlines.
When using gamma to compensate for non-linearity of a display, the gamma
values should be adjusted until vertically adjacent ramps of the same color
appear equal in intensity for all patches.
.SH THEORY
The response of a typical monitor is non-linear with respect to
input voltage.  To a fairly high degree of accuracy, the response
can be expressed as:
.sp 1
display_intensity = input_voltage ^ gamma,
.sp 1
where gamma will usually lie in the 2.0 to 3.0 range (2.2 is the
.B NTSC
standard gamma, 2.5 is a commonly used "typical" value).
Most of the time, pixel values of images have been computed
assuming a linear mapping between pixel value and displayed
intensity.  This linear mapping can be approximated by loading
a colormap into the display which raises the pixel values to
the inverse gamma power.
.PP
It should be noted that getting the gamma values "right" involves
careful calibration and measurement or your display device.
The values are likely to be different for each color channel,
will depend of the brightness setting, etc. (increasing the monitor
brightness often lowers the gammas, due to overdriving the high
end of the display).  Also note that getting the correct colors
from a display requires knowledge of the phosphor chromaticities.
.PP
If possible one should gamma correct a picture before loading it
into a display or saving it as eight bit linear data.  This is
because the response of the human visual system to brightness
is also exponential in nature, and thus having "smaller steps"
and the dark end of the display and larger ones near full bright
(as an uncorrected display will have), fits this response well.
Gamma correction via the colormap cannot exploit this.
.PP
A gamma value greater than unity will saturate colors by pushing them
away from the white point and closer the the primaries (as viewed
on a chromaticity diagram).  A gamma less than unity will desaturate
colors by moving them closer to the white point.
.SH "SEE ALSO"
brlcad(1), fbcmap(1), cmap-fb(1), fb-cmap(1)
.SH AUTHOR
Phillip Dykstra
.SH SOURCE
SECAD/VLD Computing Consortium, Bldg 394
.br
The U. S. Army Ballistic Research Laboratory
.br
Aberdeen Proving Ground, Maryland  21005
.SH "BUG REPORTS"
Reports of bugs or problems should be submitted via electronic
mail to <CAD@@ARL.ARMY.MIL>.
@


11.3
log
@Corrected email address
@
text
@@


11.2
log
@
Fixed E-mail address and package name.
@
text
@d124 1
a124 1
mail to <CAD@@ARL.MIL>.
@


11.2.6.1
log
@sync branch with HEAD
@
text
@d124 1
a124 1
mail to <CAD@@ARL.ARMY.MIL>.
@


11.2.8.1
log
@sync to HEAD...
@
text
@d124 1
a124 1
mail to <CAD@@ARL.ARMY.MIL>.
@


11.1
log
@Release_4.4
@
text
@d1 1
a1 1
.TH FBGAMMA 1 BRL/CAD
d124 1
a124 1
mail to <CAD@@BRL.MIL>.
@


10.2
log
@Bug #63 -- improved documentation.
@
text
@@


10.1
log
@Release_4.0
@
text
@d54 7
@


9.3
log
@fixed typo
@
text
@@


9.2
log
@changed command line parsing to use getopt,
added -i flag for calibration image display,
added -F flage for selecting framebuffer
@
text
@d99 1
a99 1
Gamma correction via the colormap can not exploit this.
@


9.1
log
@Release_3.5
@
text
@d8 2
d54 15
@


8.1
log
@Release_3.0
@
text
@@


7.3
log
@BRL.MIL and \(em changes
@
text
@@


7.2
log
@*** empty log message ***
@
text
@d100 1
a100 1
mail to <CAD@@BRL.ARPA>.
@


7.1
log
@Release 2.3
@
text
@d57 1
a57 1
display_intensity = input_voltage ^ gamma
d59 1
a59 1
Where gamma will usually lie in the 2.0 to 3.0 range (2.2 is the
@


6.1
log
@Release 2.0
@
text
@@


5.1
log
@Release 1.24
@
text
@@


1.2
log
@fixed a typo
@
text
@@


1.1
log
@Initial revision
@
text
@d54 1
a54 1
input voltage.  To a fairly high degree a accuracy, the response
@
