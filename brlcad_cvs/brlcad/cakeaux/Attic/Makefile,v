head	11.6;
access;
symbols
	ansi-20040405-merged:11.5
	premerge-autoconf:11.5
	ansi-20040316-freeze:11.5
	postmerge-20040315-windows:11.5
	premerge-20040315-windows:11.5
	windows-20040315-freeze:11.5
	phong-branch:11.5.0.10
	photonmap-branch:11.5.0.8
	rel-6-1-DP:11.5
	windows-branch:11.5.0.6
	rel-6-0-2:11.5
	ansi-branch:11.5.0.4
	rel-6-0-1-branch:11.5.0.2
	hartley-6-0-post:11.5
	hartley-6-0-pre:11.5
	rel-6-0-1:11.5
	rel-6-0:11.5
	rel-5-4:11.4
	offsite-5-3-pre:11.4
	rel-5-3:11.4
	rel-5-2:11.4
	rel-5-1-branch:11.4.0.2
	rel-5-1:11.4
	rel-5-0:11.4
	rel-5-0-beta:11.3
	rel-4-5:11.2
	ctj-4-5-post:11.2
	ctj-4-5-pre:11.2
	rel-4-4:1.7
	rel-4-0:1.4
	AUTOCONF:11.5.0.12;
locks; strict;
comment	@# @;


11.6
date	2004.03.18.18.15.14;	author erikg;	state dead;
branches;
next	11.5;

11.5
date	2001.07.18.14.39.51;	author morrison;	state Exp;
branches
	11.5.12.1;
next	11.4;

11.4
date	99.06.03.00.17.07;	author mike;	state Exp;
branches;
next	11.3;

11.3
date	98.08.21.21.50.08;	author mike;	state Exp;
branches;
next	11.2;

11.2
date	97.03.20.13.49.55;	author jra;	state Exp;
branches;
next	11.1;

11.1
date	95.01.05.06.03.09;	author mike;	state Rel4_4;
branches;
next	1.7;

1.7
date	95.01.04.08.07.30;	author gdurf;	state Exp;
branches;
next	1.6;

1.6
date	94.09.22.01.12.42;	author mike;	state Exp;
branches;
next	1.5;

1.5
date	94.09.01.05.21.19;	author gdurf;	state Exp;
branches;
next	1.4;

1.4
date	91.09.25.20.37.36;	author phil;	state Exp;
branches;
next	1.3;

1.3
date	91.07.03.23.02.09;	author butler;	state Exp;
branches;
next	1.2;

1.2
date	91.01.03.23.36.24;	author mike;	state Exp;
branches;
next	1.1;

1.1
date	89.10.17.14.43.59;	author mike;	state Exp;
branches;
next	;

11.5.12.1
date	2003.11.07.16.41.42;	author erikg;	state dead;
branches;
next	11.5.12.2;

11.5.12.2
date	2004.02.12.19.40.41;	author erikg;	state Exp;
branches;
next	11.5.12.3;

11.5.12.3
date	2004.02.25.15.24.40;	author erikg;	state dead;
branches;
next	;


desc
@cakeaux/Makefile
@


11.6
log
@merge of AUTOCONF branch in to HEAD
@
text
@#			cakeaux/Makefile
#
#	Makefile for some of cake's auxiliary programs
#
# @@(#)$Header: /cvs/brlcad/cakeaux/Makefile,v 11.5 2001/07/18 14:39:51 morrison Exp $ (BRL)
SHELL=/bin/sh

# Use the following two lines for gnu compiler
#   CC = gcc
#   CFLAGS = -fwritable-strings
# Use these for everyone else
#   CC = cc
#   CFLAGS = 

# Some systems use "flex" insteda of "lex"
# LEX = flex
LEX = lex

# Some systems need LEXOPTS= -l to get yylineno.
LEXOPTS=
# LEXOPTS= -l

PROGS = base ccincl later need needed cakesub subcmd usrc gsrc cakeinclude

all:		$(PROGS)

install:	$(PROGS)
		eval `machinetype.sh -v` ; \
		BINDIR=$${BASEDIR}/bin; \
		umask 0222; \
		cp $(PROGS) $${BINDIR}

base:		base.o pattern_s.o
		$(CC) $(CFLAGS) -o base base.o pattern_s.o

cakeinclude:	cakeinclude.o
		$(CC) $(CFLAGS) -o cakeinclude cakeinclude.o

ccincl:		ccincl.o ccincl_s.o
		$(CC) $(CFLAGS) -o ccincl ccincl.o ccincl_s.o

later:		later.c
		$(CC) $(CFLAGS) -o later later.c

need:		need.c
		$(CC) $(CFLAGS) -o need need.c

needed:		needed.c
		$(CC) $(CFLAGS) -o needed needed.c

refs:		refs.o pattern_s.o
		$(CC) $(CFLAGS) -o refs refs.o pattern_s.o

cakesub:		cakesub.c
		$(CC) $(CFLAGS) -o cakesub cakesub.c

subcmd:		subcmd.c
		$(CC) $(CFLAGS) -o subcmd subcmd.c

usrc:		usrc.c
		$(CC) $(CFLAGS) -o usrc usrc.c

gsrc:		gsrc.c
		$(CC) $(CFLAGS) -o gsrc gsrc.c

ccincl_s.c:	ccincl_s.l
		$(LEX) $(LEXOPTS) ccincl_s.l
		@@mv lex.yy.c ccincl_s.c

pattern_s.c:	pattern_s.l
		$(LEX) $(LEXOPTS) pattern_s.l
		@@mv lex.yy.c pattern_s.c

clean:		
		-/bin/rm -f Make_errs *.o *_s.c

gclean:		
		-/bin/rm -f *_s.c

clobber:	clean
		-/bin/rm -f ${PROGS}
@


11.5
log
@Commented out the CC and CC_DEFS lines so that setting sysvar CC=gcc would work consistently with the cake Makefile.
@
text
@d5 1
a5 1
# @@(#)$Header: /c/CVS/brlcad/cakeaux/Makefile,v 11.4 1999/06/03 00:17:07 mike Exp $ (BRL)
@


11.5.12.1
log
@generated now
@
text
@d5 1
a5 1
# @@(#)$Header: /c/CVS/brlcad/cakeaux/Makefile,v 11.5 2001/07/18 14:39:51 morrison Exp $ (BRL)
@


11.5.12.2
log
@merge from HEAD
@
text
@@


11.5.12.3
log
@makefiles should be generated
@
text
@d5 1
a5 1
# @@(#)$Header: /c/CVS/brlcad/cakeaux/Makefile,v 11.5.12.2 2004/02/12 19:40:41 erikg Exp $ (BRL)
@


11.4
log
@
Install with more restrictive modes
@
text
@d5 1
a5 1
# @@(#)$Header: /c/CVS/brlcad/cakeaux/Makefile,v 11.3 1998/08/21 21:50:08 mike Exp $ (BRL)
d9 5
a13 4
# CC = gcc
# CFLAGS = -fwritable-strings
CC = cc
CFLAGS = 
@


11.3
log
@Modified Makefile to use machinetype.sh to find BINDIR
@
text
@d5 1
a5 1
# @@(#)$Header: /c/CVS/brlcad/cakeaux/Makefile,v 11.2 1997/03/20 13:49:55 jra Exp $ (BRL)
d29 1
@


11.2
log
@Added notes for using GCC.
@
text
@d5 1
a5 1
# @@(#)$Header: /m/cad/cakeaux/RCS/Makefile,v 11.1 1995/01/05 06:03:09 mike Rel4_4 jra $ (BRL)
a23 2
BINDIR=/usr/brlcad/bin

d27 3
a29 1
		cp $(PROGS) $(BINDIR)
@


11.1
log
@Release_4_4
@
text
@d5 1
a5 1
# @@(#)$Header: /m/cad/cakeaux/RCS/Makefile,v 1.7 95/01/04 08:07:30 gdurf Exp Locker: mike $ (BRL)
d8 10
d32 1
a32 1
		cc -o base base.o pattern_s.o
d35 1
a35 1
		cc -o cakeinclude cakeinclude.o
d38 1
a38 1
		cc -o ccincl ccincl.o ccincl_s.o
d41 1
a41 1
		cc -o later later.c
d44 1
a44 1
		cc -o need need.c
d47 1
a47 1
		cc -o needed needed.c
d50 1
a50 1
		cc -o refs refs.o pattern_s.o
d53 1
a53 1
		cc -o cakesub cakesub.c
d56 1
a56 1
		cc -o subcmd subcmd.c
d59 1
a59 1
		cc -o usrc usrc.c
d62 1
a62 1
		cc -o gsrc gsrc.c
d65 1
a65 1
		lex $(LEXOPTS) ccincl_s.l
d69 1
a69 1
		lex $(LEXOPTS) pattern_s.l
@


1.7
log
@Reworded comment.
@
text
@d5 1
a5 1
# @@(#)$Header: /m/cad/cakeaux/RCS/Makefile,v 1.6 94/09/22 01:12:42 mike Exp Locker: gdurf $ (BRL)
@


1.6
log
@Eliminated dependency on libsysv for cakeinclude.
We now expect each system to provide getopt().
@
text
@d5 1
a5 1
# @@(#)$Header: /m/cad/cakeaux/RCS/Makefile,v 1.5 94/09/01 05:21:19 gdurf Exp Locker: mike $ (BRL)
d8 1
a8 1
# NetBSD systems need LEXOPTS= -l
@


1.5
log
@Added LEXOPTS, fixed call to machinetype.sh
@
text
@d5 1
a5 1
# @@(#)$Header: /m/cad/cakeaux/RCS/Makefile,v 1.4 1991/09/25 20:37:36 phil Exp gdurf $ (BRL)
d24 2
a25 2
cakeinclude:	cakeinclude.o ../libsysv/getopt.c
		cc -D`../machinetype.sh -s` -o cakeinclude cakeinclude.o ../libsysv/getopt.c
@


1.4
log
@Needed -DSYSV or -DBSD for libsysv/getopt.c.  Added machintype.sh call
to define one.
@
text
@d5 1
a5 1
# @@(#)$Header: /m/cad/cakeaux/RCS/Makefile,v 1.3 91/07/03 23:02:09 butler Exp Locker: phil $ (BRL)
d8 4
d25 1
a25 1
		cc -D`machinetype.sh -s` -o cakeinclude cakeinclude.o ../libsysv/getopt.c
d55 1
a55 1
		lex ccincl_s.l
d59 1
a59 1
		lex pattern_s.l
@


1.3
log
@added ../libsysv/getopt.c to modules needed for cakeinclude
@
text
@d5 1
a5 1
# @@(#)$Header: /m/cad/cakeaux/RCS/Makefile,v 1.2 91/01/03 23:36:24 mike Exp $ (BRL)
d21 1
a21 1
		cc -o cakeinclude cakeinclude.o ../libsysv/getopt.c
@


1.2
log
@Added cakeinclude program
@
text
@d5 1
a5 1
# @@(#)$Header: Makefile,v 1.1 89/10/17 14:43:59 mike Locked $ (BRL)
d20 2
a21 2
cakeinclude:	cakeinclude.o
		cc -o cakeinclude cakeinclude.o
@


1.1
log
@Initial revision
@
text
@d5 1
a5 1
# @@(#)$Header$ (BRL)
d8 1
a8 1
PROGS = base ccincl later need needed cakesub subcmd usrc gsrc
d19 3
@
