head	11.4;
access;
symbols
	ansi-20040405-merged:11.3
	premerge-autoconf:11.3
	ansi-20040316-freeze:11.3
	postmerge-20040315-windows:11.3
	premerge-20040315-windows:11.3
	windows-20040315-freeze:11.3
	autoconf-20031203:11.3
	autoconf-20031202:11.3
	phong-branch:11.3.0.12
	photonmap-branch:11.3.0.10
	rel-6-1-DP:11.3
	windows-branch:11.3.0.8
	rel-6-0-2:11.3
	ansi-branch:11.3.0.6
	rel-6-0-1-branch:11.3.0.4
	hartley-6-0-post:11.3
	hartley-6-0-pre:11.3
	rel-6-0-1:11.3
	rel-6-0:11.3
	rel-5-4:11.3
	offsite-5-3-pre:11.3
	rel-5-3:11.3
	rel-5-2:11.3
	rel-5-1-branch:11.3.0.2
	rel-5-1:11.3
	rel-5-0:11.3
	rel-5-0-beta:11.3
	rel-4-5:11.3
	ctj-4-5-post:11.3
	ctj-4-5-pre:11.3
	rel-4-4:11.1
	rel-4-0:10.1
	rel-3-5:9.1
	rel-3-0:8.1
	AUTOCONF:11.3.0.14;
locks; strict;
comment	@# @;


11.4
date	2004.03.18.18.25.14;	author erikg;	state dead;
branches;
next	11.3;

11.3
date	96.08.31.11.35.19;	author mike;	state Exp;
branches
	11.3.14.1;
next	11.2;

11.2
date	96.08.27.05.43.53;	author mike;	state Exp;
branches;
next	11.1;

11.1
date	95.01.04.10.18.09;	author mike;	state Rel4_4;
branches;
next	10.2;

10.2
date	94.07.12.20.25.19;	author mike;	state Exp;
branches;
next	10.1;

10.1
date	91.10.12.06.50.21;	author mike;	state Rel4_0;
branches;
next	9.6;

9.6
date	91.07.19.01.42.15;	author mike;	state Exp;
branches;
next	9.5;

9.5
date	91.05.02.15.30.33;	author moss;	state Exp;
branches;
next	9.4;

9.4
date	91.02.05.14.13.10;	author moss;	state Exp;
branches;
next	9.3;

9.3
date	89.12.29.17.34.14;	author mike;	state Exp;
branches;
next	9.2;

9.2
date	89.05.22.13.04.38;	author moss;	state Exp;
branches;
next	9.1;

9.1
date	89.05.19.06.13.44;	author mike;	state Rel3_5;
branches;
next	8.3;

8.3
date	89.05.12.23.30.08;	author moss;	state Exp;
branches;
next	8.2;

8.2
date	89.04.21.19.43.21;	author mike;	state Exp;
branches;
next	8.1;

8.1
date	88.10.05.00.52.32;	author mike;	state Rel3_0;
branches;
next	1.2;

1.2
date	88.10.01.07.17.22;	author mike;	state Exp;
branches;
next	1.1;

1.1
date	88.05.16.01.24.29;	author mike;	state Exp;
branches;
next	;

11.3.14.1
date	2004.03.18.18.10.27;	author erikg;	state dead;
branches;
next	;


desc
@Cakefile
@


11.4
log
@merge of AUTOCONF branch in to HEAD
@
text
@/*
			lgt/Cakefile

   FONTDIR is pathname to font file (times.r.6) which is included with sources
   but on real BSD systems is found in /usr/lib/vfont.  So on non-BSD systems,
   change path to the absolute directory path name where 'times.r.6' lives in
   the variable FONTDIR, and add it to CONFIGDEFS with 4 backslashes.

   Also, for debugging, ADB and DBX typically don't see 'static' functions, so
   add the following to CONFIGDEFS:

	-DSTATIC=

   To suppress warning messages on Suns running older releases than SunOS 4,
   due to incorrect declarations of signal() before release 4.0, add the
   following to CONFIGDEFS:

	-DSunOS4=0

 */

#if 1
# define CONFIGDEFS	LGT_CONFIG -DBEHIND_ME_TOL=0.05 /* -DDEBUG */
#else
# define CONFIGDEFS	LGT_CONFIG -DBEHIND_ME_TOL=0.05 -DFONTDIR=\\\\"/usr/brlcad/vfont\\\\"
#endif

#define SRCDIR	lgt
#define PRODUCTS	lgt
#define	SRCSUFF	.c
#define MANSECTION	1

#define FILES	lgt char do_options getfont error\
	execshell fb glob grid_rotate ir lgt_db mat_db octree\
	prnt reflect texture trie sgi_dep\
	strtok hmenu
#define TFILES	tfiles/ldb tfiles/mdb tfiles/model.g tfiles/key tfiles/lgt.in

#define PIXCMP	../bench/pixcmp

#include "../Cakefile.defs"
#include "../Cakefile.prog"

/* Explicit composition of each product */

lgt:	OBJ
	CC LDFLAGS -o lgt OBJ LIBRT LIBBN LIBBU LIBBU_LIBES LIBFB LIBFB_LIBES LIBTERMIO LIBCURSOR LIBTERMLIB LIBES

tfiles/model.g:	tfiles/model.asc
	asc2g < tfiles/model.asc > tfiles/model.g

/* The 'test' and 'untest' targets are for local testing where the 'tfiles'
	sub-directory is available.  Since 'tfiles' is not part of the
	BRLCAD distribution, remote sites should use bench/lgt.sh to test
	'lgt'.
 */
test&:	TFILES PRODUCTS PIXCMP
	@@./lgt tfiles/model.g all.g < tfiles/lgt.in && tfiles/script1 < /dev/null && tfiles/script2 < /dev/null && tfiles/script3 < /dev/null || \{ echo "Test failed."; exit 1; }
	@@for i in 1 2 3; do if PIXCMP tfiles/image$\{i\}.pix tfiles/image$\{i\}a.pix; then :; else echo "Test failed."; exit 1; fi; done
	@@for i in 1 2 3; do if PIXCMP tfiles/image$\{i\}a.pix tfiles/image$\{i\}b.pix; then :; else echo "Test failed."; exit 1; fi; done
	@@echo "Tested OK."

untest&:
	rm -f tfiles/script\? tfiles/\*.pix tfiles/model.g

#include "../Cakefile.rules"
@


11.3
log
@LIBBN
@
text
@@


11.3.14.1
log
@merge from head
@
text
@@


11.2
log
@libbu
@
text
@d47 1
a47 1
	CC LDFLAGS -o lgt OBJ LIBRT LIBBU LIBBU_LIBES LIBFB LIBFB_LIBES LIBTERMIO LIBCURSOR LIBTERMLIB LIBES
@


11.1
log
@Release_4.4
@
text
@d47 1
a47 1
	CC LDFLAGS -o lgt OBJ LIBRT RT_LIBES LIBFB LIBFB_LIBES LIBTERMIO LIBCURSOR LIBTERMLIB LIBES
@


10.2
log
@Eliminated LIB_PRE
@
text
@@


10.1
log
@Release_4.0
@
text
@d47 1
a47 1
	CC LDFLAGS -o lgt OBJ LIB_PRE''LIBRT RT_LIBES LIB_PRE''LIBFB LIBFB_LIBES LIBTERMIO LIBCURSOR LIBTERMLIB LIBES
@


9.6
log
@IBM didn't like the comment with backslashes in it.
@
text
@@


9.5
log
@Added comment about setting -DSunOS4 compiler flag.
@
text
@d7 1
a7 1
   the following line, and add it to CONFIGDEFS:
a8 2
	 -DFONTDIR=\\\\"path\\\\"

d22 5
a26 1
#define CONFIGDEFS	LGT_CONFIG -DBEHIND_ME_TOL=0.05 /* -DDEBUG */
@


9.4
log
@Added BEHIND_ME_TOL configuration to the Cakefile.
@
text
@d2 20
a21 13
 *			lgt/Cakefile
 *
 * FONTDIR is pathname to font file (times.r.6) which is included with sources
 * but on real BSD systems is found in /usr/lib/vfont.  So on non-BSD systems,
 * change path to the absolute directory path name where 'times.r.6' lives in
 * the following line, and add it to CONFIGDEFS:
 *
 *	-DFONTDIR=\\\\"path\\\\"
 *
 * Also, for debugging, ADB and DBX typically don't see 'static' functions, so
 * add the following to CONFIGDEFS:
 *
 *	-DSTATIC=
@


9.3
log
@Added LIBFB_LIBES
@
text
@d17 1
a17 1
#define CONFIGDEFS	LGT_CONFIG/* -DDEBUG */
@


9.2
log
@Removed clobber target and added untest along with a comment to explain
	testing procedures for lgt.
@
text
@d38 1
a38 1
	CC LDFLAGS -o lgt OBJ LIB_PRE''LIBRT RT_LIBES LIB_PRE''LIBFB LIBTERMIO LIBCURSOR LIBTERMLIB LIBES
@


9.1
log
@Release_3.5
@
text
@d43 5
d54 2
a55 4
clobber&: xxclober
	rm -f tfiles/script? tfiles/*.pix tfiles/model.g

#define clobber	xxclober	/* rename "clobber" in Cakefile.rules */
@


8.3
log
@pre release changes
@
text
@@


8.2
log
@Added library prefixes
@
text
@d5 10
a14 1
 * but on real BSD systems is found in /usr/lib/vfont.
a15 2
#define CONFIGDEFS	LGT_CONFIG -D_LOCAL_=static \
		-DFONTDIR=\\\\"/usr/lib/vfont\\\\"
d17 2
d28 1
d30 2
d39 14
@


8.1
log
@Release_3.0
@
text
@d26 1
a26 2
	CC LDFLAGS -o lgt OBJ LIBRT RT_LIBES LIBFB \
		LIBTERMIO LIBCURSOR LIBTERMLIB LIBSYSV LIBES
@


1.2
log
@updates
@
text
@@


1.1
log
@Initial revision
@
text
@d17 1
a17 1
	prnt reflect resource texture trie sgi_dep\
a22 9
/* There seems to be some difficulty with this, on the Suns */
#ifndef LGT_CONFIG
#	define	LGT_CONFIG	/**/
#endif

#ifndef	RT_CONFIG
#	define	RT_CONFIG	/**/
#endif

d26 1
a26 1
	CC LDFLAGS -o lgt OBJ RT_CONFIG LIBRT LIBFB \
@
