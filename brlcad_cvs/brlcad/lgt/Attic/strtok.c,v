head	11.8;
access;
symbols
	ansi-20040405-merged:11.6.2.1
	postmerge-20040405-ansi:11.7
	premerge-20040404-ansi:11.6
	postmerge-autoconf:11.6
	autoconf-freeze:11.6
	premerge-autoconf:11.6
	ansi-20040316-freeze:11.6.2.1
	postmerge-20040315-windows:11.6
	premerge-20040315-windows:11.6
	windows-20040315-freeze:11.6
	autoconf-20031203:11.6
	autoconf-20031202:11.6
	autoconf-branch:11.6.0.10
	phong-branch:11.6.0.8
	photonmap-branch:11.6.0.6
	rel-6-1-DP:11.6
	windows-branch:11.6.0.4
	rel-6-0-2:11.4
	ansi-branch:11.6.0.2
	rel-6-0-1-branch:11.4.0.2
	hartley-6-0-post:11.5
	hartley-6-0-pre:11.4
	rel-6-0-1:11.4
	rel-6-0:11.4
	rel-5-4:11.1
	offsite-5-3-pre:11.2
	rel-5-3:11.1
	rel-5-2:11.1
	rel-5-1-branch:11.1.0.2
	rel-5-1:11.1
	rel-5-0:11.1
	rel-5-0-beta:11.1
	rel-4-5:11.1
	ctj-4-5-post:11.1
	ctj-4-5-pre:11.1
	rel-4-4:11.1
	rel-4-0:10.1
	rel-3-5:9.1
	rel-3-0:8.1
	rel-2-3:7.1
	rel-2-0:1.2
	rel-1-24:1.2;
locks; strict;
comment	@ * @;


11.8
date	2004.05.21.17.48.16;	author morrison;	state dead;
branches;
next	11.7;

11.7
date	2004.04.05.07.46.59;	author morrison;	state Exp;
branches;
next	11.6;

11.6
date	2002.08.20.17.07.34;	author jra;	state Exp;
branches
	11.6.2.1;
next	11.5;

11.5
date	2002.08.15.20.54.46;	author hartley;	state Exp;
branches;
next	11.4;

11.4
date	2001.04.20.22.28.59;	author morrison;	state Exp;
branches;
next	11.3;

11.3
date	2001.04.05.19.35.24;	author morrison;	state Exp;
branches;
next	11.2;

11.2
date	2000.08.24.22.55.53;	author mike;	state Exp;
branches;
next	11.1;

11.1
date	95.01.04.10.18.05;	author mike;	state Rel4_4;
branches;
next	10.1;

10.1
date	91.10.12.06.50.17;	author mike;	state Rel4_0;
branches;
next	9.1;

9.1
date	89.05.19.06.13.36;	author mike;	state Rel3_5;
branches;
next	8.2;

8.2
date	89.05.12.23.27.55;	author moss;	state Exp;
branches;
next	8.1;

8.1
date	88.10.05.00.52.21;	author mike;	state Rel3_0;
branches;
next	7.1;

7.1
date	87.11.03.00.25.59;	author mike;	state Rel;
branches;
next	1.2;

1.2
date	87.03.03.11.44.17;	author moss;	state Exp;
branches;
next	1.1;

1.1
date	87.03.03.11.38.01;	author moss;	state Exp;
branches;
next	;

11.6.2.1
date	2002.09.19.18.01.05;	author morrison;	state Exp;
branches;
next	;


desc
@This is a public domain implementation of strtok() provided by
Henry Spencer at the University of Toronto.

@


11.8
log
@moved to src/lgt/
@
text
@/*	This is a public-domain reimplementation of strtok(3).
	Not derived from licensed software.
	This code may be used on any computer system for any
		purpose by anyone.

				Henry Spencer @@ U of Toronto Zoology
				{allegra,ihnp4,decvax,pyramid}!utzoo!henry
				Wed Jun 25 19:21:34 EDT 1986
*/
/*
 * Get next token from string s (NULL on 2nd, 3rd, etc. calls),
 * where tokens are nonempty strings separated by runs of
 * chars from delim.  Writes NULs into s to end tokens.  delim need not
 * remain constant from call to call.
 */
#ifndef lint
static const char RCSid[] = "@@(#)$Header: /n/xoff/cvs/brlcad/lgt/strtok.c,v 11.7 2004/04/05 07:46:59 morrison Exp $";
#endif

#define	NULL	0
/*
 * sean - why was const undefined here?
 * #define const
 */
static char *scanpoint = NULL;

char *				/* NULL if no token left */
strtok(char *s, register const char *delim)
{
	register char *scan;
	char *tok;
	register const char *dscan;
	if (s == NULL && scanpoint == NULL)
		return(NULL);
	if (s != NULL)
		scan = s;
	else
		scan = scanpoint;

	/*
	 * Scan leading delimiters.
	 */
	for (; *scan != '\0'; scan++) {
		for (dscan = delim; *dscan != '\0'; dscan++)
			if (*scan == *dscan)
				break;
		if (*dscan == '\0')
			break;
	}
	if (*scan == '\0') {
		scanpoint = NULL;
		return(NULL);
	}

	tok = scan;

	/*
	 * Scan token.
	 */
	for (; *scan != '\0'; scan++) {
		for (dscan = delim; *dscan != '\0';)	/* ++ moved down. */
			if (*scan == *dscan++) {
				scanpoint = scan+1;
				*scan = '\0';
				return(tok);
			}
	}

	/*
	 * Reached end of string.
	 */
	scanpoint = NULL;
	return(tok);
}
@


11.7
log
@merge of ansi-6-0-branch into HEAD
@
text
@d17 1
a17 1
static const char RCSid[] = "@@(#)$Header$";
@


11.6
log
@Restoration of entire source tree to Pre-Hartley state
@
text
@d17 1
a17 1
static const char RCSid[] = "@@(#)$Header: /c/CVS/brlcad/lgt/strtok.c,v 11.4 2001/04/20 22:28:59 morrison Exp $";
d28 1
a28 3
strtok(s, delim)
char *s;
register const char *delim;
@


11.6.2.1
log
@Initial ANSIfication
@
text
@d17 1
a17 1
static const char RCSid[] = "@@(#)$Header: /c/CVS/brlcad/lgt/strtok.c,v 11.6 2002/08/20 17:07:34 jra Exp $";
d28 3
a30 1
strtok(char *s, register const char *delim)
@


11.5
log
@Converted from K&R to ANSI C - RFH
@
text
@d28 3
a30 1
strtok(char *s, register const char *delim)
@


11.4
log
@CONST to const
@
text
@d17 1
a17 1
static const char RCSid[] = "@@(#)$Header: /c/CVS/brlcad/lgt/strtok.c,v 11.3 2001/04/05 19:35:24 morrison Exp $";
d28 1
a28 3
strtok(s, delim)
char *s;
register const char *delim;
@


11.3
log
@updated SIGNED to signed
updated CONST to const
@
text
@d17 1
a17 1
static const char RCSid[] = "@@(#)$Header: /c/CVS/brlcad/lgt/strtok.c,v 11.2 2000/08/24 22:55:53 mike Exp $";
d23 1
a23 1
 * #define CONST
@


11.2
log
@
RCSid
@
text
@d17 1
a17 1
static const char RCSid[] = "@@(#)$Header: /c/CVS/brlcad/lgt/strtok.c,v 11.1 1995/01/04 10:18:05 mike Rel4_4 $";
d21 4
a24 1
#define CONST
d30 1
a30 1
register CONST char *delim;
d34 1
a34 1
	register CONST char *dscan;
@


11.1
log
@Release_4.4
@
text
@d17 1
a17 1
static char RCSid[] = "@@(#)$Header: /m/cad/lgt/RCS/strtok.c,v 10.1 91/10/12 06:50:17 mike Rel4_0 $";
@


10.1
log
@Release_4.0
@
text
@d17 1
a17 1
static char RCSid[] = "@@(#)$Header: /m/cad/lgt/RCS/strtok.c,v 9.1 89/05/19 06:13:36 mike Rel3_5 $";
@


9.1
log
@Release_3.5
@
text
@d17 1
a17 1
static char RCSid[] = "@@(#)$Header: strtok.c,v 8.2 89/05/12 23:27:55 moss Exp $";
@


8.2
log
@pre release changes
@
text
@d17 1
a17 1
static char RCSid[] = "@@(#)$Header: strtok.c,v 7.1 87/11/03 00:25:59 mike Rel $";
@


8.1
log
@Release_3.0
@
text
@d17 1
a17 1
static char RCSid[] = "@@(#)$Header: strtok.c,v 7.1 87/11/03 00:25:59 moss Locked $";
a31 1

@


7.1
log
@Release 2.3
@
text
@d17 1
a17 1
static char RCSid[] = "@@(#)$Header: strtok.c,v 1.2 87/03/03 11:44:17 mike Locked $";
@


1.2
log
@Defined CONST as nothing for now, presumably this is will have
meaning after the X3J11 C standardization effort is finished.
@
text
@d17 1
a17 1
static char RCSid[] = "@@(#)$Header$";
@


1.1
log
@Initial revision
@
text
@d16 3
d21 1
a21 1

@
