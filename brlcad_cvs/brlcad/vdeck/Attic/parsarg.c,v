head	11.10;
access;
symbols
	ansi-20040405-merged:11.6.2.2
	postmerge-20040405-ansi:11.8
	premerge-20040404-ansi:11.7
	postmerge-autoconf:11.7
	autoconf-freeze:11.6.10.2
	premerge-autoconf:11.7
	postmerge-20040315-windows:11.7
	premerge-20040315-windows:11.7
	windows-20040315-freeze:11.6.4.4
	autoconf-20031203:11.6
	autoconf-20031202:11.6
	autoconf-branch:11.6.0.10
	phong-branch:11.6.0.8
	photonmap-branch:11.6.0.6
	rel-6-1-DP:11.6
	windows-branch:11.6.0.4
	rel-6-0-2:11.4
	ansi-branch:11.6.0.2
	rel-6-0-1-branch:11.4.0.2
	hartley-6-0-post:11.5
	hartley-6-0-pre:11.4
	rel-6-0-1:11.4
	rel-6-0:11.4
	rel-5-4:11.1
	offsite-5-3-pre:11.3
	rel-5-3:11.1
	rel-5-2:11.1
	rel-5-1-branch:11.1.0.2
	rel-5-1:11.1
	rel-5-0:11.1
	rel-5-0-beta:11.1
	rel-4-5:11.1
	ctj-4-5-post:11.1
	ctj-4-5-pre:11.1
	rel-4-4:11.1
	rel-4-0:10.1
	rel-3-5:9.1
	rel-3-0:8.1
	rel-2-3:7.1
	rel-2-0:5.1
	rel-1-24:5.1
	rel-1-20:4.2
	rel-1-10:4.1;
locks; strict;
comment	@ * @;


11.10
date	2004.05.21.13.49.17;	author morrison;	state dead;
branches;
next	11.9;

11.9
date	2004.05.10.15.30.51;	author erikg;	state Exp;
branches;
next	11.8;

11.8
date	2004.04.05.05.46.03;	author morrison;	state Exp;
branches;
next	11.7;

11.7
date	2004.02.02.17.39.52;	author morrison;	state Exp;
branches;
next	11.6;

11.6
date	2002.08.20.17.09.13;	author jra;	state Exp;
branches
	11.6.2.1
	11.6.4.1
	11.6.10.1;
next	11.5;

11.5
date	2002.08.15.20.56.24;	author hartley;	state Exp;
branches;
next	11.4;

11.4
date	2001.10.17.07.40.07;	author morrison;	state Exp;
branches;
next	11.3;

11.3
date	2000.09.09.04.34.30;	author mike;	state Exp;
branches;
next	11.2;

11.2
date	2000.08.24.22.56.19;	author mike;	state Exp;
branches;
next	11.1;

11.1
date	95.01.04.10.18.37;	author mike;	state Rel4_4;
branches;
next	10.3;

10.3
date	95.01.04.09.03.21;	author mike;	state Exp;
branches;
next	10.2;

10.2
date	94.08.23.14.51.46;	author gdurf;	state Exp;
branches;
next	10.1;

10.1
date	91.10.12.06.50.31;	author mike;	state Rel4_0;
branches;
next	9.3;

9.3
date	91.06.01.22.46.50;	author mike;	state Exp;
branches;
next	9.2;

9.2
date	91.06.01.00.52.17;	author mike;	state Exp;
branches;
next	9.1;

9.1
date	89.05.19.06.14.07;	author mike;	state Rel3_5;
branches;
next	8.1;

8.1
date	88.10.05.00.53.02;	author mike;	state Rel3_0;
branches;
next	7.1;

7.1
date	87.11.03.00.28.03;	author mike;	state Rel;
branches;
next	6.1;

6.1
date	87.07.11.08.16.59;	author mike;	state Rel;
branches;
next	5.1;

5.1
date	87.06.24.22.48.52;	author mike;	state Rel;
branches;
next	4.2;

4.2
date	87.02.13.00.55.10;	author mike;	state Exp;
branches;
next	4.1;

4.1
date	86.12.29.02.53.11;	author mike;	state Rel1;
branches;
next	2.4;

2.4
date	86.11.10.19.48.11;	author mike;	state Exp;
branches;
next	2.3;

2.3
date	86.08.13.08.02.14;	author mike;	state Exp;
branches;
next	2.2;

2.2
date	86.08.13.08.02.01;	author mike;	state Exp;
branches;
next	2.1;

2.1
date	86.08.13.08.01.54;	author mike;	state Exp;
branches;
next	1.1;

1.1
date	86.08.13.08.01.50;	author mike;	state Exp;
branches;
next	;

11.6.2.1
date	2002.09.19.18.02.53;	author morrison;	state Exp;
branches;
next	11.6.2.2;

11.6.2.2
date	2004.03.17.21.23.38;	author morrison;	state Exp;
branches;
next	;

11.6.4.1
date	2004.03.11.23.52.42;	author morrison;	state Exp;
branches;
next	11.6.4.2;

11.6.4.2
date	2004.03.12.07.02.34;	author morrison;	state Exp;
branches;
next	11.6.4.3;

11.6.4.3
date	2004.03.12.07.03.37;	author morrison;	state Exp;
branches;
next	11.6.4.4;

11.6.4.4
date	2004.03.12.07.04.39;	author morrison;	state Exp;
branches;
next	;

11.6.10.1
date	2004.02.12.19.43.52;	author erikg;	state Exp;
branches;
next	11.6.10.2;

11.6.10.2
date	2004.03.15.14.08.22;	author erikg;	state Exp;
branches;
next	;


desc
@@


11.10
log
@moved to src/vdeck/
@
text
@/*
 *			P A R S A R G . C
 *
 *  Author:		Gary S. Moss
 *  
 *  Source -
 *	SECAD/VLD Computing Consortium, Bldg 394
 *	The U. S. Army Ballistic Research Laboratory
 *	Aberdeen Proving Ground, Maryland  21005-5066
 *  
 *  Copyright Notice -
 *	This software is Copyright (C) 1986-2004 by the United States Army.
 *	All rights reserved.
 */
#ifndef lint
static const char RCSid[] = "@@(#)$Header: /n/xoff/cvs/brlcad/vdeck/parsarg.c,v 11.9 2004/05/10 15:30:51 erikg Exp $ (BRL)";
#endif

#ifdef HAVE_CONFIG_H
# include "config.h"
#endif



#include <stdio.h>
#include <signal.h>
#ifdef USE_STRING_H
#include <string.h>
#else
#include <strings.h>
#endif

#include "machine.h"
#include "vmath.h"
#include "raytrace.h"
#include "externs.h"
#include "./vextern.h"

/*	p a r s A r g ( )
	Parse the command line arguments.
 */
int
parsArg(int argc, char **argv)
{ 	register int	i, c, arg_cnt;
		extern int	optind;

	while( (c = getopt( argc, argv, "d" )) != EOF )
		{
		switch( c )
			{
		case 'd' :
			debug = 1;
			break;
		case '?' :
			return	0;
			}
		}
	if( optind >= argc )
		{
		(void) fprintf( stderr, "Missing name of input file!\n" );
		return	0;
		}
	else
		objfile = argv[optind++];
	if( (dbip = db_open( objfile, "r" )) == DBI_NULL )  {
		perror(objfile);
	    	return( 0 );		/* FAIL */
	}

	arg_list[0] = argv[0]; /* Program name goes in first.	*/
	for( i = optind, arg_cnt = 1; i < argc; i++, arg_cnt++ )
		/* Insert objects.	*/
		arg_list[arg_cnt] = argv[i];
	return	1;
	}
@


11.9
log
@change conf.h to a wrapped config.h
@
text
@d16 1
a16 1
static const char RCSid[] = "@@(#)$Header: /cvs/brlcad/vdeck/parsarg.c,v 11.8 2004/04/05 05:46:03 morrison Exp $ (BRL)";
@


11.8
log
@merge of ansi-6-0-branch into head
@
text
@d16 1
a16 1
static const char RCSid[] = "@@(#)$Header$ (BRL)";
d19 5
a23 1
#include "conf.h"
@


11.7
log
@update copyright to include span through 2003
@
text
@d16 1
a16 1
static const char RCSid[] = "@@(#)$Header: /c/CVS/brlcad/vdeck/parsarg.c,v 11.6 2002/08/20 17:09:13 jra Exp $ (BRL)";
d39 2
a40 2
parsArg( argc, argv )	char	*argv[];
	{ 	register int	i, c, arg_cnt;
@


11.6
log
@Restoration of entire source tree to Pre-Hartley state
@
text
@d12 1
a12 1
 *	This software is Copyright (C) 1986 by the United States Army.
d16 1
a16 1
static const char RCSid[] = "@@(#)$Header: /c/CVS/brlcad/vdeck/parsarg.c,v 11.4 2001/10/17 07:40:07 morrison Exp $ (BRL)";
@


11.6.4.1
log
@sync to HEAD...
@
text
@d12 1
a12 1
 *	This software is Copyright (C) 1986-2004 by the United States Army.
d16 1
a16 1
static const char RCSid[] = "@@(#)$Header: /n/cad/c/CVS/brlcad/vdeck/parsarg.c,v 11.7 2004/02/02 17:39:52 morrison Exp $ (BRL)";
@


11.6.4.2
log
@join with HEAD
@
text
@@


11.6.4.3
log
@join with HEAD
@
text
@@


11.6.4.4
log
@join with HEAD
@
text
@@


11.6.10.1
log
@merge from HEAD
@
text
@d12 1
a12 1
 *	This software is Copyright (C) 1986-2004 by the United States Army.
d16 1
a16 1
static const char RCSid[] = "@@(#)$Header: /c/CVS/brlcad/vdeck/parsarg.c,v 11.7 2004/02/02 17:39:52 morrison Exp $ (BRL)";
@


11.6.10.2
log
@merge from head
@
text
@d16 1
a16 1
static const char RCSid[] = "@@(#)$Header: /c/CVS/brlcad/vdeck/parsarg.c,v 11.6.10.1 2004/02/12 19:43:52 erikg Exp $ (BRL)";
@


11.6.2.1
log
@Initial ANSIfication
@
text
@d16 1
a16 1
static const char RCSid[] = "@@(#)$Header: /c/CVS/brlcad/vdeck/parsarg.c,v 11.6 2002/08/20 17:09:13 jra Exp $ (BRL)";
d39 2
a40 2
parsArg(int argc, char **argv)
{ 	register int	i, c, arg_cnt;
@


11.6.2.2
log
@sync branch with HEAD
@
text
@d12 1
a12 1
 *	This software is Copyright (C) 1986-2004 by the United States Army.
d16 1
a16 1
static const char RCSid[] = "@@(#)$Header$ (BRL)";
@


11.5
log
@Converted from K&R to ANSI C - RFH
@
text
@d39 2
a40 2
parsArg(int argc, char **argv)
{ 	register int	i, c, arg_cnt;
@


11.4
log
@Mac OS X warning and error fixes for non-production build
@
text
@d16 1
a16 1
static const char RCSid[] = "@@(#)$Header: /c/CVS/brlcad/vdeck/parsarg.c,v 11.3 2000/09/09 04:34:30 mike Exp $ (BRL)";
d39 2
a40 2
parsArg( argc, argv )	char	*argv[];
	{ 	register int	i, c, arg_cnt;
@


11.3
log
@
Fixed lint
@
text
@d16 1
a16 1
static const char RCSid[] = "@@(#)$Header: /c/CVS/brlcad/vdeck/parsarg.c,v 11.2 2000/08/24 22:56:19 mike Exp $ (BRL)";
a41 1
		extern char	*optarg;
@


11.2
log
@
RCSid
@
text
@d16 1
a16 1
static const char RCSid[] = "@@(#)$Header: /c/CVS/brlcad/vdeck/parsarg.c,v 11.1 1995/01/04 10:18:37 mike Rel4_4 $ (BRL)";
d38 1
@


11.1
log
@Release_4.4
@
text
@d16 1
a16 1
static char RCSid[] = "@@(#)$Header: /m/cad/vdeck/RCS/parsarg.c,v 10.3 95/01/04 09:03:21 mike Exp $ (BRL)";
@


10.3
log
@setjmp.h now included in raytrace.h.
@
text
@d16 1
a16 1
static char RCSid[] = "@@(#)$Header: /m/cad/vdeck/RCS/parsarg.c,v 10.2 94/08/23 14:51:46 gdurf Exp Locker: mike $ (BRL)";
@


10.2
log
@Factored ifdefs
@
text
@d16 1
a16 1
static char RCSid[] = "@@(#)$Header: /m/cad/vdeck/RCS/parsarg.c,v 10.1 1991/10/12 06:50:31 mike Rel4_0 gdurf $ (BRL)";
a27 1
#include <setjmp.h>
@


10.1
log
@Release_4.0
@
text
@d16 1
a16 1
static char RCSid[] = "@@(#)$Header: /m/cad/vdeck/RCS/parsarg.c,v 9.3 91/06/01 22:46:50 mike Exp $ (BRL)";
d19 2
d23 3
a25 1
#ifdef BSD
a26 2
#else
#include <string.h>
@


9.3
log
@Moved #includes out of vextern.h into individual .c files
Trimmed out some unused variables.
@
text
@d16 1
a16 1
static char RCSid[] = "@@(#)$Header: /m/cad/vdeck/RCS/parsarg.c,v 9.2 91/06/01 00:52:17 mike Exp $ (BRL)";
@


9.2
log
@Modernization beings
@
text
@d16 1
a16 1
static char RCSid[] = "@@(#)$Header: /m/cad/vdeck/RCS/parsarg.c,v 9.1 89/05/19 06:14:07 mike Rel3_5 $ (BRL)";
d26 1
d28 4
@


9.1
log
@Release_3.5
@
text
@d16 1
a16 1
static char RCSid[] = "@@(#)$Header: parsarg.c,v 8.1 88/10/05 00:53:02 mike Rel3_0 $ (BRL)";
d55 4
a58 5
	if( (objfd = open( objfile, 0 )) < 0 )
		{
		perror( objfile );
		return	0;
		}
@


8.1
log
@Release_3.0
@
text
@d16 1
a16 1
static char RCSid[] = "@@(#)$Header: parsarg.c,v 7.1 87/11/03 00:28:03 mike Rel $ (BRL)";
@


7.1
log
@Release 2.3
@
text
@d16 1
a16 1
static char RCSid[] = "@@(#)$Header: parsarg.c,v 6.1 87/07/11 08:16:59 mike Rel $ (BRL)";
@


6.1
log
@Release 2.0
@
text
@d16 1
a16 1
static char RCSid[] = "@@(#)$Header: parsarg.c,v 5.1 87/06/24 22:48:52 mike Rel $ (BRL)";
@


5.1
log
@Release 1.24
@
text
@d16 1
a16 1
static char RCSid[] = "@@(#)$Header: parsarg.c,v 4.2 87/02/13 00:55:10 mike Exp $ (BRL)";
@


4.2
log
@Release 1.20 -- First Formal Release
@
text
@d16 1
a16 1
static char RCSid[] = "@@(#)$Header: parsarg.c,v 4.1 86/12/29 02:53:11 mike Rel1 $ (BRL)";
@


4.1
log
@BRL CAD Distribution Release 1.10
@
text
@d16 1
a16 1
static char RCSid[] = "@@(#)$Header: parsarg.c,v 2.4 86/11/10 19:48:11 mike Exp $ (BRL)";
@


2.4
log
@string.h
@
text
@d16 1
a16 1
static char RCSid[] = "@@(#)$Header$ (BRL)";
@


2.3
log
@Fixed buffer size in cgobj(), linted quite a bit.
@
text
@d2 16
a17 4
	SCCS id:	@@(#) parsarg.c	2.3
	Last edit: 	12/20/85 at 19:03:51
	Retrieved: 	8/13/86 at 08:02:09
	SCCS archive:	/m/cad/vdeck/RCS/s.parsarg.c
a18 10
	Author:		Gary S. Moss
			U. S. Army Ballistic Research Laboratory
			Aberdeen Proving Ground
			Maryland 21005-5066
			(301)278-6647 or AV-298-6647
*/
#if ! defined( lint )
static
char	sccsTag[] = "@@(#) parsarg.c	2.3	last edit 12/20/85 at 19:03:51";
#endif
d21 3
d25 2
@


2.2
log
@Added support for new database format, ident and free records,
 and unit conversions.  Now puts title and units on first card.  Title 
version number and units are printed out when building the directory.
@
text
@d2 12
a13 9
 *	@@(#) parsarg.c			retrieved: 8/13/86 at 08:01:59
 *	@@(#) version 2.2		last edit: 1/31/85 at 15:00:26
 *
 *	Written by:	Gary S. Moss
 *			U. S. Army Ballistic Research Laboratory
 *			Aberdeen Proving Ground
 *			Maryland 21005
 *			(301)278-6647 or AV-283-6647
 */
d15 2
a16 1
char	sccsTag[] = "@@(#) parsarg.c	2.2	last edit 1/31/85 at 15:00:26";
d22 2
a23 2
/*	==== p a r s A r g ( )
 *	Parse the command line arguments.
d25 4
a28 4
parsArg( argc, argv )	char	*argv[]; {
	register int	i, c, arg_ct;
	extern int	optind;
	extern char	*optarg;
d30 5
a34 3
	while( (c = getopt( argc, argv, "d" )) != EOF ) {
		switch( c ) {
		case 'd':
d37 1
a37 1
		case '?':
d39 1
d41 2
a42 2
	}
	if( optind >= argc ) {
d45 5
a49 3
	} else
	objfile = argv[optind++];
	if( (objfd = open( objfile, 0 )) < 0 ) {
d52 1
a52 1
	}
d55 4
a58 3
	for( i = optind, arg_ct = 1; i < argc; i++, arg_ct++ )
	{ /* Insert objects.	*/
		arg_list[arg_ct] = argv[i];
a59 2
	return	1;
}
@


2.1
log
@Just bumped version number to 2.1, no changes.
@
text
@d2 2
a3 2
 *	@@(#) parsarg.c			retrieved: 8/13/86 at 08:01:52
 *	@@(#) version 2.1		last edit: 6/1/84 at 14:04:47
d12 1
a12 1
char	sccsTag[] = "@@(#) parsarg.c	2.1	last edit 6/1/84 at 14:04:47";
@


1.1
log
@Initial revision
@
text
@d2 2
a3 2
 *	@@(#) parsarg.c			retrieved: 8/13/86 at 08:01:49
 *	@@(#) version 1.1		last edit: 10/11/83 at 10:56:59
d12 1
a12 1
char	sccsTag[] = "@@(#) parsarg.c	1.1	last edit 10/11/83 at 10:56:59";
@
