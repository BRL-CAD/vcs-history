head	1.21;
access;
symbols
	ansi-20040405-merged:1.17.6.1
	postmerge-20040405-ansi:1.18
	premerge-20040404-ansi:1.18
	postmerge-autoconf:1.18
	autoconf-freeze:1.17.14.1
	premerge-autoconf:1.18
	ansi-20040316-freeze:1.17
	postmerge-20040315-windows:1.18
	premerge-20040315-windows:1.17
	windows-20040315-freeze:1.17.8.1
	autoconf-20031203:1.17
	autoconf-20031202:1.17
	autoconf-branch:1.17.0.14
	phong-branch:1.17.0.12
	photonmap-branch:1.17.0.10
	rel-6-1-DP:1.17
	windows-branch:1.17.0.8
	rel-6-0-2:1.17
	ansi-branch:1.17.0.6
	rel-6-0-1-branch:1.17.0.4
	hartley-6-0-post:1.17
	hartley-6-0-pre:1.17
	rel-6-0-1:1.17
	rel-6-0:1.17
	rel-5-4:1.17
	offsite-5-3-pre:1.17
	rel-5-3:1.17
	rel-5-2:1.17
	rel-5-1-branch:1.17.0.2
	rel-5-1:1.17
	rel-5-0:1.16
	rel-5-0-beta:1.16
	rel-4-5:1.13
	ctj-4-5-post:1.10
	ctj-4-5-pre:1.9;
locks; strict;
comment	@ * @;


1.21
date	2004.05.24.04.11.52;	author morrison;	state dead;
branches;
next	1.20;

1.20
date	2004.05.10.15.25.26;	author morrison;	state Exp;
branches;
next	1.19;

1.19
date	2004.05.05.14.20.25;	author morrison;	state Exp;
branches;
next	1.18;

1.18
date	2004.03.16.14.10.45;	author morrison;	state Exp;
branches;
next	1.17;

1.17
date	99.12.01.13.27.52;	author bparker;	state Exp;
branches
	1.17.6.1
	1.17.8.1
	1.17.14.1;
next	1.16;

1.16
date	99.01.12.17.53.35;	author bparker;	state Exp;
branches;
next	1.15;

1.15
date	98.06.12.19.53.51;	author bparker;	state Exp;
branches;
next	1.14;

1.14
date	98.04.07.13.45.05;	author bparker;	state Exp;
branches;
next	1.13;

1.13
date	97.11.19.21.49.51;	author bparker;	state Exp;
branches;
next	1.12;

1.12
date	97.10.10.21.13.06;	author bparker;	state Exp;
branches;
next	1.11;

1.11
date	97.09.23.21.22.37;	author bparker;	state Exp;
branches;
next	1.10;

1.10
date	97.08.01.21.21.23;	author bparker;	state Exp;
branches;
next	1.9;

1.9
date	97.05.21.12.59.31;	author bparker;	state Exp;
branches;
next	1.8;

1.8
date	97.05.08.14.45.39;	author bparker;	state Exp;
branches;
next	1.7;

1.7
date	97.04.22.15.01.26;	author bparker;	state Exp;
branches;
next	1.6;

1.6
date	96.12.04.21.34.48;	author bparker;	state Exp;
branches;
next	1.5;

1.5
date	96.10.04.20.34.24;	author bparker;	state Exp;
branches;
next	1.4;

1.4
date	96.09.30.19.36.43;	author bparker;	state Exp;
branches;
next	1.3;

1.3
date	96.09.25.20.37.34;	author bparker;	state Exp;
branches;
next	1.2;

1.2
date	96.09.23.18.11.04;	author bparker;	state Exp;
branches;
next	1.1;

1.1
date	96.09.17.21.30.34;	author bparker;	state Exp;
branches;
next	;

1.17.6.1
date	2004.03.17.21.16.11;	author morrison;	state Exp;
branches;
next	;

1.17.8.1
date	2002.09.26.23.03.44;	author morrison;	state Exp;
branches;
next	;

1.17.14.1
date	2004.03.18.18.00.45;	author erikg;	state Exp;
branches;
next	;


desc
@OpenGl Display Manager include file
@


1.21
log
@moved/renamed from top-level h/ to top-level include/
@
text
@#ifndef SEEN_DM_OGL
#define SEEN_DM_OGL

#include "dm_color.h"
#define CMAP_BASE 40

/* Map +/-2048 GED space into -1.0..+1.0 :: x/2048*/
#define GED2IRIS(x)	(((float)(x))*0.00048828125)

#define Ogl_MV_O(_m) offsetof(struct modifiable_ogl_vars, _m)

struct modifiable_ogl_vars {
  int cueing_on;
  int zclipping_on;
  int zbuffer_on;
  int lighting_on;
  int transparency_on;
  int fastfog;
  double fogdensity;
  int zbuf;
  int rgb;
  int doublebuffer;
  int depth;
  int debug;
  double bound;
  int boundFlag;
};

struct ogl_vars {
#ifndef WIN32
  GLXContext glxc;
#else
  HGLRC glxc;
#endif
  GLdouble faceplate_mat[16];
  int face_flag;
  int *perspective_mode;
  int fontOffset;
  int ovec;		/* Old color map entry number */
  char is_direct;
  GLclampf r, g, b;
  struct modifiable_ogl_vars mvars;
};

extern void ogl_fogHint();

#endif /* SEEN_DM_OGL */
@


1.20
log
@Bob Parker's view modifications, png framebuffer support, shaded drawing mode
@
text
@@


1.19
log
@make the USE_SURVICE_MODS not compile-time-optional.  so that means the #if sections go bye bye.
@
text
@d29 1
a30 1
struct ogl_vars {
a31 9
  GLdouble faceplate_mat[16];
  int face_flag;
  int *perspective_mode;
  int fontOffset;
  int ovec;		/* Old color map entry number */
  char is_direct;
  GLclampf r, g, b;
  struct modifiable_ogl_vars mvars;
};
a32 1
struct ogl_vars {
d34 1
a43 1
#endif
@


1.18
log
@merge of windows-6-0-branch into head
@
text
@d17 1
@


1.17
log
@*- modified display manager specific structures
@
text
@d28 1
d40 13
@


1.17.14.1
log
@merge from head...
@
text
@a27 1
#ifndef WIN32
a38 13
#else
struct ogl_vars {
  HGLRC glxc;
  GLdouble faceplate_mat[16];
  int face_flag;
  int *perspective_mode;
  int fontOffset;
  int ovec;		/* Old color map entry number */
  char is_direct;
  GLclampf r, g, b;
  struct modifiable_ogl_vars mvars;
};
#endif
@


1.17.6.1
log
@sync branch with HEAD
@
text
@a27 1
#ifndef WIN32
a38 13
#else
struct ogl_vars {
  HGLRC glxc;
  GLdouble faceplate_mat[16];
  int face_flag;
  int *perspective_mode;
  int fontOffset;
  int ovec;		/* Old color map entry number */
  char is_direct;
  GLclampf r, g, b;
  struct modifiable_ogl_vars mvars;
};
#endif
@


1.17.8.1
log
@Modifications (on a 6.0 source distribution) for initial port to windows (merged with sources close to 6.0.2)
@
text
@a27 1
#ifndef WIN32
a38 13
#else
struct ogl_vars {
  HGLRC glxc;
  GLdouble faceplate_mat[16];
  int face_flag;
  int *perspective_mode;
  int fontOffset;
  int ovec;		/* Old color map entry number */
  char is_direct;
  GLclampf r, g, b;
  struct modifiable_ogl_vars mvars;
};
#endif
@


1.16
log
@*- remove unused reference
@
text
@d24 2
@


1.15
log
@*- add r, g, b to "struct ogl_vars"
@
text
@a38 1
extern struct ogl_vars head_ogl_vars;
@


1.14
log
@moved some members to dm_xvars
@
text
@d34 1
@


1.13
log
@*** empty log message ***
@
text
@d27 1
a27 9
  struct bu_list l;
  Display *dpy;
  Window win;
  Tk_Window top;
  Tk_Window xtkwin;
  int omx, omy;
  unsigned int mb_mask;
  XFontStruct *fontstruct;
  Colormap cmap;
a30 5
  int devmotionnotify;
  int devbuttonpress;
  int devbuttonrelease;
  int knobs[8];
  GLXContext glxc;
@


1.12
log
@some cleanup
@
text
@a16 2
  int perspective_mode;
  int dummy_perspective;
a33 1
  int perspective_angle;
d38 1
d50 1
a50 6
extern void ogl_configure_window_shape();
extern void ogl_establish_zbuffer();
extern void ogl_establish_lighting();
extern void ogl_establish_perspective();
extern void ogl_set_perspective();
extern void ogl_do_fog();
@


1.11
log
@move stero flag to "struct dm"
@
text
@a12 2
  int linewidth;
  int linestyle;
@


1.10
log
@rm references to ogl_irisX2ged() and ogl_irisY2ged()
@
text
@a46 1
  int stereo_is_on;
@


1.9
log
@add members to "struct modifiable_ogl_vars"
@
text
@a60 2
extern int ogl_irisX2ged();
extern int ogl_irisY2ged();
@


1.8
log
@changed Ogl_ prefix to ogl_
@
text
@d13 2
a20 1
  int linewidth;
@


1.7
log
@mods to 'struct ogl_vars'
@
text
@d54 8
a61 15
extern struct dm *Ogl_open();
extern void Ogl_configure_window_shape();
extern void Ogl_establish_zbuffer();
extern void Ogl_establish_lighting();
extern void Ogl_establish_perspective();
extern void Ogl_set_perspective();
extern void Ogl_do_fog();
extern void Ogl_do_linewidth();
#ifdef IR_KNOBS
extern int Ogl_add_tol();
extern int Ogl_irlimit();			/* provides knob dead spot */
#endif
extern int Ogl_irisX2ged();
extern int Ogl_irisY2ged();
extern struct dm dm_ogl;
@


1.6
log
@*** empty log message ***
@
text
@a6 8
/*
 * Display coordinate conversion:
 *  GED is using -2048..+2048,
 *  X is 0..width,0..height
 */
#define	GED_TO_Xx(x)	(((x)/4096.0+0.5)*((struct ogl_vars *)dm_vars)->width)
#define	GED_TO_Xy(x)	((0.5-(x)/4096.0)*((struct ogl_vars *)dm_vars)->height)

d33 1
a34 2
  int width;
  int height;
a46 1
  fastf_t aspect;
d54 1
@


1.5
log
@move NOISE and IS_DM_TYPE_OGL to dm.h
@
text
@d4 3
a17 1
#define NSLOTS		4080	/* The mostest possible - may be fewer */
a60 1
  int index_size;
a61 10
/*
 * SGI Color Map table
 */
  int nslots;		/* how many we have, <= NSLOTS */
  int uslots;		/* how many actually used */
  struct rgbtab {
	unsigned char	r;
	unsigned char	g;
	unsigned char	b;
  }rgbtab[NSLOTS];
d77 1
@


1.4
log
@*** empty log message ***
@
text
@a14 1
#define NOISE 32		/* Size of dead spot on knob */
a15 1
#define IS_DM_TYPE_OGL(_t) ((_t) == DM_TYPE_OGL)
@


1.3
log
@removed members from struct X/pex/ogl/glx/ps/plot_vars
@
text
@d17 1
d27 3
a34 3
  int linewidth;
  int fastfog;
  double fogdensity;
a41 4
  Colormap cmap;
  GLdouble faceplate_mat[16];
  unsigned int mb_mask;
  int face_flag;
d45 1
d47 4
a57 1
  XFontStruct *fontstruct;
@


1.2
log
@added #ifndef SEEN_DM_OGL
@
text
@a60 2
  fastf_t *viewscale;
  void (*color_func)();
a61 1
  genptr_t app_vars;   /* application specific variables */
@


1.1
log
@Initial revision
@
text
@d1 3
d91 2
@
