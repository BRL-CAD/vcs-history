head	1.11;
access;
symbols
	ansi-20040405-merged:1.8.4.1
	postmerge-20040405-ansi:1.9
	premerge-20040404-ansi:1.9
	postmerge-autoconf:1.9
	autoconf-freeze:1.8.12.2
	premerge-autoconf:1.9
	ansi-20040316-freeze:1.8
	postmerge-20040315-windows:1.9
	premerge-20040315-windows:1.9
	windows-20040315-freeze:1.8.6.1
	autoconf-20031203:1.8
	autoconf-20031202:1.8
	autoconf-branch:1.8.0.12
	phong-branch:1.8.0.10
	photonmap-branch:1.8.0.8
	rel-6-1-DP:1.8
	windows-branch:1.8.0.6
	rel-6-0-2:1.8
	ansi-branch:1.8.0.4
	rel-6-0-1-branch:1.8.0.2
	hartley-6-0-post:1.8
	hartley-6-0-pre:1.8
	rel-6-0-1:1.8
	rel-6-0:1.8
	rel-5-4:1.7
	offsite-5-3-pre:1.8
	rel-5-3:1.7
	rel-5-2:1.7
	rel-5-1-branch:1.7.0.2
	rel-5-1:1.7
	rel-5-0:1.5
	rel-5-0-beta:1.5
	rel-4-5:1.3
	ctj-4-5-post:1.2
	ctj-4-5-pre:1.2;
locks; strict;
comment	@ * @;


1.11
date	2004.05.24.04.11.53;	author morrison;	state dead;
branches;
next	1.10;

1.10
date	2004.05.10.15.25.26;	author morrison;	state Exp;
branches;
next	1.9;

1.9
date	2004.02.02.17.39.03;	author morrison;	state Exp;
branches;
next	1.8;

1.8
date	2000.10.20.05.04.34;	author mike;	state Exp;
branches
	1.8.4.1
	1.8.6.1
	1.8.12.1;
next	1.7;

1.7
date	2000.06.13.16.27.10;	author bparker;	state Exp;
branches;
next	1.6;

1.6
date	99.12.27.20.52.21;	author bparker;	state Exp;
branches;
next	1.5;

1.5
date	98.10.21.16.46.46;	author bparker;	state Exp;
branches;
next	1.4;

1.4
date	98.06.24.18.30.55;	author bparker;	state Exp;
branches;
next	1.3;

1.3
date	97.09.23.21.23.27;	author bparker;	state Exp;
branches;
next	1.2;

1.2
date	96.12.04.21.36.12;	author bparker;	state Exp;
branches;
next	1.1;

1.1
date	96.09.25.20.37.50;	author bparker;	state Exp;
branches;
next	;

1.8.4.1
date	2004.03.17.21.16.15;	author morrison;	state Exp;
branches;
next	;

1.8.6.1
date	2004.03.11.23.40.47;	author morrison;	state Exp;
branches;
next	;

1.8.12.1
date	2004.02.12.18.32.36;	author erikg;	state Exp;
branches;
next	1.8.12.2;

1.8.12.2
date	2004.03.15.14.06.11;	author erikg;	state Exp;
branches;
next	;


desc
@Solid include file
@


1.11
log
@moved/renamed from top-level h/ to top-level include/
@
text
@/*
 *  			S O L I D . H
 *
 *	Solids structure definition
 *
 *  Author -
 *	Michael John Muuss
 *  
 *  Source -
 *	SECAD/VLD Computing Consortium, Bldg 394
 *	The U. S. Army Ballistic Research Laboratory
 *	Aberdeen Proving Ground, Maryland  21005
 *  
 *  Copyright Notice -
 *	This software is Copyright (C) 1985-2004 by the United States Army.
 *	All rights reserved.
 *
 *  $Header: /n/xoff/cvs/brlcad/h/solid.h,v 1.10 2004/05/10 15:25:26 morrison Exp $
 */
#ifndef SEEN_SOLID_H
#define SEEN_SOLID_H

struct solid  {
  struct bu_list l;
  fastf_t s_size;	/* Distance across solid, in model space */
  fastf_t s_csize;	/* Dist across clipped solid (model space) */
  vect_t s_center;	/* Center point of solid, in model space */
  struct bu_list s_vlist;/* Pointer to unclipped vector list */
  int s_vlen;		/* # of actual cmd[] entries in vlist */
  struct db_full_path s_fullpath;
  char s_flag;		/* UP = object visible, DOWN = obj invis */
  char s_iflag;	        /* UP = illuminated, DOWN = regular */
  char s_soldash;	/* solid/dashed line flag */
  char s_Eflag;	        /* flag - not a solid but an "E'd" region */
  char s_uflag;		/* 1 - the user specified the color */
  char s_dflag;		/* 1 - s_basecolor is derived from the default */
  char s_cflag;		/* 1 - use the default color */
  char s_wflag;		/* work flag */
  unsigned char	s_basecolor[3];	/* color from containing region */
  unsigned char	s_color[3];	/* color to draw as */
  short	s_regionid;	/* region ID */
  unsigned int s_dlist; /* display list index */
  fastf_t s_transparency; /* holds a transparency value in the range [0.0, 1.0] */
  int s_dmode;         	/* draw mode: 0 - wireframe
			 *	      1 - shaded bots and polysolids only (booleans NOT evaluated)
			 *	      2 - shaded (booleans NOT evaluated)
			 *	      3 - shaded (booleans evaluated) 
			 */
};

/*
 * "Standard" flag settings
 */
#define UP	0
#define DOWN	1

#define SOLID_NULL	((struct solid *)0)

#define GET_SOLID(p,fp) { \
	if(BU_LIST_IS_EMPTY(fp)){ \
		BU_GETSTRUCT(p,solid); \
		db_full_path_init(&(p)->s_fullpath); \
	}else{ \
		p = BU_LIST_NEXT(solid,fp); \
		BU_LIST_DEQUEUE(&((p)->l)); \
		(p)->s_fullpath.fp_len = 0; \
	} \
	BU_LIST_INIT( &((p)->s_vlist) ); }

/* Obtain the last node (the solid) on the path */
#define LAST_SOLID(_sp)	DB_FULL_PATH_CUR_DIR( &(_sp)->s_fullpath )
#define FIRST_SOLID(_sp)	((_sp)->s_fullpath.fp_names[0])

#define FREE_SOLID(p,fp) { \
	BU_LIST_APPEND(fp, &((p)->l)); \
	RT_FREE_VLIST(&((p)->s_vlist)); }

#define FOR_ALL_SOLIDS(p,hp)  \
	for(BU_LIST_FOR(p,solid,hp))

#define FOR_REST_OF_SOLIDS(p1,p2,hp) \
	for(BU_LIST_PFOR(p1,p2,solid,hp))

#define BU_LIST_PFOR(p1,p2,structure,hp) \
	(p1)=BU_LIST_PNEXT(structure,p2); \
	BU_LIST_NOT_HEAD(p1,hp);\
	(p1)=BU_LIST_PNEXT(structure,p1)
#endif
@


1.10
log
@Bob Parker's view modifications, png framebuffer support, shaded drawing mode
@
text
@d18 1
a18 1
 *  $Header: /c/CVS/brlcad/h/solid.h,v 1.9 2004/02/02 17:39:03 morrison Exp $
@


1.9
log
@update copyright to include span through 2003
@
text
@d18 1
a18 1
 *  $Header: /c/CVS/brlcad/h/solid.h,v 1.8 2000/10/20 05:04:34 mike Exp $
d43 6
@


1.8
log
@
s_path array has been replaced by a s_fullpath "struct db_full_path".
This has eliminated the MAX_PATH restriction in MGED.
member s_last is gone too.
@
text
@d15 1
a15 1
 *	This software is Copyright (C) 1985 by the United States Army.
d18 1
a18 1
 *  $Header: /c/CVS/brlcad/h/solid.h,v 1.7 2000/06/13 16:27:10 bparker Exp $
@


1.8.4.1
log
@sync branch with HEAD
@
text
@d15 1
a15 1
 *	This software is Copyright (C) 1985-2004 by the United States Army.
d18 1
a18 1
 *  $Header$
@


1.8.6.1
log
@sync to HEAD...
@
text
@d15 1
a15 1
 *	This software is Copyright (C) 1985-2004 by the United States Army.
d18 1
a18 1
 *  $Header: /n/cad/c/CVS/brlcad/h/solid.h,v 1.9 2004/02/02 17:39:03 morrison Exp $
@


1.8.12.1
log
@merge from HEAD
@
text
@d15 1
a15 1
 *	This software is Copyright (C) 1985-2004 by the United States Army.
d18 1
a18 1
 *  $Header: /c/CVS/brlcad/h/solid.h,v 1.9 2004/02/02 17:39:03 morrison Exp $
@


1.8.12.2
log
@merge from head
@
text
@d18 1
a18 1
 *  $Header: /c/CVS/brlcad/h/solid.h,v 1.8.12.1 2004/02/12 18:32:36 erikg Exp $
@


1.7
log
@Add s_wflag (work flag) to be used by
routines that shouldn't use s_flag or s_iflag.
@
text
@d18 1
a18 1
 *  $Header: /c/CVS/brlcad/h/solid.h,v 1.6 1999/12/27 20:52:21 bparker Exp $
a22 1
#define MAX_PATH	16	/* Maximum depth of path */
d30 1
a30 2
  struct directory *s_path[MAX_PATH];	/* Full `path' name */
  char s_last;		/* index of last path element */
d56 1
d60 1
d64 4
a76 4

/*XXX Eventually move to bu.h */
#define BU_LIST_PREV_IS_HEAD(p,hp)\
	(((struct bu_list *)(p))->back == (hp))
@


1.6
log
@*- check to see if header file has already been included
@
text
@d18 1
a18 1
 *  $Header: /c/CVS/brlcad/h/solid.h,v 1.5 1998/10/21 16:46:46 bparker Exp $
d40 1
@


1.5
log
@*- add a few flags to "struct solid"
@
text
@d18 1
a18 1
 *  $Header: /c/CVS/brlcad/h/solid.h,v 1.4 1998/06/24 18:30:55 bparker Exp $
d20 2
d81 1
a81 1
     
@


1.4
log
@*- add member to "struct solid" - s_useBaseColor
	to possibly indicate something to the application.
	(i.e. in mged this is used to indicate that the user specified
	 a color preference)
@
text
@d18 1
a18 1
 *  $Header: /c/CVS/brlcad/h/solid.h,v 1.3 1997/09/23 21:23:27 bparker Exp $
d35 3
a37 1
  char s_useBaseColor;
@


1.3
log
@mods to "struct solid"
@
text
@d18 1
a18 1
 *  $Header: /m/cad/h/RCS/solid.h,v 1.2 1996/12/04 21:36:12 bparker Exp bparker $
d35 1
@


1.2
log
@*** empty log message ***
@
text
@d18 1
a18 1
 *  $Header: /m/cad/h/RCS/solid.h,v 1.1 1996/09/25 20:37:50 bparker Exp bparker $
a26 2
  unsigned long s_addr;	/* Display processor's core address */
  unsigned s_bytes;	/* Display processor's core length */
a36 1
  short	s_dmindex;	/* display manager private, for color index */
d38 1
d60 1
a60 2
	RT_FREE_VLIST(&((p)->s_vlist)); \
	(p)->s_addr = 0; }
@


1.1
log
@Initial revision
@
text
@d18 1
a18 1
 *  $Header: /m/cad/mged/RCS/solid.h,v 11.3 1996/09/17 21:15:46 bparker Exp $
d42 6
@
