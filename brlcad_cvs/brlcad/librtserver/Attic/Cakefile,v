head	1.7;
access;
symbols
	postmerge-20040405-ansi:1.6
	premerge-20040404-ansi:1.6
	postmerge-autoconf:1.6
	premerge-autoconf:1.6
	postmerge-20040315-windows:1.5
	premerge-20040315-windows:1.5
	windows-20040315-freeze:1.5.2.1
	windows-branch:1.5.0.2;
locks; strict;
comment	@# @;


1.7
date	2004.05.03.13.22.15;	author erikg;	state dead;
branches;
next	1.6;

1.6
date	2004.03.17.15.35.02;	author jra;	state Exp;
branches;
next	1.5;

1.5
date	2004.02.06.13.13.40;	author jra;	state Exp;
branches
	1.5.2.1;
next	1.4;

1.4
date	2004.02.05.18.52.12;	author morrison;	state Exp;
branches;
next	1.3;

1.3
date	2004.02.05.15.48.46;	author jlowens;	state Exp;
branches;
next	1.2;

1.2
date	2004.01.12.13.13.50;	author jra;	state Exp;
branches;
next	1.1;

1.1
date	2004.01.07.13.30.01;	author jra;	state Exp;
branches;
next	;

1.5.2.1
date	2004.03.12.09.58.12;	author morrison;	state Exp;
branches;
next	;


desc
@@


1.7
log
@no more cake
@
text
@/*
 *			librtserver/Cakefile
 */
#define SRCDIR	librtserver
#define FILES	rtserver
#define	SRCSUFF	.c
#define VERSION_VARIABLE	rtserver_version
#define LIBRARY_TITLE		"The BRL-CAD Ray-Tracing Server library"
#define MANSECTION	3

#include "../Cakefile.defs"

#if defined __ppc__
#  define PRODUCTS	librtserver.jnilib
#elif defined JNI_INC
#  define PRODUCTS	librtserver.ARCH_SUF
#else
#  undef PRODUCTS
#endif

#undef CONFIGDEFS
#if defined __ppc__
#  undef RANLIB
#  undef BUILD_LIBRARY
#  define RANLIB	true
#  define CONFIGDEFS	/**/
#  define BUILD_LIBRARY	cc -bundle -framework JavaVM -o
#elif defined JNI_INC
#  define CONFIGDEFS	JNI_INC
#else
#  define CONFIGDEFS	/**/
#endif

/* Oddly, this line needs to be present to keep IBM AIX cpp happy. */
#ifdef FAST_SQRT
#	define	EXTRA_OBJ	FAST_SQRT
#else
#	define	EXTRA_OBJ	/**/
#endif

#define EXTRA_OBJ_NO_DEPENDENCY -L../.librt.''MTYPE -lrt -L../.libbn.''MTYPE -lbn -L../.libbu.''MTYPE -lbu -L../.libtcl8.4.''MTYPE -ltcl8.4

#ifdef PRODUCTS
#include "../Cakefile.lib"
#include "../Cakefile.rules"
#else

dummy&:
	@@echo "Nothing to do here, JNI_INC must be defined (in Cakefile.defs) to the directory where jni.h is located"

#endif
@


1.6
log
@Added check for JNI_INC define
@
text
@@


1.5
log
@Added a "#undef CONFIGDEFS" to eliminate the blather
@
text
@a4 5
#ifdef __ppc__
#  define PRODUCTS	librtserver.jnilib
#else
#  define PRODUCTS	librtserver.ARCH_SUF
#endif
d13 8
d22 1
a22 1
#ifdef __ppc__
d28 2
d31 1
a31 1
#  define CONFIGDEFS	-I/usr/java/j2sdk1.4.2_02/include "-I/usr/java/j2sdk1.4.2_02/include/linux"
d43 1
d46 6
@


1.5.2.1
log
@merge from HEAD
@
text
@@


1.4
log
@rename librtserver.c to rtserver.c -- source files cannot have the same name as the target or clobber of non-nfs build will delete source file
@
text
@d18 1
@


1.3
log
@Modifications to support compiling librtserver.jnilib on MacOS X
@
text
@d6 1
a6 1
#define PRODUCTS	librtserver.jnilib
d8 1
a8 1
#define PRODUCTS	librtserver.ARCH_SUF
d10 1
d12 2
a14 1
#define CONFIGDEFS	-I/usr/java/j2sdk1.4.2_02/include "-I/usr/java/j2sdk1.4.2_02/include/linux"
d19 5
a23 2
#undef CONFIGDEFS
#define CONFIGDEFS -I"/System/Library/Frameworks/JavaVM.framework/Home/include"
d25 1
a25 1
#define EXTRA_OBJ_NO_DEPENDENCY -L../.librt.''MTYPE -lrt -L../.libbn.''MTYPE -lbn -L../.libbu.''MTYPE -lbu -L../.libtcl8.4.''MTYPE -ltcl8.4
a27 3

#define FILES	librtserver

d35 1
a35 5
#define VERSION_VARIABLE	rtserver_version
#define LIBRARY_TITLE		"The BRL-CAD Ray-Tracing Server library"

librtserver.jnilib: librtserver.o	
	gcc -dynamiclib -install_name BRLCAD_ROOT/lib/librtserver.jnilib -flat_namespace -o librtserver.jnilib  *.o -L../.librt.pmac/ -L../.libbu.pmac/ -L../.libbn.pmac/ -L../.libtcl8.4.pmac/ -lrt -lbn -lbu -ltcl
@


1.2
log
@Made resolved library the default
@
text
@d5 3
d9 1
d16 4
d21 2
d35 3
@


1.1
log
@Added librtserver
@
text
@d8 1
d12 1
a12 3
#if defined(RESOLVE_LIBRARIES)
#	define EXTRA_OBJ_NO_DEPENDENCY -lc -lm -brtl -L../.libbu.sp3 -lbu -L../.libbn.sp3 -lbn -L../.libtcl8.4.sp3 -ltcl8.4
#endif
@

