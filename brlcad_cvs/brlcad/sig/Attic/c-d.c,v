head	11.7;
access;
symbols
	ansi-20040405-merged:11.5.2.1
	postmerge-20040405-ansi:11.6
	premerge-20040404-ansi:11.5
	postmerge-autoconf:11.5
	autoconf-freeze:11.5
	premerge-autoconf:11.5
	postmerge-20040315-windows:11.5
	premerge-20040315-windows:11.5
	windows-20040315-freeze:11.5
	autoconf-20031203:11.5
	autoconf-20031202:11.5
	autoconf-branch:11.5.0.10
	phong-branch:11.5.0.8
	photonmap-branch:11.5.0.6
	rel-6-1-DP:11.5
	windows-branch:11.5.0.4
	rel-6-0-2:11.3
	ansi-branch:11.5.0.2
	rel-6-0-1-branch:11.3.0.2
	hartley-6-0-post:11.4
	hartley-6-0-pre:11.3
	rel-6-0-1:11.3
	rel-6-0:11.3
	rel-5-4:11.1
	offsite-5-3-pre:11.1
	rel-5-3:11.1
	rel-5-2:11.1
	rel-5-1-branch:11.1.0.2
	rel-5-1:11.1
	rel-5-0:11.1
	rel-5-0-beta:11.1
	rel-4-5:11.1
	ctj-4-5-post:11.1
	ctj-4-5-pre:11.1
	rel-4-4:11.1
	rel-4-0:10.1;
locks; strict;
comment	@ * @;


11.7
date	2004.05.21.16.45.03;	author morrison;	state dead;
branches;
next	11.6;

11.6
date	2004.04.05.05.45.59;	author morrison;	state Exp;
branches;
next	11.5;

11.5
date	2002.08.20.17.08.42;	author jra;	state Exp;
branches
	11.5.2.1;
next	11.4;

11.4
date	2002.08.15.20.55.53;	author hartley;	state Exp;
branches;
next	11.3;

11.3
date	2001.08.21.18.12.54;	author jra;	state Exp;
branches;
next	11.2;

11.2
date	2001.08.10.21.22.45;	author morrison;	state Exp;
branches;
next	11.1;

11.1
date	95.01.04.10.19.01;	author mike;	state Rel4_4;
branches;
next	10.2;

10.2
date	92.04.22.15.50.19;	author phil;	state Exp;
branches;
next	10.1;

10.1
date	91.10.12.06.50.48;	author mike;	state Rel4_0;
branches;
next	1.1;

1.1
date	90.10.25.20.13.24;	author butler;	state Exp;
branches;
next	;

11.5.2.1
date	2002.09.19.18.02.19;	author morrison;	state Exp;
branches;
next	;


desc
@safety check in
@


11.7
log
@moved to src/sig/
@
text
@#include <unistd.h>
#include <stdlib.h>
#include <stdio.h>
#include <math.h>

static char usage[] = "\
Usage: c-d -r -i -m -p -z < complex_data > doubles\n";

int	rflag = 0;
int	iflag = 0;
int	mflag = 0;
int	pflag = 0;
int	zflag = 0;

double	ibuf[512];
double	obuf[512];
double	*obp;

int main(int argc, char **argv)
{
	int	i, num, onum;

	if( argc <= 1 || isatty(fileno(stdin)) ) {
		fprintf( stderr, usage );
		exit( 1 );
	}

	while( argc > 1 && argv[1][0] == '-' )  {
		switch( argv[1][1] )  {
		case 'r':
			rflag++;
			break;
		case 'i':
			iflag++;
			break;
		case 'm':
			mflag++;
			break;
		case 'p':
			pflag++;
			break;
		case 'z':
			zflag++;
			break;
		}
		argc--;
		argv++;
	}

	while( (num = fread( &ibuf[0], sizeof( ibuf[0] ), 512, stdin)) > 0 ) {
		onum = 0;
		obp = obuf;
		for( i = 0; i < num; i += 2 ) {
			if( rflag ) {
				*obp++ = ibuf[i];
				onum++;
			}
			if ( iflag ) {
				*obp++ = ibuf[i+1];
				onum++;
			}
			if( mflag ) {
				*obp++ = hypot( ibuf[i], ibuf[i+1] );
				onum++;
			}
			if( pflag ) {
				if( ibuf[i] == 0 && ibuf[i+1] == 0 )
					*obp++ = 0;
				else
					*obp++ = atan2( ibuf[i], ibuf[i+1] );
				onum++;
			}
			if( zflag ) {
				*obp++ = 0.0;
				onum++;
			}
		}
		fwrite( &obuf[0], sizeof( obuf[0] ), onum, stdout );
	}
	return 0;
}
@


11.6
log
@merge of ansi-6-0-branch into head
@
text
@@


11.5
log
@Restoration of entire source tree to Pre-Hartley state
@
text
@d19 1
a19 2
int main( argc, argv )
int argc; char **argv;
@


11.5.2.1
log
@Initial ANSIfication
@
text
@d19 2
a20 1
int main(int argc, char **argv)
@


11.4
log
@Converted from K&R to ANSI C - RFH
@
text
@d19 2
a20 1
int main(int argc, char **argv)
@


11.3
log
@Added some includes
@
text
@d19 1
a19 2
int main( argc, argv )
int argc; char **argv;
@


11.2
log
@added proper checking for string.h/strings.h
added int return type to main
added return 0 to main
@
text
@d1 2
@


11.1
log
@Release_4.4
@
text
@d17 1
a17 1
main( argc, argv )
d79 1
@


10.2
log
@fixed argv problem and protected tan2 from 0,0.
@
text
@@


10.1
log
@Release_4.0
@
text
@d27 1
a27 1
	while( argv[1][0] == '-' )  {
d66 4
a69 1
				*obp++ = atan2( ibuf[i], ibuf[i+1] );
@


1.1
log
@Initial revision
@
text
@@
