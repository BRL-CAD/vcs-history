head	11.9;
access;
symbols
	ansi-20040405-merged:11.7.6.1
	postmerge-20040405-ansi:11.8
	premerge-20040404-ansi:11.8
	postmerge-autoconf:11.8
	autoconf-freeze:11.7.14.1
	premerge-autoconf:11.8
	ansi-20040316-freeze:11.7
	postmerge-20040315-windows:11.8
	premerge-20040315-windows:11.8
	windows-20040315-freeze:11.7.8.1
	autoconf-20031203:11.7
	autoconf-20031202:11.7
	autoconf-branch:11.7.0.14
	phong-branch:11.7.0.12
	photonmap-branch:11.7.0.10
	rel-6-1-DP:11.7
	windows-branch:11.7.0.8
	rel-6-0-2:11.7
	ansi-branch:11.7.0.6
	rel-6-0-1-branch:11.7.0.4
	hartley-6-0-post:11.7
	hartley-6-0-pre:11.7
	rel-6-0-1:11.7
	rel-6-0:11.7
	rel-5-4:11.7
	offsite-5-3-pre:11.7
	rel-5-3:11.7
	rel-5-2:11.7
	rel-5-1-branch:11.7.0.2
	rel-5-1:11.7
	rel-5-0:11.6
	rel-5-0-beta:11.6
	rel-4-5:11.6
	ctj-4-5-post:11.6
	ctj-4-5-pre:11.6
	rel-4-4:11.4
	rel-4-0:10.1;
locks; strict;
comment	@ * @;


11.9
date	2004.05.24.04.01.09;	author morrison;	state dead;
branches;
next	11.8;

11.8
date	2004.02.02.17.39.05;	author morrison;	state Exp;
branches;
next	11.7;

11.7
date	2000.03.29.18.42.47;	author mike;	state Exp;
branches
	11.7.6.1
	11.7.8.1
	11.7.14.1;
next	11.6;

11.6
date	95.12.06.13.25.06;	author jra;	state Exp;
branches;
next	11.5;

11.5
date	95.11.28.21.35.45;	author jra;	state Exp;
branches;
next	11.4;

11.4
date	95.01.04.10.08.02;	author mike;	state Rel4_4;
branches;
next	11.3;

11.3
date	94.08.22.19.11.05;	author gdurf;	state Exp;
branches;
next	11.2;

11.2
date	93.12.16.09.00.23;	author jra;	state Exp;
branches;
next	11.1;

11.1
date	93.06.28.10.37.29;	author jra;	state Exp;
branches;
next	10.1;

10.1
date	91.10.12.06.45.25;	author mike;	state Rel4_0;
branches;
next	1.2;

1.2
date	91.06.12.20.27.51;	author mike;	state Exp;
branches;
next	1.1;

1.1
date	91.06.12.19.59.31;	author mike;	state Exp;
branches;
next	;

11.7.6.1
date	2004.03.17.21.16.33;	author morrison;	state Exp;
branches;
next	;

11.7.8.1
date	2004.03.11.23.41.15;	author morrison;	state Exp;
branches;
next	;

11.7.14.1
date	2004.02.12.19.41.39;	author erikg;	state Exp;
branches;
next	;


desc
@IGES converter
@


11.9
log
@moved to src/iges/
@
text
@/*
 *  Authors -
 *	John R. Anderson
 *	Susanne L. Muuss
 *	Earl P. Weaver
 *
 *  Source -
 *	VLD/ASB Building 1065
 *	The U. S. Army Ballistic Research Laboratory
 *	Aberdeen Proving Ground, Maryland  21005
 *  
 *  Copyright Notice -
 *	This software is Copyright (C) 1990-2004 by the United States Army.
 *	All rights reserved.
 */

/* This routine reads the next field in "card" buffer
	It expects the field to contain a string representing a "double"
	The string is read and converted to type
	"double" and returned in "inum".
	If "id" is not the null string, then
	"id" is printed followed by the number.

	"eof" is the "end-of-field" delimiter
	"eor" is the "end-of-record" delimiter	*/

#include "./iges_struct.h"
#include "./iges_extern.h"

void
Readdbl( inum , id )
char *id;
double *inum;
{
	int i=(-1),done=0,lencard;
	char num[80];
	double atof();

	if( card[counter] == eof ) /* This is an empty field */
	{
		counter++;
		return;
	}
	else if( card[counter] == eor ) /* Up against the end of record */
		return;

	if( card[72] == 'P' )
		lencard = PARAMLEN;
	else
		lencard = CARDLEN;

	if( counter >= lencard )
		Readrec( ++currec );

	while( !done )
	{
		while( (num[++i] = card[counter++]) != eof && num[i] != eor
			&& counter <= lencard )
				if( num[i] == 'D' )
					num[i] = 'e';

		if( counter > lencard && num[i] != eor && num[i] != eof )
			Readrec( ++currec );
		else
			done = 1;
	}

	if( num[i] == eor )
		counter--;

	num[++i] = '\0';
	*inum = atof( num );
	if( *id != '\0' )
		bu_log( "%s%g\n" , id , *inum );
}

@


11.8
log
@update copyright to include span through 2003
@
text
@@


11.7
log
@
Converted from Release 4 names to know about libbu and libbn
@
text
@d13 1
a13 1
 *	This software is Copyright (C) 1990 by the United States Army.
@


11.7.6.1
log
@sync branch with HEAD
@
text
@d13 1
a13 1
 *	This software is Copyright (C) 1990-2004 by the United States Army.
@


11.7.8.1
log
@sync to HEAD...
@
text
@d13 1
a13 1
 *	This software is Copyright (C) 1990-2004 by the United States Army.
@


11.7.14.1
log
@merge from HEAD
@
text
@d13 1
a13 1
 *	This software is Copyright (C) 1990-2004 by the United States Army.
@


11.6
log
@All logging done via rt_log
@
text
@d74 1
a74 1
		rt_log( "%s%g\n" , id , *inum );
@


11.5
log
@Mods to handle TNURB BREP. Also added RT_EXTERNS to iges_struct.h.
@
text
@d74 1
a74 1
		printf( "%s%g\n" , id , *inum );
@


11.4
log
@Release_4.4
@
text
@a26 5
#include "conf.h"

#include <stdio.h>
#include "machine.h"
#include "vmath.h"
@


11.3
log
@Added include of conf.h
@
text
@@


11.2
log
@changed function declaration to void
@
text
@d27 2
@


11.1
log
@Major Upgrade to IGES 5.1
@
text
@d33 1
@


10.1
log
@Release_4.0
@
text
@@


1.2
log
@Modified for Release 4.0
@
text
@@


1.1
log
@Initial revision
@
text
@d28 2
@
