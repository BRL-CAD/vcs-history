head	11.4;
access;
symbols
	ansi-20040405-merged:11.3
	postmerge-20040405-ansi:11.3
	premerge-20040404-ansi:11.3
	postmerge-autoconf:11.3
	autoconf-freeze:11.3
	premerge-autoconf:11.3
	postmerge-20040315-windows:11.3
	premerge-20040315-windows:11.3
	windows-20040315-freeze:11.3
	autoconf-20031203:11.3
	autoconf-20031202:11.3
	autoconf-branch:11.3.0.14
	phong-branch:11.3.0.12
	photonmap-branch:11.3.0.10
	rel-6-1-DP:11.3
	windows-branch:11.3.0.8
	rel-6-0-2:11.3
	ansi-branch:11.3.0.6
	rel-6-0-1-branch:11.3.0.4
	hartley-6-0-post:11.3
	hartley-6-0-pre:11.3
	rel-6-0-1:11.3
	rel-6-0:11.3
	rel-5-4:11.3
	offsite-5-3-pre:11.3
	rel-5-3:11.3
	rel-5-2:11.3
	rel-5-1-branch:11.3.0.2
	rel-5-1:11.3
	rel-5-0:11.3
	rel-5-0-beta:11.3
	rel-4-5:11.2
	ctj-4-5-post:11.2
	ctj-4-5-pre:11.2
	rel-4-4:11.1
	rel-4-0:10.1
	rel-3-5:9.1;
locks; strict;
comment	@ * @;


11.4
date	2004.05.21.17.33.30;	author morrison;	state dead;
branches;
next	11.3;

11.3
date	98.11.10.04.58.47;	author mike;	state Exp;
branches;
next	11.2;

11.2
date	96.08.31.11.26.18;	author mike;	state Exp;
branches;
next	11.1;

11.1
date	95.01.04.10.03.58;	author mike;	state Rel4_4;
branches;
next	10.1;

10.1
date	91.10.12.06.42.32;	author mike;	state Rel4_0;
branches;
next	9.8;

9.8
date	91.07.06.00.05.25;	author mike;	state Exp;
branches;
next	9.7;

9.7
date	91.01.25.23.07.51;	author cjohnson;	state Exp;
branches;
next	9.6;

9.6
date	91.01.24.15.47.37;	author mike;	state Exp;
branches;
next	9.5;

9.5
date	90.12.08.04.38.11;	author mike;	state Exp;
branches;
next	9.4;

9.4
date	90.11.22.03.51.40;	author mike;	state Exp;
branches;
next	9.3;

9.3
date	90.11.21.06.38.01;	author mike;	state Exp;
branches;
next	9.2;

9.2
date	90.11.21.01.22.48;	author mike;	state Exp;
branches;
next	9.1;

9.1
date	89.05.19.06.00.21;	author mike;	state Rel3_5;
branches;
next	1.7;

1.7
date	89.04.04.04.50.43;	author mike;	state Exp;
branches;
next	1.6;

1.6
date	89.02.13.03.22.01;	author mike;	state Exp;
branches;
next	1.5;

1.5
date	89.02.10.05.13.06;	author mike;	state Exp;
branches;
next	1.4;

1.4
date	89.01.27.00.53.29;	author mike;	state Exp;
branches;
next	1.3;

1.3
date	89.01.26.09.06.52;	author mike;	state Exp;
branches;
next	1.2;

1.2
date	89.01.26.08.59.04;	author mike;	state Exp;
branches;
next	1.1;

1.1
date	89.01.20.01.23.26;	author mike;	state Exp;
branches;
next	;


desc
@Defined the PIXEL protocol
@


11.4
log
@moved to src/remrt/
@
text
@/*
 *			P R O T O C O L . H
 *
 *  Definitions pertaining to the Remote RT protocol.
 *  
 *  Author -
 *	Michael John Muuss
 *
 *  Source -
 *	SECAD/VLD Computing Consortium, Bldg 394
 *	The U. S. Army Ballistic Research Laboratory
 *	Aberdeen Proving Ground, Maryland  21005
 *  
 *  Distribution Status -
 *	Public Domain, Distribution Unlimitied.
 *
 *  $Header: /n/xoff/cvs/brlcad/remrt/protocol.h,v 11.3 1998/11/10 04:58:47 mike Exp $
 */

/* For use in MSG_VERSION exchanges */
#define PROTOCOL_VERSION	"BRL-CAD REMRT Protocol v2.0"

#define MSG_MATRIX	2
#define MSG_OPTIONS	3
#define MSG_LINES	4	/* request pixel interval be computed */
#define MSG_END		5
#define MSG_PRINT	6
#define MSG_PIXELS	7	/* response to server MSG_LINES */
#define MSG_RESTART	8	/* recycle server */
#define MSG_LOGLVL	9	/* enable/disable logging */
#define	MSG_CD		10	/* change directory */
#define MSG_CMD		11	/* server sends command to dispatcher */
#define MSG_VERSION	12	/* server sends version to dispatcher */
#define MSG_DB		13	/* request/send database lines 16k max */
#define MSG_CHECK	14	/* check database files for match */
#define MSG_DIRBUILD		15	/* request rt_dirbuild() be called */
#define MSG_DIRBUILD_REPLY	16	/* response to MSG_DIRBUILD */
#define MSG_GETTREES		17	/* request rt_gettrees() be called */
#define MSG_GETTREES_REPLY	18	/* response to MSG_GETTREES */

#define REMRT_MAX_PIXELS	(32*1024)	/* Max MSG_LINES req */

/*
 *  This structure is used for MSG_PIXELS messages
 */
struct line_info  {
	int	li_startpix;
	int	li_endpix;
	int	li_frame;
	int	li_nrays;
	double	li_cpusec;
	double	li_percent;	/* percent of system actually consumed */
	/* A scanline is attached after here */
};

#define LINE_O(x)	offsetof(struct  line_info, x)

struct bu_structparse desc_line_info[] =  {
	{"%d", 1, "li_startpix", LINE_O(li_startpix),	FUNC_NULL },
	{"%d", 1, "li_endpix",	LINE_O(li_endpix),	FUNC_NULL },
	{"%d", 1, "li_frame",	LINE_O(li_frame),	FUNC_NULL },
	{"%d", 1, "li_nrays",	LINE_O(li_nrays),	FUNC_NULL },
	{"%f", 1, "li_cpusec",	LINE_O(li_cpusec),	FUNC_NULL },
	{"%f", 1, "li_percent",	LINE_O(li_percent),	FUNC_NULL },
	{"",	0,			0 }
};
@


11.3
log
@Made protocol version not depend on CVS/RCS id
@
text
@d17 1
a17 1
 *  $Header: /c/CVS/brlcad/remrt/protocol.h,v 11.2 1996/08/31 11:26:18 mike Exp $
@


11.2
log
@rt_imexport became bu_structparse in h/bu.h
@
text
@d17 1
a17 1
 *  $Header: /m/cad/remrt/RCS/protocol.h,v 11.1 1995/01/04 10:03:58 mike Rel4_4 mike $
d21 1
a21 2
#define PROTOCOL_VERSION	\
	"$Header: /m/cad/remrt/RCS/protocol.h,v 11.1 1995/01/04 10:03:58 mike Rel4_4 mike $"
@


11.1
log
@Release_4.4
@
text
@d17 1
a17 1
 *  $Header: /m/cad/remrt/RCS/protocol.h,v 10.1 91/10/12 06:42:32 mike Rel4_0 $
d22 1
a22 1
	"$Header: /m/cad/remrt/RCS/protocol.h,v 10.1 91/10/12 06:42:32 mike Rel4_0 $"
d59 8
a66 8
struct rt_imexport desc_line_info[] =  {
	{"%d",		LINE_O(li_startpix),	1 },
	{"%d",		LINE_O(li_endpix),	1 },
	{"%d",		LINE_O(li_frame),	1 },
	{"%d",		LINE_O(li_nrays),	1 },
	{"%f",		LINE_O(li_cpusec),	1 },
	{"%f",		LINE_O(li_percent),	1 },
	{"",		0,			0 }
@


10.1
log
@Release_4.0
@
text
@d17 1
a17 1
 *  $Header: /m/cad/remrt/RCS/protocol.h,v 9.8 91/07/06 00:05:25 mike Exp $
d22 1
a22 1
	"$Header: /m/cad/remrt/RCS/protocol.h,v 9.8 91/07/06 00:05:25 mike Exp $"
@


9.8
log
@ANSI lint
@
text
@d17 1
a17 1
 *  $Header: /m/cad/remrt/RCS/protocol.h,v 9.7 91/01/25 23:07:51 cjohnson Exp $
d22 1
a22 1
	"$Header: /m/cad/remrt/RCS/protocol.h,v 9.7 91/01/25 23:07:51 cjohnson Exp $"
@


9.7
log
@Removed li_len, no longer used.  Also started using the
new import/export requiring a new protocol version.
@
text
@d17 1
a17 1
 *  $Header: /m/cad/remrt/RCS/protocol.h,v 9.6 91/01/24 15:47:37 mike Exp $
d22 1
a22 1
	"$Header: /m/cad/remrt/RCS/protocol.h,v 9.6 91/01/24 15:47:37 mike Exp $"
d60 7
a66 7
	"%d",		LINE_O(li_startpix),	1,
	"%d",		LINE_O(li_endpix),	1,
	"%d",		LINE_O(li_frame),	1,
	"%d",		LINE_O(li_nrays),	1,
	"%f",		LINE_O(li_cpusec),	1,
	"%f",		LINE_O(li_percent),	1,
	"",		0,			0
@


9.6
log
@Nothing changed here, but changes in rt_struct_import's
way of formatting binary structures require a new protocol version
@
text
@d17 1
a17 1
 *  $Header: /m/cad/remrt/RCS/protocol.h,v 9.5 90/12/08 04:38:11 mike Exp $
d22 1
a22 1
	"$Header: /m/cad/remrt/RCS/protocol.h,v 9.5 90/12/08 04:38:11 mike Exp $"
a47 1
	int	li_len;
a59 1
	"len",		LINE_O(li_len),		1,
@


9.5
log
@Changed to rt_imexport
@
text
@d17 1
a17 1
 *  $Header: /m/cad/remrt/RCS/protocol.h,v 9.4 90/11/22 03:51:40 mike Exp $
d22 1
a22 1
	"$Header: /m/cad/remrt/RCS/protocol.h,v 9.4 90/11/22 03:51:40 mike Exp $"
@


9.4
log
@Now, protocol.h has a define for the maximum number of pixels
that can be assigned.
@
text
@d17 1
a17 1
 *  $Header: /m/cad/remrt/RCS/protocol.h,v 9.3 90/11/21 06:38:01 mike Exp $
d22 1
a22 1
	"$Header: /m/cad/remrt/RCS/protocol.h,v 9.3 90/11/21 06:38:01 mike Exp $"
d60 1
a60 1
struct imexport desc_line_info[] =  {
@


9.3
log
@Changed protocol to send DIRBUILD and GETTREES as separate operations.
@
text
@d17 1
a17 1
 *  $Header: /m/cad/remrt/RCS/protocol.h,v 9.2 90/11/21 01:22:48 mike Exp $
d19 2
d22 1
a22 1
	"$Header: /m/cad/remrt/RCS/protocol.h,v 9.2 90/11/21 01:22:48 mike Exp $"
d41 2
@


9.2
log
@Two additions
@
text
@d17 1
a17 1
 *  $Header: protocol.h,v 9.1 89/05/19 06:00:21 mike Rel3_5 $
d20 1
a20 1
	"$Header: protocol.h,v 9.1 89/05/19 06:00:21 mike Rel3_5 $"
a21 1
#define MSG_START	1
d24 1
a24 1
#define MSG_LINES	4
d35 4
@


9.1
log
@Release_3.5
@
text
@d17 1
a17 1
 *  $Header: protocol.h,v 1.7 89/04/04 04:50:43 mike Exp $
d20 1
a20 1
	"$Header: protocol.h,v 1.7 89/04/04 04:50:43 mike Exp $"
d34 2
@


1.7
log
@Converted to new way of representing structure offsets
@
text
@d17 1
a17 1
 *  $Header: protocol.h,v 1.6 89/02/13 03:22:01 mike Locked $
d20 1
a20 1
	"$Header: protocol.h,v 1.6 89/02/13 03:22:01 mike Locked $"
@


1.6
log
@added two new pkg types
@
text
@d17 1
a17 1
 *  $Header: protocol.h,v 1.5 89/02/10 05:13:06 mike Locked $
d20 1
a20 1
	"$Header: protocol.h,v 1.5 89/02/10 05:13:06 mike Locked $"
d49 2
a50 1
#define LINE_INFO(x)	(stroff_t)&(((struct line_info *)0)->x)
d52 8
a59 8
	"len",		(stroff_t)0,		1,
	"%d",		LINE_INFO(li_startpix),	1,
	"%d",		LINE_INFO(li_endpix),	1,
	"%d",		LINE_INFO(li_frame),	1,
	"%d",		LINE_INFO(li_nrays),	1,
	"%f",		LINE_INFO(li_cpusec),	1,
	"%f",		LINE_INFO(li_percent),	1,
	"",		(stroff_t)0,		0
@


1.5
log
@Added MSG_CD
@
text
@d17 1
a17 1
 *  $Header: protocol.h,v 1.4 89/01/27 00:53:29 mike Locked $
d20 1
a20 1
	"$Header: protocol.h,v 1.4 89/01/27 00:53:29 mike Locked $"
d32 2
@


1.4
log
@Changed to permit assignment of pixel clumps,
rather than being forced to assign by scanline.
@
text
@d17 1
a17 1
 *  $Header: protocol.h,v 1.3 89/01/26 09:06:52 mike Locked $
d20 1
a20 1
	"$Header: protocol.h,v 1.3 89/01/26 09:06:52 mike Locked $"
d31 1
@


1.3
log
@Added li_realsec
@
text
@d17 1
a17 1
 *  $Header: protocol.h,v 1.2 89/01/26 08:59:04 mike Exp $
d20 1
a20 1
	"$Header: protocol.h,v 1.2 89/01/26 08:59:04 mike Exp $"
d28 1
a28 1
#define MSG_PIXELS	7	/* response to server. 2by lineno, pixels */
d37 3
a39 1
	int	li_y;
d42 2
a43 2
	double	li_realsec;
	/* A scanline it attached after here */
d49 3
a51 1
	"%d",		LINE_INFO(li_y),	1,
d54 1
a54 1
	"%f",		LINE_INFO(li_realsec),	1,
@


1.2
log
@Added version info, pkg message codes
@
text
@d17 1
a17 1
 *  $Header: pkg.h,v 8.2 89/01/19 19:48:42 mike Exp $
d19 2
a20 1
#define PROTOCOL_VERSION	"$Header$"
d40 1
d50 1
@


1.1
log
@Initial revision
@
text
@d4 14
d19 11
@
