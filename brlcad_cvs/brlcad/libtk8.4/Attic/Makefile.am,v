head	1.6;
access;
symbols
	postmerge-20040405-ansi:1.4
	premerge-20040404-ansi:1.4
	postmerge-autoconf:1.2
	autoconf-freeze:1.1.2.11
	autoconf-20031203:1.1.2.1
	autoconf-20031202:1.1.2.1
	autoconf-branch:1.1.0.2;
locks; strict;
comment	@# @;


1.6
date	2004.05.21.17.59.52;	author morrison;	state dead;
branches;
next	1.5;

1.5
date	2004.04.08.12.16.47;	author erikg;	state Exp;
branches;
next	1.4;

1.4
date	2004.03.23.19.24.58;	author erikg;	state Exp;
branches;
next	1.3;

1.3
date	2004.03.23.18.46.50;	author erikg;	state Exp;
branches;
next	1.2;

1.2
date	2004.03.18.18.16.36;	author erikg;	state Exp;
branches;
next	1.1;

1.1
date	2003.12.02.19.33.54;	author erikg;	state dead;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2003.12.02.19.33.54;	author erikg;	state Exp;
branches;
next	1.1.2.2;

1.1.2.2
date	2003.12.04.14.21.39;	author erikg;	state Exp;
branches;
next	1.1.2.3;

1.1.2.3
date	2003.12.04.16.00.15;	author erikg;	state Exp;
branches;
next	1.1.2.4;

1.1.2.4
date	2003.12.04.19.19.58;	author erikg;	state Exp;
branches;
next	1.1.2.5;

1.1.2.5
date	2003.12.15.22.04.03;	author erikg;	state Exp;
branches;
next	1.1.2.6;

1.1.2.6
date	2003.12.23.21.30.45;	author erikg;	state Exp;
branches;
next	1.1.2.7;

1.1.2.7
date	2003.12.29.14.58.58;	author erikg;	state Exp;
branches;
next	1.1.2.8;

1.1.2.8
date	2003.12.29.19.54.12;	author erikg;	state Exp;
branches;
next	1.1.2.9;

1.1.2.9
date	2004.01.07.20.16.11;	author erikg;	state Exp;
branches;
next	1.1.2.10;

1.1.2.10
date	2004.02.12.19.01.58;	author erikg;	state dead;
branches;
next	1.1.2.11;

1.1.2.11
date	2004.02.24.19.57.47;	author erikg;	state Exp;
branches;
next	;


desc
@@


1.6
log
@moved from top-level to src/other/.
@
text
@# $Id: Makefile.am,v 1.5 2004/04/08 12:16:47 erikg Exp $

configure:
	mkdir -p build
	(cd build && \
		${top_srcdir}/../libtk8.4/unix/configure  \
		--srcdir=${top_srcdir}/../libtk8.4/unix \
		--enable-shared \
		--exec-prefix=${prefix} \
		--prefix=${prefix} \
		--x-includes=@@X_PREFIX@@/include \
		--x-libraries=@@X_PREFIX@@/lib \
		--with-tcl=${top_builddir}/../libtcl8.4/build\
	)


all-am:
	if [ ! -d build ] ; then $(MAKE) configure ; fi
	if [ ! -e build/Makefile ] ; then rm -rf build && $(MAKE) configure ; fi
	$(MAKE) -$(MAKEFLAGS) -C build all

install-am: all-am
	$(MAKE) -$(MAKEFLAGS) -C build install

clean-am:
	rm -rf build
@


1.5
log
@list all-am as dep for install-am (so ./configure&&make install works...)
@
text
@d1 1
a1 1
# $Id$
@


1.4
log
@use $(MAKE) instead of make, in case make is not the GNU make...
@
text
@d22 1
a22 1
install-am:
@


1.3
log
@use native build system for tcl/tk
@
text
@d18 2
a19 2
	if [ ! -d build ] ; then make configure ; fi
	if [ ! -e build/Makefile ] ; then rm -rf build && make configure ; fi
@


1.2
log
@merge of AUTOCONF branch in to HEAD
@
text
@d3 12
a14 1
SUBDIRS = xlib bitmaps generic unix doc library
a15 6
bin_PROGRAMS = wish
#lib_LTLIBRARIES = libtk.la
 
#libtk_la_SOURCES = generic/libtkgeneric.la unix/libtkunix.la
#libtk_la_LIBADD = $(libtk_la_SOURCES)
#libtk_la_LDFLAGS = -version-info 8:4
d17 4
a20 5
lib_LTLIBRARIES = libtk8.4.la
 
libtk8_4_la_SOURCES = generic/libtkgeneric.la unix/libtkunix.la
libtk8_4_la_LIBADD = $(libtk8_4_la_SOURCES)
libtk8_4_la_LDFLAGS = -version-info 1
d22 5
a26 4
wish_SOURCES = unix/tkAppInit.c
# lib_LTLIBRARIES is a redundancy to help the dependancy graph
wish_LDADD = $(lib_LTLIBRARIES) @@TK_LIBS@@
wish_CFLAGS = @@X_CFLAGS@@
@


1.1
log
@file Makefile.am was initially added on branch AUTOCONF.
@
text
@d1 21
@


1.1.2.1
log
@muchos autoconf fixes, libtcl and libtk are now built with the rest of the
system, instead of trying to use the pre-installed versions
@
text
@a0 7
SUBDIRS = generic unix

lib_LTLIBRARIES = libtk.la
 
libtk_la_SOURCES = generic/libtkgeneric.la unix/libtkunix.la
libtk_la_LIBADD = $(libtk_la_SOURCES)

@


1.1.2.2
log
@tcl scripts need to be installed
@
text
@d1 1
a1 1
SUBDIRS = generic unix doc
@


1.1.2.3
log
@fill.
added id tags where needed
@
text
@a0 2
# $Id$

@


1.1.2.4
log
@adding more automake stuff
removed some files that are now generated
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.1.2.3 2003/12/04 16:00:15 erikg Exp $
d3 1
a3 1
SUBDIRS = generic unix doc library
@


1.1.2.5
log
@make dist fixes
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.1.2.4 2003/12/04 19:19:58 erikg Exp $
d3 1
a3 1
SUBDIRS = xlib bitmaps generic unix doc library
@


1.1.2.6
log
@normalization
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.1.2.5 2003/12/15 22:04:03 erikg Exp $
a4 1
bin_PROGRAMS = wish
a9 3

wish_SOURCES = unix/tkAppInit.c
wish_LDADD = @@TK_LIBS@@
@


1.1.2.7
log
@version fix (real version, not our 19:1)
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.1.2.6 2003/12/23 21:30:45 erikg Exp $
d6 1
a6 1
#lib_LTLIBRARIES = libtk.la
d8 2
a9 3
#libtk_la_SOURCES = generic/libtkgeneric.la unix/libtkunix.la
#libtk_la_LIBADD = $(libtk_la_SOURCES)
#libtk_la_LDFLAGS = -version-info 8:4
a10 5
lib_LTLIBRARIES = libtk8.4.la
 
libtk8_4_la_SOURCES = generic/libtkgeneric.la unix/libtkunix.la
libtk8_4_la_LIBADD = $(libtk8_4_la_SOURCES)
libtk8_4_la_LDFLAGS = -version-info 1
@


1.1.2.8
log
@bsd fixes
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.1.2.7 2003/12/29 14:58:58 erikg Exp $
a19 1
wish_CFLAGS = @@X_CFLAGS@@
@


1.1.2.9
log
@ugly kluge to force dependancy graph so it doesn't die on big fat parallel
builds. (amounts to a redundant library listing)
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.1.2.8 2003/12/29 19:54:12 erikg Exp $
d19 1
a19 2
# lib_LTLIBRARIES is a redundancy to help the dependancy graph
wish_LDADD = $(lib_LTLIBRARIES) @@TK_LIBS@@
@


1.1.2.10
log
@merge from HEAD
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.1.2.9 2004/01/07 20:16:11 erikg Exp $
@


1.1.2.11
log
@revived.
@
text
@@


