head	1.6;
access;
symbols
	postmerge-20040405-ansi:1.4
	premerge-20040404-ansi:1.4
	postmerge-autoconf:1.2
	autoconf-freeze:1.1.2.11
	autoconf-20031203:1.1.2.2
	autoconf-20031202:1.1.2.2
	autoconf-branch:1.1.0.2;
locks; strict;
comment	@# @;


1.6
date	2004.05.21.18.02.52;	author morrison;	state dead;
branches;
next	1.5;

1.5
date	2004.04.08.12.16.47;	author erikg;	state Exp;
branches;
next	1.4;

1.4
date	2004.03.23.19.24.58;	author erikg;	state Exp;
branches;
next	1.3;

1.3
date	2004.03.23.18.46.50;	author erikg;	state Exp;
branches;
next	1.2;

1.2
date	2004.03.18.18.16.08;	author erikg;	state Exp;
branches;
next	1.1;

1.1
date	2003.11.14.19.30.19;	author erikg;	state dead;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2003.11.14.19.30.19;	author erikg;	state Exp;
branches;
next	1.1.2.2;

1.1.2.2
date	2003.12.02.19.33.53;	author erikg;	state Exp;
branches;
next	1.1.2.3;

1.1.2.3
date	2003.12.04.14.21.35;	author erikg;	state Exp;
branches;
next	1.1.2.4;

1.1.2.4
date	2003.12.04.16.00.14;	author erikg;	state Exp;
branches;
next	1.1.2.5;

1.1.2.5
date	2003.12.23.21.30.45;	author erikg;	state Exp;
branches;
next	1.1.2.6;

1.1.2.6
date	2003.12.29.14.57.35;	author erikg;	state Exp;
branches;
next	1.1.2.7;

1.1.2.7
date	2003.12.29.15.57.47;	author erikg;	state Exp;
branches;
next	1.1.2.8;

1.1.2.8
date	2004.01.06.14.17.53;	author erikg;	state Exp;
branches;
next	1.1.2.9;

1.1.2.9
date	2004.01.07.20.16.10;	author erikg;	state Exp;
branches;
next	1.1.2.10;

1.1.2.10
date	2004.02.12.18.56.32;	author erikg;	state dead;
branches;
next	1.1.2.11;

1.1.2.11
date	2004.02.24.19.57.42;	author erikg;	state Exp;
branches;
next	;


desc
@@


1.6
log
@moved from top-level to src/other/.
@
text
@# $Id: Makefile.am,v 1.5 2004/04/08 12:16:47 erikg Exp $

configure:
	mkdir -p build
	(cd build && \
		${top_srcdir}/../libtcl8.4/unix/configure  \
		--srcdir=${top_srcdir}/../libtcl8.4/unix \
		--enable-shared \
		--exec-prefix=${prefix} \
		--prefix=${prefix} \
		--x-includes=@@X_PREFIX@@/include \
		--x-libraries=@@X_PREFIX@@/lib \
		--with-tcl=${top_builddir}/../libtcl8.4\
	)

all-am:
	if [ ! -d build ] ; then $(MAKE) configure ; fi
	if [ ! -e build/Makefile ] ; then rm -rf build && $(MAKE) configure ; fi
	(cd build && $(MAKE) -$(MAKEFLAGS))

install-am: all-am
	(cd build && $(MAKE) -$(MAKEFLAGS) install)

clean-am:
	rm -rf build
@


1.5
log
@list all-am as dep for install-am (so ./configure&&make install works...)
@
text
@d1 1
a1 1
# $Id$
@


1.4
log
@use $(MAKE) instead of make, in case make is not the GNU make...
@
text
@d21 1
a21 1
install-am:
@


1.3
log
@use native build system for tcl/tk
@
text
@d17 2
a18 2
	if [ ! -d build ] ; then make configure ; fi
	if [ ! -e build/Makefile ] ; then rm -rf build && make configure ; fi
@


1.2
log
@merge of AUTOCONF branch in to HEAD
@
text
@d3 12
a14 1
SUBDIRS = generic unix doc library
d16 4
a19 6
bin_PROGRAMS = tclsh
#lib_LTLIBRARIES = libtcl.la
 
#libtcl_la_SOURCES = generic/libtclgeneric.la unix/libtclunix.la
#libtcl_la_LIBADD = $(libtcl_la_SOURCES)
#libtcl_la_LDFLAGS = -version-info 1 -release 8.4
d21 2
a22 5
# Ugh.
lib_LTLIBRARIES = libtcl8.4.la
libtcl8_4_la_SOURCES = generic/libtclgeneric.la unix/libtclunix.la
libtcl8_4_la_LIBADD = $(libtcl8_4_la_SOURCES)
libtcl8_4_la_LDFLAGS = -version-info 1
d24 2
a25 3
tclsh_SOURCES = unix/tclAppInit.c
# the lib_LTLIBRARIES is to help the dependancy graph
tclsh_LDADD = $(lib_LTLIBRARIES) @@TCL_LIBS@@
@


1.1
log
@file Makefile.am was initially added on branch AUTOCONF.
@
text
@d1 20
@


1.1.2.1
log
@starting merged autoconf of libtcl84
@
text
@a0 1
SUBDIRS = generic unix
@


1.1.2.2
log
@muchos autoconf fixes, libtcl and libtk are now built with the rest of the
system, instead of trying to use the pre-installed versions
@
text
@a1 6

lib_LTLIBRARIES = libtcl.la
 
libtcl_la_SOURCES = generic/libtclgeneric.la unix/libtclunix.la
libtcl_la_LIBADD = $(libtcl_la_SOURCES)

@


1.1.2.3
log
@tcl scripts need to be installed
@
text
@d1 1
a1 1
SUBDIRS = generic unix doc library
@


1.1.2.4
log
@fill.
added id tags where needed
@
text
@a0 2
# $Id$

@


1.1.2.5
log
@normalization
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.1.2.4 2003/12/04 16:00:14 erikg Exp $
a4 1
bin_PROGRAMS = tclsh
a9 2
tclsh_SOURCES = unix/tclAppInit.c
tclsh_LDADD = libtcl.la -lm @@DL@@
@


1.1.2.6
log
@version fix (real version, not our 19:1)
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.1.2.5 2003/12/23 21:30:45 erikg Exp $
d6 1
a6 1
#lib_LTLIBRARIES = libtcl.la
d8 2
a9 9
#libtcl_la_SOURCES = generic/libtclgeneric.la unix/libtclunix.la
#libtcl_la_LIBADD = $(libtcl_la_SOURCES)
#libtcl_la_LDFLAGS = -version-info 1 -release 8.4

# Ugh.
lib_LTLIBRARIES = libtcl8.4.la
libtcl8_4_la_SOURCES = generic/libtclgeneric.la unix/libtclunix.la
libtcl8_4_la_LIBADD = $(libtcl8_4_la_SOURCES)
libtcl8_4_la_LDFLAGS = -version-info 1
@


1.1.2.7
log
@bad flag for tclsh fixed...
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.1.2.6 2003/12/29 14:57:35 erikg Exp $
d19 1
a19 1
tclsh_LDADD = libtcl8.4.la -lm @@DL@@
@


1.1.2.8
log
@use TCL_LIBS var instead of repeating the line
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.1.2.7 2003/12/29 15:57:47 erikg Exp $
d19 1
a19 1
tclsh_LDADD = @@TCL_LIBS@@
@


1.1.2.9
log
@ugly kluge to force dependancy graph so it doesn't die on big fat parallel
builds. (amounts to a redundant library listing)
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.1.2.8 2004/01/06 14:17:53 erikg Exp $
d19 1
a19 2
# the lib_LTLIBRARIES is to help the dependancy graph
tclsh_LDADD = $(lib_LTLIBRARIES) @@TCL_LIBS@@
@


1.1.2.10
log
@merge from HEAD
@
text
@d1 1
a1 1
# $Id: Makefile.am,v 1.1.2.9 2004/01/07 20:16:10 erikg Exp $
@


1.1.2.11
log
@revived.
@
text
@@


