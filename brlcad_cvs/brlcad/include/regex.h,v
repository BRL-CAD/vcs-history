head	14.6;
access;
symbols
	rel-7-10-4:14.6
	STABLE:14.6.0.2
	stable-branch:14.2
	rel-7-10-2:14.6
	rel-7-10-0:14.5
	rel-7-8-4:14.4
	rel-7-8-2:14.4
	rel-7-8-0:14.4
	trimnurbs-branch:14.4.0.8
	help:14.4
	temp_tag:14.4
	bobWinPort-20051223-freeze:14.4
	postmerge-20051223-bobWinPort:14.4
	premerge-20051223-bobWinPort:14.4
	rel-7-6-6:14.4
	rel-7-6-4:14.4
	rel-7-6-2:14.4
	rel-7-6-branch:14.4.0.6
	rel-7-6-0:14.4
	rel-7-4-2:14.4
	rel-7-4-branch:14.4.0.4
	bobWinPort:14.4.0.2
	rel-7-4-0:14.4
	rel-7-2-6:14.4
	rel-7-2-4:14.3
	rel-7-2-2:14.2
	rel-7-2-0:14.1
	rel-7-0-4:14.1
	rel-7-0-2:14.1
	rel-7-0-1:14.1
	opensource-post:14.1
	opensource-pre:1.2
	rel-7-0-branch:1.2.0.2
	rel-7-0:1.2;
locks; strict;
comment	@ * @;


14.6
date	2007.05.14.18.28.11;	author bob1961;	state Exp;
branches;
next	14.5;

14.5
date	2007.01.15.06.26.12;	author brlcad;	state Exp;
branches;
next	14.4;

14.4
date	2005.05.28.02.14.49;	author brlcad;	state Exp;
branches;
next	14.3;

14.3
date	2005.05.08.05.27.59;	author brlcad;	state Exp;
branches;
next	14.2;

14.2
date	2005.03.24.16.42.29;	author bob1961;	state Exp;
branches;
next	14.1;

14.1
date	2004.11.16.19.42.10;	author morrison;	state Exp;
branches;
next	1.2;

1.2
date	2004.09.20.05.37.36;	author morrison;	state Exp;
branches;
next	1.1;

1.1
date	2004.09.20.05.29.45;	author morrison;	state Exp;
branches;
next	;


desc
@@


14.6
log
@Change SYSV_EXPORT to REGEX_EXPORT
@
text
@/* Copyright (c) 1992 Henry Spencer.
 * Copyright (c) 1992, 1993
 *	The Regents of the University of California.  All rights reserved.
 *
 * This code is derived from software contributed to Berkeley by
 * Henry Spencer of the University of Toronto.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *  * Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *  * Neither the name of the University nor the names of its contributors
 *    may be used to endorse or promote products derived from this software
 *    without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
 * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
 * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
 * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 *
 *	@@(#)regex.h	8.1 (Berkeley) 6/2/93
 */

#ifndef _REGEX_H_
#define	_REGEX_H_

#include "common.h"

#ifndef REGEX_EXPORT
#  if defined(_WIN32) && !defined(__CYGWIN__) && defined(BRLCAD_DLL)
#    ifdef REGEX_EXPORT_DLL
#      define REGEX_EXPORT __declspec(dllexport)
#    else
#      define REGEX_EXPORT __declspec(dllimport)
#    endif
#  else
#    define REGEX_EXPORT
#  endif
#endif

#include <sys/types.h>

/* types */

/* ugly hack to make non-MS windows compilers work */
#if defined(_WIN32) && !defined(_MSC_VER) && !defined(_OFF_T_)
#define _OFF_T_
typedef long off_t;
#endif

typedef off_t regoff_t;

typedef struct {
	int re_magic;
	size_t re_nsub;		/* number of parenthesized subexpressions */
	const char *re_endp;	/* end pointer for REG_PEND */
	struct re_guts *re_g;	/* none of your business :-) */
} regex_t;

typedef struct {
	regoff_t rm_so;		/* start of match */
	regoff_t rm_eo;		/* end of match */
} regmatch_t;

/* regcomp() flags */
#define	REG_BASIC	0000
#define	REG_EXTENDED	0001
#define	REG_ICASE	0002
#define	REG_NOSUB	0004
#define	REG_NEWLINE	0010
#define	REG_NOSPEC	0020
#define	REG_PEND	0040
#define	REG_DUMP	0200

/* regerror() flags */
#define	REG_NOMATCH	 1
#define	REG_BADPAT	 2
#define	REG_ECOLLATE	 3
#define	REG_ECTYPE	 4
#define	REG_EESCAPE	 5
#define	REG_ESUBREG	 6
#define	REG_EBRACK	 7
#define	REG_EPAREN	 8
#define	REG_EBRACE	 9
#define	REG_BADBR	10
#define	REG_ERANGE	11
#define	REG_ESPACE	12
#define	REG_BADRPT	13
#define	REG_EMPTY	14
#define	REG_ASSERT	15
#define	REG_INVARG	16
#define	REG_ATOI	255	/* convert name to number (!) */
#define	REG_ITOA	0400	/* convert number to name (!) */

/* regexec() flags */
#define	REG_NOTBOL	00001
#define	REG_NOTEOL	00002
#define	REG_STARTEND	00004
#define	REG_TRACE	00400	/* tracing of execution */
#define	REG_LARGE	01000	/* force large representation */
#define	REG_BACKR	02000	/* force use of backref code */

__BEGIN_DECLS
REGEX_EXPORT int	regcomp (regex_t *, const char *, int);
REGEX_EXPORT size_t	regerror (int, const regex_t *, char *, size_t);
REGEX_EXPORT int	regexec (const regex_t *, const char *, size_t, regmatch_t [], int);
REGEX_EXPORT void	regfree (regex_t *);
__END_DECLS

#endif /* !_REGEX_H_ */

/*
 * Local Variables:
 * mode: C
 * tab-width: 8
 * c-basic-offset: 4
 * indent-tabs-mode: t
 * End:
 * ex: shiftwidth=4 tabstop=8
 */
@


14.5
log
@Pedantic licensing update to retract the "BSD Advertising Clause", i.e. clause 3 of the original 4-clause BSD license.  As granted by William Hoskins, Director to the Office of Technology Licensing at the University of California, Berkeley, update the license on code copyrighted by Berkeley to retract the advertising clause.  See ftp://ftp.cs.berkeley.edu/pub/4bsd/README.Impt.License.Change for details.
@
text
@d40 1
a40 1
#ifndef SYSV_EXPORT
d42 2
a43 2
#    ifdef SYSV_EXPORT_DLL
#      define SYSV_EXPORT __declspec(dllexport)
d45 1
a45 1
#      define SYSV_EXPORT __declspec(dllimport)
d48 1
a48 1
#    define SYSV_EXPORT
d115 4
a118 4
SYSV_EXPORT int	regcomp (regex_t *, const char *, int);
SYSV_EXPORT size_t	regerror (int, const regex_t *, char *, size_t);
SYSV_EXPORT int	regexec (const regex_t *, const char *, size_t, regmatch_t [], int);
SYSV_EXPORT void	regfree (regex_t *);
@


14.4
log
@convert WIN32 define checks to _WIN32 since the latter is one of the defaults provided by MSVC whereas the prior is not.  remove some of them related to header inclusions using HAVE_ defines instead.
@
text
@d1 1
a1 4
/*	$NetBSD: regex.h,v 1.4 1994/10/26 00:56:14 cgd Exp $	*/

/*-
 * Copyright (c) 1992 Henry Spencer.
d11 1
a11 1
 * 1. Redistributions of source code must retain the above copyright
d13 1
a13 1
 * 2. Redistributions in binary form must reproduce the above copyright
d16 1
a16 5
 * 3. All advertising materials mentioning features or use of this software
 *    must display the following acknowledgement:
 *	This product includes software developed by the University of
 *	California, Berkeley and its contributors.
 * 4. Neither the name of the University nor the names of its contributors
@


14.3
log
@consolidate the __cplusplus external declaration sections that protect C functions from C++ name mangling by using the same __BEGIN_DECLS and __END_DECLS macros in our headers (3rd party are mostly left alone).  works indentation a little too.
@
text
@d48 1
a48 1
#  if defined(WIN32) && !defined(__CYGWIN__) && defined(BRLCAD_DLL)
@


14.2
log
@Add another condition for deciding how to define SYSV_EXPORT (allows for static compile)
@
text
@a58 9

#ifdef __cplusplus
#  define __BEGIN_DECLS   extern "C" {
#  define __END_DECLS     }
#else
#  define __BEGIN_DECLS
#  define __END_DECLS
#endif

@


14.1
log
@dawn of a new revision.  it shall be numbered 14 to match release 7.  begin the convergence by adding emacs/vi local variable footer blocks to encourage consistent formatting.
@
text
@d48 1
a48 1
#  if defined(WIN32) && !defined(__CYGWIN__)
@


1.2
log
@revert back to making regex.h work
@
text
@d138 10
@


1.1
log
@really need this puppy to behave with the given name even if there's a system header of the same name.  plus libregex is still looking for it instead of brlregex.h.
@
text
@d45 14
a58 1
/* From #include <sys/cdefs.h> */
d131 4
a134 4
int	regcomp (regex_t *, const char *, int);
size_t	regerror (int, const regex_t *, char *, size_t);
int	regexec (const regex_t *, const char *, size_t, regmatch_t [], int);
void	regfree (regex_t *);
@

