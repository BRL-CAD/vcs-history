head	1.7;
access;
symbols
	ansi-20040405-merged:1.4.4.1
	postmerge-20040405-ansi:1.5
	premerge-20040404-ansi:1.5
	postmerge-autoconf:1.5
	autoconf-freeze:1.4.12.1
	premerge-autoconf:1.5
	postmerge-20040315-windows:1.5
	premerge-20040315-windows:1.5
	windows-20040315-freeze:1.4.6.1
	autoconf-20031203:1.4
	autoconf-20031202:1.4
	autoconf-branch:1.4.0.12
	phong-branch:1.4.0.10
	photonmap-branch:1.4.0.8
	rel-6-1-DP:1.4
	windows-branch:1.4.0.6
	rel-6-0-2:1.4
	ansi-branch:1.4.0.4
	rel-6-0-1-branch:1.4.0.2
	hartley-6-0-post:1.4
	hartley-6-0-pre:1.4
	rel-6-0-1:1.4
	rel-6-0:1.4
	rel-5-4:1.2.2.3
	offsite-5-3-pre:1.4
	rel-5-3:1.2.2.3
	rel-5-2:1.2.2.1
	rel-5-1-branch:1.2.0.2;
locks; strict;
comment	@# @;


1.7
date	2004.05.21.16.41.19;	author morrison;	state dead;
branches;
next	1.6;

1.6
date	2004.05.10.15.25.29;	author morrison;	state Exp;
branches;
next	1.5;

1.5
date	2004.02.02.17.39.43;	author morrison;	state Exp;
branches;
next	1.4;

1.4
date	2001.01.19.22.18.58;	author bparker;	state Exp;
branches
	1.4.4.1
	1.4.6.1
	1.4.12.1;
next	1.3;

1.3
date	2001.01.11.23.19.58;	author bparker;	state Exp;
branches;
next	1.2;

1.2
date	2000.07.18.21.08.19;	author bparker;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	2000.07.13.13.26.19;	author bparker;	state Exp;
branches;
next	;

1.2.2.1
date	2000.08.16.16.56.02;	author bparker;	state Exp;
branches;
next	1.2.2.2;

1.2.2.2
date	2001.01.11.23.18.02;	author bparker;	state Exp;
branches;
next	1.2.2.3;

1.2.2.3
date	2001.01.19.21.58.55;	author bparker;	state Exp;
branches;
next	;

1.4.4.1
date	2004.03.17.21.23.04;	author morrison;	state Exp;
branches;
next	;

1.4.6.1
date	2004.03.11.23.48.51;	author morrison;	state Exp;
branches;
next	;

1.4.12.1
date	2004.02.12.18.34.48;	author erikg;	state Exp;
branches;
next	;


desc
@@


1.7
log
@moved to src/tclscripts/
@
text
@##                 C O M B O B O X . T C L
#
# Author -
#	Bob Parker
#
# Source -
#	The U. S. Army Research Laboratory
#	Aberdeen Proving Ground, Maryland  21005
#
# Distribution Notice -
#	Re-distribution of this software is restricted, as described in
#       your "Statement of Terms and Conditions for the Release of
#       The BRL-CAD Package" agreement.
#
# Copyright Notice -
#       This software is Copyright (C) 1998-2004 by the United States Army
#       in all countries except the USA.  All rights reserved.
#
# Description -
#	The ComboBox combines an entry widget with a menubutton and menu.
#


::itk::usual ComboBox {
    keep -tearoff
}

::itcl::class cadwidgets::ComboBox {
    inherit ::itk::Widget

    itk_option define -text text Text ""

    constructor {args} {}
    destructor {}

    # menu stuff
    public method add {args}
    public method delete {args}
    public method menuConfigure {args}
    public method menuEntryConfigure {args}
    public method index {args}
    public method insert {args}
    public method type {index}

    # entry stuff
    public method entryConfigure {args}
    public method getText {}
    public method setText {val}

    private variable entrytext ""
}

::itcl::configbody cadwidgets::ComboBox::text {
    $itk_component(label) configure -text $itk_option(-text)
}

::itcl::body cadwidgets::ComboBox::constructor {args} {
    itk_component add frame {
	::frame $itk_interior.frame -relief sunken -bd 2
    } {
	usual
    }

    itk_component add label {
	::label $itk_interior.label
    } {
	usual
    }

    itk_component add entry {
	::entry $itk_interior.entry -relief flat -width 12
    } {
	usual
	keep -state
	rename -textvariable -entryvariable entryvariable Text
    }

    itk_component add menubutton {
	::menubutton $itk_interior.menubutton -relief raised -bd 2 \
		-menu $itk_interior.menubutton.m -indicatoron 1
    } {
	usual
    }

    itk_component add menu {
	::menu $itk_interior.menubutton.m
    } {
	usual
	keep -tearoff
    }

    grid $itk_component(entry) $itk_component(menubutton) \
	    -sticky "nsew" -in $itk_component(frame)
    grid rowconfigure $itk_component(frame) 0 -weight 1
    grid columnconfigure $itk_component(frame) 0 -weight 1
    grid $itk_component(label) $itk_component(frame) -sticky "nsew"
    grid rowconfigure $itk_interior 0 -weight 1
    grid columnconfigure $itk_interior 1 -weight 1

    # Associate the entrytext variable with the entry component
    configure -entryvariable [::itcl::scope entrytext]
    eval itk_initialize $args
}

::itcl::body cadwidgets::ComboBox::add {args} {
    eval $itk_component(menu) add $args
}

::itcl::body cadwidgets::ComboBox::delete {args} {
    eval $itk_component(menu) delete $args
}

::itcl::body cadwidgets::ComboBox::menuConfigure {args} {
    eval $itk_component(menu) configure $args
}

::itcl::body cadwidgets::ComboBox::menuEntryConfigure {args} {
    eval $itk_component(menu) entryconfigure $args
}

::itcl::body cadwidgets::ComboBox::index {args} {
    eval $itk_component(menu) index $args
}

::itcl::body cadwidgets::ComboBox::insert {args} {
    eval $itk_component(menu) insert $args
}

::itcl::body cadwidgets::ComboBox::entryConfigure {args} {
    eval $itk_component(entry) configure $args
}

::itcl::body cadwidgets::ComboBox::getText {} {
    set ev [cget -entryvariable]

    # $-substitution should work, but doesn't
    return [set $ev]
}

::itcl::body cadwidgets::ComboBox::setText {val} {
    set ev [cget -entryvariable]
    set $ev $val
}

::itcl::body cadwidgets::ComboBox::type {index} {
    $itk_component(menu) type $index
}
@


1.6
log
@Bob Parker's view modifications, png framebuffer support, shaded drawing mode
@
text
@@


1.5
log
@update copyright to include span through 2003
@
text
@d24 1
a24 1
itk::usual ComboBox {
d28 2
a29 2
class cadwidgets::ComboBox {
    inherit itk::Widget
d53 1
a53 1
configbody cadwidgets::ComboBox::text {
d57 1
a57 1
body cadwidgets::ComboBox::constructor {args} {
d59 1
a59 1
	frame $itk_interior.frame -relief sunken -bd 2
d65 1
a65 1
	label $itk_interior.label
d71 1
a71 1
	entry $itk_interior.entry -relief flat -width 12
d79 1
a79 1
	menubutton $itk_interior.menubutton -relief raised -bd 2 \
d86 1
a86 1
	menu $itk_interior.menubutton.m
d101 1
a101 1
    configure -entryvariable [scope entrytext]
d105 1
a105 1
body cadwidgets::ComboBox::add {args} {
d109 1
a109 1
body cadwidgets::ComboBox::delete {args} {
d113 1
a113 1
body cadwidgets::ComboBox::menuConfigure {args} {
d117 1
a117 1
body cadwidgets::ComboBox::menuEntryConfigure {args} {
d121 1
a121 1
body cadwidgets::ComboBox::index {args} {
d125 1
a125 1
body cadwidgets::ComboBox::insert {args} {
d129 1
a129 1
body cadwidgets::ComboBox::entryConfigure {args} {
d133 1
a133 1
body cadwidgets::ComboBox::getText {} {
d140 1
a140 1
body cadwidgets::ComboBox::setText {val} {
d145 1
a145 1
body cadwidgets::ComboBox::type {index} {
@


1.4
log
@Add -tearoff to master options list
@
text
@d16 1
a16 1
#       This software is Copyright (C) 1998 by the United States Army
@


1.4.4.1
log
@sync branch with HEAD
@
text
@d16 1
a16 1
#       This software is Copyright (C) 1998-2004 by the United States Army
@


1.4.6.1
log
@sync to HEAD...
@
text
@d16 1
a16 1
#       This software is Copyright (C) 1998-2004 by the United States Army
@


1.4.12.1
log
@merge from HEAD
@
text
@d16 1
a16 1
#       This software is Copyright (C) 1998-2004 by the United States Army
@


1.3
log
@*- added an option to ComboBox's (entryvariable) so that it
   could use an applications variable
@
text
@d24 3
a26 3
#itk::usual Display {
#    keep -tearoff
#}
d60 3
a62 1
    } {}
d89 1
@


1.2
log
@A few method names changed.
@
text
@d23 5
d69 1
a69 2
	entry $itk_interior.entry -relief flat -width 12 \
		-textvariable [scope entrytext]
d72 2
d79 3
a81 1
    } {}
d84 4
a87 2
	menu $itk_interior.menubutton.m -tearoff 0
    } {}
d97 2
d131 4
a134 1
    return $entrytext
d138 2
a139 1
    set entrytext $val
@


1.2.2.1
log
@Adding classes from main branch of source tree.
@
text
@@


1.2.2.2
log
@*- added an option to ComboBox's (entryvariable) so that it
   could use an applications variable
@
text
@a22 5

#itk::usual Display {
#    keep -tearoff
#}

d64 2
a65 1
	entry $itk_interior.entry -relief flat -width 12
a67 2
	keep -state
	rename -textvariable -entryvariable entryvariable Text
d73 1
a73 3
    } {
	usual
    }
d76 2
a77 4
	menu $itk_interior.menubutton.m
    } {
	usual
    }
a86 2
    # Associate the entrytext variable with the entry component
    configure -entryvariable [scope entrytext]
d119 1
a119 4
    set ev [cget -entryvariable]

    # $-substitution should work, but doesn't
    return [set $ev]
d123 1
a123 2
    set ev [cget -entryvariable]
    set $ev $val
@


1.2.2.3
log
@Add -tearoff option to master options list.
@
text
@d24 3
a26 3
itk::usual ComboBox {
    keep -tearoff
}
d60 1
a60 3
    } {
	usual
    }
a86 1
	keep -tearoff
@


1.1
log
@Combination entry, menubutton and menu.
@
text
@d34 2
a35 1
    public method entryconfigure {args}
d41 3
a43 2
    public method gettext {}
    public method settext {val}
d98 5
a102 1
body cadwidgets::ComboBox::entryconfigure {args} {
d114 5
a118 1
body cadwidgets::ComboBox::gettext {} {
d122 1
a122 1
body cadwidgets::ComboBox::settext {val} {
@

