head	1.4;
access;
symbols
	ansi-20040405-merged:1.2.2.1
	postmerge-20040405-ansi:1.3
	premerge-20040404-ansi:1.3
	postmerge-autoconf:1.3
	autoconf-freeze:1.3
	premerge-autoconf:1.3
	postmerge-20040315-windows:1.3
	premerge-20040315-windows:1.3
	windows-20040315-freeze:1.2.4.1
	autoconf-20031203:1.3
	autoconf-20031202:1.3
	autoconf-branch:1.3.0.6
	phong-branch:1.3.0.4
	photonmap-branch:1.3.0.2
	rel-6-1-DP:1.2
	windows-branch:1.2.0.4
	ansi-branch:1.2.0.2;
locks; strict;
comment	@# @;


1.4
date	2004.05.21.16.41.19;	author morrison;	state dead;
branches;
next	1.3;

1.3
date	2003.03.13.19.45.30;	author jra;	state Exp;
branches;
next	1.2;

1.2
date	2002.09.05.23.38.06;	author morrison;	state Exp;
branches
	1.2.2.1
	1.2.4.1;
next	1.1;

1.1
date	2002.08.23.12.07.19;	author morrison;	state Exp;
branches;
next	;

1.2.2.1
date	2004.03.17.21.23.04;	author morrison;	state Exp;
branches;
next	;

1.2.4.1
date	2004.03.11.23.48.46;	author morrison;	state Exp;
branches;
next	;


desc
@@


1.4
log
@moved to src/tclscripts/
@
text
@#
#   g e o m e t r e e . t c l 
#
# Author -
# 	Christopher Sean Morrison
#
# Source -
#		The U.S. Army Research Laboratory
#		Aberdeen Proving Ground, Maryland  21005
#
# Distribution Notice -
# 	Redistribution of this software is restricted, as described in your
# 	"Statement of Terms and Conditions for the Release of The BRL-CAD
# 	Package" agreement.
#
# Description -
#
# This is the GeometryBrowser main script.  It manages the loading and
# unloading of a GeometryBrowser object into mged automatically.
#
# The development version codename is "geometree"
# The final version will be "geometree" :-)
#

#
# Extend Autopath
#
if { [info exists ::env(BRLCAD_ROOT)] } {
    set rootDir $::env(BRLCAD_ROOT)
} else {
    set rootDir [file join / usr brlcad ]
} 
set geometreeDir [ file join $rootDir tclscripts geometree ]

lappend auto_path $geometreeDir

package require GeometryBrowser

# All GeometryBrowser stuff is in the GeometryBrowser namespace
proc geometree { } {
	global mged_gui
	global ::tk::Priv
	global mged_players

	# determine the framebuffer window id
	if { [ catch { set mged_players } _mgedFramebufferId ] } {
		puts $_mgedFramebufferId
		puts "assuming default mged framebuffer id: id_0"
		set _mgedFramebufferId "id_0"
	}
	# just in case there are more than one returned
	set _mgedFramebufferId [ lindex $_mgedFramebufferId 0 ]

	set gt .$_mgedFramebufferId.geometree

	# see if the window is already open.  If so, just raise it up.
	if [ winfo exists $gt ] {
		raise $gt
		return
	}

	# just to quell the tk name returned and report fatal errors
	if [ catch { GeometryBrowser $gt } gbName ] {
		puts $gbName
	}
}
@


1.3
log
@*** empty log message ***
@
text
@@


1.2
log
@test for exceptions when creating the GeometryBrowser object so that 1) we catch fatal errors and 2) we quietly catch the tk widget name that is returned
@
text
@d42 1
a42 1
	global tkPriv
@


1.2.2.1
log
@sync branch with HEAD
@
text
@d42 1
a42 1
	global ::tk::Priv
@


1.2.4.1
log
@sync to HEAD...
@
text
@d42 1
a42 1
	global ::tk::Priv
@


1.1
log
@added geometree command to simplify the loading of the geometry browser via the command-line and menu
@
text
@d62 4
a65 1
	GeometryBrowser $gt
@

