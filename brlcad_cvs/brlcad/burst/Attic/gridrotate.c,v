head	1.4;
access;
symbols
	ansi-20040405-merged:1.3
	postmerge-20040405-ansi:1.3
	premerge-20040404-ansi:1.3
	postmerge-autoconf:1.3
	autoconf-freeze:1.3
	premerge-autoconf:1.3
	ansi-20040316-freeze:1.3
	postmerge-20040315-windows:1.3
	premerge-20040315-windows:1.3
	windows-20040315-freeze:1.3
	autoconf-20031203:1.3
	autoconf-20031202:1.3
	autoconf-branch:1.3.0.12
	phong-branch:1.3.0.10
	photonmap-branch:1.3.0.8
	rel-6-1-DP:1.3
	windows-branch:1.3.0.6
	rel-6-0-2:1.3
	ansi-branch:1.3.0.4
	rel-6-0-1-branch:1.3.0.2
	hartley-6-0-post:1.3
	hartley-6-0-pre:1.3
	rel-6-0-1:1.3
	rel-6-0:1.3
	rel-5-4:1.2
	offsite-5-3-pre:1.3
	rel-5-3:1.2
	rel-5-2:1.2
	rel-5-1-branch:1.2.0.2
	rel-5-1:1.2
	rel-5-0:1.2
	rel-5-0-beta:1.2
	rel-4-5:1.2
	ctj-4-5-post:1.2
	ctj-4-5-pre:1.2
	rel-4-4:1.2
	rel-4-0:1.2
	rel-3-5:1.1;
locks; strict;
comment	@ * @;


1.4
date	2004.05.24.04.18.19;	author morrison;	state dead;
branches;
next	1.3;

1.3
date	2000.08.24.23.12.44;	author mike;	state Exp;
branches;
next	1.2;

1.2
date	91.01.15.13.53.24;	author moss;	state Exp;
branches;
next	1.1;

1.1
date	88.10.28.17.02.19;	author moss;	state Exp;
branches;
next	;


desc
@@


1.4
log
@moved to src/burst/
@
text
@/*
	Author:		Jeff Hanes
			U. S. Army Ballistic Research Laboratory
			Aberdeen Proving Ground
			Maryland 21005-5066

	Modified:	Gary S. Moss	(Added roll rotation.)
*/
#ifndef lint
static const char RCSid[] = "$Header: /n/xoff/cvs/brlcad/burst/gridrotate.c,v 1.3 2000/08/24 23:12:44 mike Exp $ (BRL)";
#endif
#include <math.h>
#include "machine.h"
#include "./vecmath.h"

void	gridRotate();

/*
	void	gridRotate( fastf_t azim, fastf_t elev, fastf_t roll,
			register fastf_t *des_H, register fastf_t *des_V )

	Creates the unit vectors H and V which are the horizontal
	and vertical components of the grid in target coordinates.
	The vectors are found from the azimuth and elivation of the
	viewing angle according to a simplification of the rotation
	matrix from grid coordinates to target coordinates.
	To see that the vectors are, indeed, unit vectors, recall
	the trigonometric relation:

		sin( A )^2  +  cos( A )^2  =  1 .

 */
void
gridRotate( azim, elev, roll, des_H, des_V )
fastf_t	azim, elev, roll;
register fastf_t	*des_H, *des_V;
	{	fastf_t	sn_azm = sin( azim );
		fastf_t	cs_azm = cos( azim );
		fastf_t	sn_elv = sin( elev );
	des_H[0] = -sn_azm;
	des_H[1] =  cs_azm;
	des_H[2] =  0.0;
	des_V[0] = -sn_elv*cs_azm;
	des_V[1] = -sn_elv*sn_azm;
	des_V[2] =  cos( elev );

	if( roll != 0.0 )
		{	fastf_t	tmp_V[3], tmp_H[3], prime_V[3];
			fastf_t	sn_roll = sin( roll );
			fastf_t	cs_roll = cos( roll );
		Scale2Vec( des_V, cs_roll, tmp_V );
		Scale2Vec( des_H, sn_roll, tmp_H );
		Add2Vec( tmp_V, tmp_H, prime_V );
		Scale2Vec( des_V, -sn_roll, tmp_V );
		Scale2Vec( des_H, cs_roll, tmp_H );
		Add2Vec( tmp_V, tmp_H, des_H );
		CopyVec( des_V, prime_V );
		}
	return;
	}
@


1.3
log
@
RCSid
@
text
@d10 1
a10 1
static const char RCSid[] = "$Header: /c/CVS/brlcad/burst/gridrotate.c,v 1.2 1991/01/15 13:53:24 moss Exp $ (BRL)";
@


1.2
log
@Removed author's phone number from top of file comment.  This will be
shipped as version 2.1.
@
text
@d10 1
a10 1
static char RCSid[] = "$Header: /vld/moss/src/burst/RCS/gridrotate.c,v 1.1 88/10/28 17:02:19 moss Exp $ (BRL)";
@


1.1
log
@Initial revision
@
text
@a5 1
			(301)278-6651 or AV-298-6651
d10 1
a10 1
static char RCSid[] = "$Header$ (BRL)";
@
