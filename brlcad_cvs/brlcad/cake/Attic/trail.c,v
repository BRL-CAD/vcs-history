head	11.3;
access;
symbols
	ansi-20040405-merged:11.2
	premerge-autoconf:11.2
	ansi-20040316-freeze:11.2
	postmerge-20040315-windows:11.2
	premerge-20040315-windows:11.2
	windows-20040315-freeze:11.2
	autoconf-20031203:11.2
	autoconf-20031202:11.2
	phong-branch:11.2.0.12
	photonmap-branch:11.2.0.10
	rel-6-1-DP:11.2
	windows-branch:11.2.0.8
	rel-6-0-2:11.2
	ansi-branch:11.2.0.6
	rel-6-0-1-branch:11.2.0.4
	hartley-6-0-post:11.2
	hartley-6-0-pre:11.2
	rel-6-0-1:11.2
	rel-6-0:11.2
	rel-5-4:11.2
	offsite-5-3-pre:11.2
	rel-5-3:11.2
	rel-5-2:11.2
	rel-5-1-branch:11.2.0.2
	rel-5-1:11.2
	rel-5-0:11.2
	rel-5-0-beta:11.2
	rel-4-5:11.2
	ctj-4-5-post:11.2
	ctj-4-5-pre:11.2
	rel-4-4:1.1
	rel-4-0:1.1
	rel-3-5:1.1
	rel-3-0:1.1
	AUTOCONF:11.2.0.14;
locks; strict;
comment	@ * @;


11.3
date	2004.03.18.18.15.14;	author erikg;	state dead;
branches;
next	11.2;

11.2
date	97.05.22.16.57.55;	author mike;	state Exp;
branches
	11.2.14.1;
next	11.1;

11.1
date	95.01.05.06.00.13;	author mike;	state Rel4_4;
branches;
next	1.1;

1.1
date	88.06.11.00.56.34;	author mike;	state Original;
branches;
next	;

11.2.14.1
date	2004.03.18.18.10.24;	author erikg;	state dead;
branches;
next	;


desc
@cake source file 
@


11.3
log
@merge of AUTOCONF branch in to HEAD
@
text
@/*
**	Trail module.
*/

static	char
rcs_id[] = "$Header: /cvs/brlcad/cake/trail.c,v 11.2 1997/05/22 16:57:55 mike Exp $";

#ifdef	CAKEDEBUG
#include	"cake.h"

#define		TRAILSIZE	100

static	int	trail_entries = 0;	/* no. of calls to put_tr */
static	int	slot = 0;		/* next slot		  */
static	char	*trailfunc[TRAILSIZE];	/* functions and events	  */
static	char	*trailevent[TRAILSIZE];	/* init to NULL by C	  */

/*
**	Register this function on the trail.
*/
void
put_trail(func, event)
reg	char	*func;
reg	char	*event;
{
	trailfunc[slot]  = func;
	trailevent[slot] = event;

	trail_entries++;
	if (++slot == TRAILSIZE)
		slot = 0;
}

/*
**	Print the trail on the given file.
*/
void
get_trail(fp)
reg	FILE	*fp;
{
	reg	int	maxent;

	fprintf(fp, "^^^^^^^^^^^^^^^^^^^ TRAIL ^^^^^^^^^^^^^^^^^^^\n");
	fprintf(fp, "%d entries\n", trail_entries);

	maxent = (trail_entries < TRAILSIZE)? trail_entries: TRAILSIZE;
	while (maxent-- > 0)
	{
		if (--slot == -1)
			slot = TRAILSIZE - 1;

		fprintf(fp, "%s %s\n", trailfunc[slot], trailevent[slot]);
	}
}
#endif
@


11.2
log
@Added (void) declarations for IRIX 6 compiler.
@
text
@d6 1
a6 1
rcs_id[] = "$Header: /m/cad/cake/RCS/trail.c,v 11.1 1995/01/05 06:00:13 mike Rel4_4 mike $";
@


11.2.14.1
log
@merge from head
@
text
@d6 1
a6 1
rcs_id[] = "$Header: /cvs/brlcad/cake/trail.c,v 11.2 1997/05/22 16:57:55 mike Exp $";
@


11.1
log
@Release_4_4
@
text
@d6 1
a6 1
rcs_id[] = "$Header: /n/spark/m/cad/cake/RCS/trail.c,v 1.1 88/06/11 00:56:34 mike Original $";
d21 1
a21 1

d37 1
a37 1

@


1.1
log
@Original CAKE version from net.sources
@
text
@d6 1
a6 1
rcs_id[] = "$Header: /mip/zs/src/sys/cake/RCS/trail.c,v 1.14 86/07/19 12:24:19 zs Exp $";
@
